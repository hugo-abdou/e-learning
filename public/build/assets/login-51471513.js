import{d as T,r as p,l as R,m as S,N,a as B,o as F,c as L,e as o,b as a,q as e,O as V,f as s,ba as U,J as f,bb as M,y as i,z as h,bf as v,bd as P,al as $,b9 as j,bM as z}from"./main-2d2efdef.js";import{_ as q}from"./AppTextField.vue_vue_type_script_setup_true_lang-235432c3.js";import{r as w,e as A}from"./validators-753247d6.js";import{_ as D}from"./AuthProvider.vue_vue_type_script_setup_true_lang-e69b7615.js";import{a as E,b as H}from"./auth-v1-top-shape-c5f58476.js";import{V as _}from"./VNodeRenderer-5b283f3f.js";import{V as I}from"./VForm-d1b03105.js";import{V as J,a as d}from"./VRow-b362c44e.js";import{V as O}from"./VCheckbox-2b803ef7.js";import{V as x}from"./VDivider-56b2b415.js";import"./VInput-84038333.js";import"./VTextField-a58b9262.js";import"./VField-92f9d8a9.js";import"./VCheckboxBtn-c66b2d93.js";import"./VSelectionControl-23864fe7.js";const W={class:"auth-wrapper d-flex align-center justify-center pa-4"},G={class:"position-relative my-sm-16"},K={class:"d-flex"},Q={class:"text-h5 mb-1"},X={class:"text-capitalize"},Y=o("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),Z={class:"d-flex align-center justify-space-between flex-wrap mt-2 mb-4"},ee=o("span",null,"New on our platform?",-1),ae=o("span",{class:"text-primary ms-2"}," Create an account ",-1),se=o("span",{class:"mx-4"},"or",-1),ve=T({__name:"login",setup(te){const r=p({email:"",password:"",remember:!1}),u=p({email:void 0,password:void 0}),m=p(!1);R();const y=S(),c=p(),g=N(),C=async()=>{if(c.value)try{const{valid:t}=await c.value.validate();t&&(await z.getAccessToken(r.value.email,r.value.password),await g.refreshUser(),y.push({name:"dashboard"}))}catch(t){if(!(t!=null&&t.status))throw t;u.value.email=t._data.message}};return(t,l)=>{const b=q,k=B("RouterLink");return F(),L("div",W,[o("div",G,[a(e(_),{nodes:("h"in t?t.h:e(V))("div",{innerHTML:e(E)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),a(e(_),{nodes:("h"in t?t.h:e(V))("div",{innerHTML:e(H)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),a(j,{class:"auth-card pa-4","max-width":"448"},{default:s(()=>[a(U,{class:"justify-center"},{prepend:s(()=>[o("div",K,[a(e(_),{nodes:e(f).app.logo},null,8,["nodes"])])]),default:s(()=>[a(M,{class:"font-weight-bold text-capitalize text-h5 py-1"},{default:s(()=>[i(h(e(f).app.title),1)]),_:1})]),_:1}),a(v,{class:"pt-1"},{default:s(()=>[o("h5",Q,[i(" Welcome to "),o("span",X,h(e(f).app.title),1),i("! 👋🏻 ")]),Y]),_:1}),a(v,null,{default:s(()=>[a(e(I),{ref_key:"refVForm",ref:c,onSubmit:P(C,["prevent"])},{default:s(()=>[a(J,null,{default:s(()=>[a(d,{cols:"12"},{default:s(()=>[a(b,{modelValue:e(r).email,"onUpdate:modelValue":l[0]||(l[0]=n=>e(r).email=n),autofocus:"",label:"Email",type:"email",rules:[e(w),e(A)],"error-messages":e(u).email,autocomplete:"username"},null,8,["modelValue","rules","error-messages"])]),_:1}),a(d,{cols:"12"},{default:s(()=>[a(b,{modelValue:e(r).password,"onUpdate:modelValue":l[1]||(l[1]=n=>e(r).password=n),label:"Password",type:e(m)?"text":"password","append-inner-icon":e(m)?"tabler-eye-off":"tabler-eye",rules:[e(w)],"error-messages":e(u).password,autocomplete:"current-password","onClick:appendInner":l[2]||(l[2]=n=>m.value=!e(m))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"]),o("div",Z,[a(O,{modelValue:e(r).remember,"onUpdate:modelValue":l[3]||(l[3]=n=>e(r).remember=n),label:"Remember me"},null,8,["modelValue"]),a(k,{class:"text-primary ms-2 mb-1",to:{name:"forgot-password"}},{default:s(()=>[i(" Forgot Password? ")]),_:1})]),a($,{block:"",type:"submit"},{default:s(()=>[i(" Login ")]),_:1})]),_:1}),a(d,{cols:"12",class:"text-center text-base"},{default:s(()=>[ee,ae]),_:1}),a(d,{cols:"12",class:"d-flex align-center"},{default:s(()=>[a(x),se,a(x)]),_:1}),a(d,{cols:"12",class:"text-center"},{default:s(()=>[a(D)]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])}}});export{ve as default};

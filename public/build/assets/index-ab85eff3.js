import{_ as M}from"./ResponsiveText.vue_vue_type_script_setup_true_lang-fc540f3f.js";import{d as P,l as z,m as A,r as m,N as E,a9 as k,c3 as G,w as D,c4 as F,a as U,o,h as n,f as s,b as a,bb as j,q as t,bm as w,b_ as y,bc as V,bd as q,y as u,z as p,bG as $,be as H,c as b,e as i,V as J,j as K,F as O,k as Q,a4 as h,c5 as W,aU as X,v as Y}from"./main-83f81ad7.js";import{a as Z}from"./formatters-386d1040.js";import{u as ee}from"./useCourseStore-c17730ae.js";import{V as te}from"./VSlideGroup-14ea7fb7.js";import{V as C}from"./VDivider-1b4c54ac.js";import{a as ae,V as se}from"./VRow-4a6d7b26.js";import{V as oe}from"./VSlideGroupItem-3141f46e.js";import"./VMenu-2063156d.js";import"./VList-26f98dda.js";import"./ssrBoot-7be77cee.js";const re={key:1},le={class:"d-flex flex-column"},ie={class:"text-base"},ne=i("p",{class:"text-xs"},"Lorem ipsum dolor sit amet",-1),ce={class:"mb-0 pt-1"},ue={class:"d-flex flex-wrap mt-5"},de={class:"me-5"},me={class:"text-nowrap"},pe={class:"text-nowrap"},fe={class:"text-nowrap"},_e={class:"text-nowrap"},he={class:"text-nowrap"},Ie=P({__name:"index",setup(ye){const S=z(),B=A(),f=m(!1),L=ee(),r=m();m([]);const x=m(!1),_=m();m();const N=E(),v=m(),R=k(()=>{var l,c;return[{title:"edit",_if:N.user.id===((l=r.value)==null?void 0:l.author.id),props:{to:{name:"course-id-edit",params:{id:(c=r.value)==null?void 0:c.id}},"prepend-icon":"mdi-edit"}},{title:"share",_if:!0,props:{"prepend-icon":"tabler-share"}}]});return k(()=>{if(!_.value)return{};if(_.value.type===G.video)return{onReady:l=>{var c;return v.value=(c=l.target)==null?void 0:c.plyr},onEnded:l=>x.value=!0,onPause:l=>_.value.playing=!1,onPlay:l=>_.value.playing=!0}}),D(_,l=>{l&&l.type==="video"&&(setTimeout(()=>{var c;(c=v.value)==null||c.play()},500),x.value=!1)}),F(async()=>{f.value=!0;try{r.value=await L.getCourse(S.params.id)}catch{B.push({name:"course"})}f.value=!1}),(l,c)=>{const T=M,I=U("RouterLink");return o(),n(se,null,{default:s(()=>[a(ae,{cols:"12"},{default:s(()=>[a(j,null,{default:s(()=>{var e;return[t(f)?(o(),n(t(y),{key:1,type:["image","image"]})):(o(),n(w,{key:0,src:(e=t(r))==null?void 0:e.thumbnail,style:{"aspect-ratio":"16/9"},cover:""},null,8,["src"]))]}),_:1}),t(f)?(o(),n(t(y),{key:1,type:["heading","list-item-avatar-three-line"]})):(o(),n(V,{key:0},{default:s(()=>[a(q,{class:"text-capitalize text-h3 text-wrap d-flex"},{default:s(()=>{var e;return[a(T,{"max-lines":2,"char-width":3.5,text:((e=t(r))==null?void 0:e.title)||""},{default:s(({text:d})=>[u(p(d),1)]),_:1},8,["text"])]}),_:1}),a($,{class:"d-flex mt-3 px-1 align-center"},{default:s(()=>[a(H,{size:"35",class:"me-2"},{default:s(()=>{var e,d,g;return[(e=t(r))!=null&&e.author.profile_photo_url?(o(),n(w,{key:0,src:(d=t(r))==null?void 0:d.author.profile_photo_url,cover:""},null,8,["src"])):(o(),b("span",re,p(t(Z)(((g=t(r))==null?void 0:g.author.name)||"")),1))]}),_:1}),i("div",le,[i("h6",ie,[a(I,{to:"#",class:"font-weight-medium user-list-name text-grey-600"},{default:s(()=>{var e;return[u(p((e=t(r))==null?void 0:e.author.name),1)]}),_:1})]),ne]),a(J),a(te,{"show-arrows":"","center-active":""},{default:s(()=>[(o(!0),b(O,null,K(t(R).filter(({_if:e})=>e),e=>(o(),n(oe,{key:e.title},{default:s(()=>[a(X,Y(e.props,{class:"ma-1"}),{default:s(()=>[u(p(e.title),1)]),_:2},1040)]),_:2},1024))),128))]),_:1}),Q("",!0)]),_:1})]),_:1})),a(C,{class:"mx-6"}),t(f)?(o(),n(t(y),{key:3,class:"py-5",type:["heading","paragraph"]})):(o(),n(V,{key:2,title:"About this course"},{default:s(()=>{var e;return[i("p",ce,p((e=t(r))==null?void 0:e.description),1)]}),_:1})),a(C,{class:"mx-6"}),t(f)?(o(),n(t(y),{key:5,class:"py-5",type:["heading","paragraph"]})):(o(),n(V,{key:4,title:"By the numbers"},{default:s(()=>{var e,d;return[i("div",ue,[i("div",de,[i("p",me,[a(h,{icon:"mdi-check-all",class:"me-2 mt-n2"}),u(" Skill level: "+p((e=t(r))==null?void 0:e.difficulty),1)]),i("p",pe,[a(h,{icon:"mdi-users",class:"me-2 mt-n2"}),u("Students: 38,815 ")]),i("p",fe,[a(h,{icon:"mdi-flag",class:"me-2 mt-n2"}),u("Languages: English ")])]),i("div",null,[i("p",_e,[a(h,{icon:"mdi-pencil",class:"me-2 mt-n2"}),u("Lectures: 19 ")]),i("p",he,[a(h,{icon:"mdi-clock",class:"me-2 mt-n2"}),u("Video: "+p(t(W)(((d=t(r))==null?void 0:d.duration)||0))+" total minutes ",1)])])])]}),_:1}))]),_:1})]),_:1})}}});export{Ie as default};

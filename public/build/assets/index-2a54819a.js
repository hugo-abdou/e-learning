import{_ as D}from"./CoursePlayList.vue_vue_type_script_setup_true_lang-a9d5edb5.js";import{_ as F}from"./ResponsiveText.vue_vue_type_script_setup_true_lang-fde6db9d.js";import{d as $,l as q,m as O,r as m,N as H,a9 as L,c3 as J,w as K,c4 as Q,a as W,o,h as r,f as s,b as a,bb as X,q as e,bh as Y,e as i,c5 as Z,v as S,am as k,y as u,c as V,k as B,b_ as y,bc as g,bd as ee,z as f,bG as te,be as ae,bm as se,V as oe,j as le,F as re,a4 as v,c6 as ie,b4 as ne,aU as ce}from"./main-de81c04a.js";import{a as de}from"./formatters-386d1040.js";import{u as ue}from"./useCourseStore-458c7fca.js";import{V as pe}from"./VSlideGroup-37f5fce8.js";import{V as T}from"./VDivider-faf1c2d7.js";import{a as R,V as me}from"./VRow-712fdf8b.js";import{V as fe}from"./VSlideGroupItem-3f7ec3ae.js";import"./VMenu-e0abccb1.js";import"./VList-2584110e.js";import"./InfoTooltip.vue_vue_type_script_setup_true_lang-5436e5d8.js";import"./VTooltip-3bc1a349.js";import"./ActionButton-7996e9d4.js";import"./ssrBoot-7790c7e6.js";const _e={class:"position-relative"},he={key:0,class:"position-absolute w-100 h-100 d-flex gap-1 align-center justify-center",style:{"background-color":"rgba(0, 0, 0, 56.8%)",inset:"0"}},ye={key:1},ve={class:"d-flex flex-column"},xe={class:"text-base"},ke=i("p",{class:"text-xs"},"Lorem ipsum dolor sit amet",-1),Ve={class:"mb-0 pt-1"},ge={class:"d-flex flex-wrap mt-5"},be={class:"me-5"},we={class:"text-nowrap"},Ce={class:"text-nowrap"},Le={class:"text-nowrap"},Se={class:"text-nowrap"},Be={class:"text-nowrap"},Te={class:"position-sticky",style:{"inset-block-start":"90px"}},Ke=$({__name:"index",setup(Re){const N=q(),I=O(),_=m(!1),M=ue(),n=m();m([]);const h=m(!1),c=m(),b=m(),A=H(),x=m(),P=L(()=>{var l,d;return[{title:"edit",_if:A.user.id===((l=n.value)==null?void 0:l.author.id),props:{to:{name:"course-id-edit",params:{id:(d=n.value)==null?void 0:d.id}},"prepend-icon":"mdi-edit"}},{title:"share",_if:!0,props:{"prepend-icon":"tabler-share"}}]}),z=L(()=>{if(!c.value)return{};if(c.value.type===J.video)return{onReady:l=>{var d;return x.value=(d=l.target)==null?void 0:d.plyr},onEnded:l=>h.value=!0,onPause:l=>c.value.playing=!1,onPlay:l=>c.value.playing=!0}}),w=()=>{b.value.next(),h.value=!1},E=()=>{setTimeout(()=>{var l;(l=x.value)==null||l.play()},500),h.value=!1};return K(c,l=>{l&&l.type==="video"&&(setTimeout(()=>{var d;(d=x.value)==null||d.play()},500),h.value=!1)}),Q(async()=>{_.value=!0;try{n.value=await M.getCourse(N.params.id)}catch{I.push({name:"course"})}_.value=!1}),(l,d)=>{const G=F,U=W("RouterLink"),j=D;return o(),r(me,null,{default:s(()=>[a(R,{cols:"12",md:"8"},{default:s(()=>[a(X,null,{default:s(()=>[!e(_)&&e(c)?(o(),r(Y,{key:0,class:"py-0 px-0"},{default:s(()=>[i("div",_e,[(o(),r(e(Z),S(e(z),{key:e(c).id,"aspect-ratio":"1.77",media:e(c)}),{toolbar:s(()=>[a(k,{variant:"elevated",color:"default","append-icon":"mdi-skip-forward",onClick:w},{default:s(()=>[u(" Continue ")]),_:1})]),_:1},16,["media"])),e(h)?(o(),V("div",he,[a(k,{color:"default","prepend-icon":"mdi-rotate-left",onClick:E},{default:s(()=>[u(" Start Over ")]),_:1}),a(k,{color:"default","append-icon":"mdi-skip-forward",onClick:w},{default:s(()=>[u(" Continue ")]),_:1})])):B("",!0)])]),_:1})):(o(),r(e(y),{key:1,type:["image","image"]}))]),_:1}),e(_)?(o(),r(e(y),{key:1,type:["heading","list-item-avatar-three-line"]})):(o(),r(g,{key:0},{default:s(()=>[a(ee,{class:"text-capitalize text-h3 text-wrap d-flex"},{default:s(()=>{var t;return[a(G,{"max-lines":2,"char-width":3.5,text:((t=e(n))==null?void 0:t.title)||""},{default:s(({text:p})=>[u(f(p),1)]),_:1},8,["text"])]}),_:1}),a(te,{class:"d-flex mt-3 px-1 align-center"},{default:s(()=>[a(ae,{size:"35",class:"me-2"},{default:s(()=>{var t,p,C;return[(t=e(n))!=null&&t.author.profile_photo_url?(o(),r(se,{key:0,src:(p=e(n))==null?void 0:p.author.profile_photo_url,cover:""},null,8,["src"])):(o(),V("span",ye,f(e(de)(((C=e(n))==null?void 0:C.author.name)||"")),1))]}),_:1}),i("div",ve,[i("h6",xe,[a(U,{to:"#",class:"font-weight-medium user-list-name text-grey-600"},{default:s(()=>{var t;return[u(f((t=e(n))==null?void 0:t.author.name),1)]}),_:1})]),ke]),a(oe),a(pe,{"show-arrows":"","center-active":""},{default:s(()=>[(o(!0),V(re,null,le(e(P).filter(({_if:t})=>t),t=>(o(),r(fe,{key:t.title},{default:s(()=>[a(ce,S(t.props,{class:"ma-1"}),{default:s(()=>[u(f(t.title),1)]),_:2},1040)]),_:2},1024))),128))]),_:1}),B("",!0)]),_:1})]),_:1})),a(T,{class:"mx-6"}),e(_)?(o(),r(e(y),{key:3,class:"py-5",type:["heading","paragraph"]})):(o(),r(g,{key:2,title:"About this course"},{default:s(()=>{var t;return[i("p",Ve,f((t=e(n))==null?void 0:t.description),1)]}),_:1})),a(T,{class:"mx-6"}),e(_)?(o(),r(e(y),{key:5,class:"py-5",type:["heading","paragraph"]})):(o(),r(g,{key:4,title:"By the numbers"},{default:s(()=>{var t,p;return[i("div",ge,[i("div",be,[i("p",we,[a(v,{icon:"mdi-check-all",class:"me-2 mt-n2"}),u(" Skill level: "+f((t=e(n))==null?void 0:t.difficulty),1)]),i("p",Ce,[a(v,{icon:"mdi-users",class:"me-2 mt-n2"}),u("Students: 38,815 ")]),i("p",Le,[a(v,{icon:"mdi-flag",class:"me-2 mt-n2"}),u("Languages: English ")])]),i("div",null,[i("p",Se,[a(v,{icon:"mdi-pencil",class:"me-2 mt-n2"}),u("Lectures: 19 ")]),i("p",Be,[a(v,{icon:"mdi-clock",class:"me-2 mt-n2"}),u("Video: "+f(e(ie)(((p=e(n))==null?void 0:p.duration)||0))+" total minutes ",1)])])])]}),_:1}))]),_:1}),a(R,{cols:"12",md:"4"},{default:s(()=>{var t;return[i("div",Te,[e(n)?(o(),r(j,{key:0,selected:e(c),"onUpdate:selected":d[0]||(d[0]=p=>ne(c)?c.value=p:null),"course-id":(t=e(n))==null?void 0:t.id,ref_key:"playList",ref:b},null,8,["selected","course-id"])):(o(),r(e(y),{key:1,type:Array(5).fill("list-item-avatar-three-line")},null,8,["type"]))])]}),_:1})]),_:1})}}});export{Ke as default};

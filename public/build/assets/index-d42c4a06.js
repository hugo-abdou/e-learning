import{_ as G}from"./CoursePlayList.vue_vue_type_script_setup_true_lang-617219b7.js";import{_ as U}from"./ResponsiveText.vue_vue_type_script_setup_true_lang-deac35ce.js";import{d as q,l as O,m as X,r as _,a0 as Y,a7 as L,b_ as H,w as J,bX as K,a as Q,o,h as i,f as s,b as a,b8 as W,q as e,be as Z,e as l,t as S,ak as V,x as u,c as b,k as B,bY as y,b9 as g,ba as ee,y as m,bA as te,bb as ae,bh as se,j as oe,F as re,a1 as v,b$ as ie,b1 as le}from"./main-e240daf5.js";import{a as ne}from"./formatters-386d1040.js";import{M as ce}from"./index-ce27fec7.js";import{u as de}from"./useCourseStore-961c9c02.js";import{V as ue}from"./VSpacer-517dd3fc.js";import{V as pe}from"./VSlideGroup-0c3117e5.js";import{V as T}from"./VDivider-93f95dbb.js";import{a as R,V as me}from"./VRow-aa2cbdf3.js";import{V as fe}from"./VSlideGroupItem-702f09a9.js";import{V as _e}from"./VChip-6e0dcd1f.js";import"./VMenu-949c4526.js";import"./VList-4243452f.js";import{b as M}from"./route-block-83d24a4e.js";import"./InfoTooltip.vue_vue_type_script_setup_true_lang-2b209485.js";import"./VTooltip-7030ecae.js";import"./ActionButton-3dcfae7b.js";import"./utils-860c5d06.js";import"./VPagination-b6aef300.js";const he={class:"position-relative"},ye={key:0,class:"position-absolute w-100 h-100 d-flex gap-1 align-center justify-center",style:{"background-color":"rgba(0, 0, 0, 56.8%)",inset:"0"}},ve={key:1},xe={class:"d-flex flex-column"},ke={class:"text-base"},Ve=l("p",{class:"text-xs"},"Lorem ipsum dolor sit amet",-1),be={class:"mb-0 pt-1"},ge={class:"d-flex flex-wrap mt-5"},we={class:"me-5"},Ce={class:"text-nowrap"},Le={class:"text-nowrap"},Se={class:"text-nowrap"},Be={class:"text-nowrap"},Te={class:"text-nowrap"},Re={class:"position-sticky",style:{"inset-block-start":"90px"}},Me=q({__name:"index",setup(Ne){const N=O(),A=X(),f=_(!1),I=de(),n=_(),h=_(!1),c=_(),w=_(),P=Y(),k=_(),E=L(()=>{var r,d;return[{title:"edit",_if:P.user.id===((r=n.value)==null?void 0:r.author.id),props:{to:{name:"course-id-edit",params:{id:(d=n.value)==null?void 0:d.id}},"prepend-icon":"mdi-edit"}},{title:"share",_if:!0,props:{"prepend-icon":"tabler-share"}}]}),$=L(()=>{if(!c.value)return{};if(c.value.type===H.video)return{onReady:r=>{var d;return k.value=(d=r.target)==null?void 0:d.plyr},onEnded:r=>h.value=!0,onPause:r=>c.value.playing=!1,onPlay:r=>c.value.playing=!0}}),C=()=>{w.value.next(),h.value=!1},j=()=>{setTimeout(()=>{var r;(r=k.value)==null||r.play()},500),h.value=!1};return J(c,r=>{r&&r.type==="video"&&(setTimeout(()=>{var d;(d=k.value)==null||d.play()},500),h.value=!1)}),K(async()=>{f.value=!0;try{n.value=await I.getCourse(Number(N.params.id),{additional:{chapters:!0}})}catch{A.push({name:"course"})}f.value=!1}),(r,d)=>{const z=U,D=Q("RouterLink"),F=G;return o(),i(me,{class:"mx-n10 mx-md-0"},{default:s(()=>[a(R,{cols:"12",md:"8"},{default:s(()=>[a(W,null,{default:s(()=>[!e(f)&&e(c)?(o(),i(Z,{key:0,class:"py-0 px-0"},{default:s(()=>[l("div",he,[(o(),i(ce,S(e($),{key:e(c).id,"aspect-ratio":"1.77",media:e(c)}),{toolbar:s(()=>[a(V,{variant:"elevated",color:"default","append-icon":"mdi-skip-forward",onClick:C},{default:s(()=>[u(" Continue ")]),_:1})]),_:1},16,["media"])),e(h)?(o(),b("div",ye,[a(V,{color:"default","prepend-icon":"mdi-rotate-left",onClick:j},{default:s(()=>[u(" Start Over ")]),_:1}),a(V,{color:"default","append-icon":"mdi-skip-forward",onClick:C},{default:s(()=>[u(" Continue ")]),_:1})])):B("",!0)])]),_:1})):(o(),i(e(y),{key:1,type:["image","image"]}))]),_:1}),e(f)?(o(),i(e(y),{key:1,type:["heading","list-item-avatar-three-line"]})):(o(),i(g,{key:0},{default:s(()=>[a(ee,{class:"text-capitalize text-h3 text-wrap d-flex"},{default:s(()=>{var t;return[a(z,{"max-lines":2,"char-width":3.5,text:((t=e(n))==null?void 0:t.title)||""},{default:s(({text:p})=>[u(m(p),1)]),_:1},8,["text"])]}),_:1}),a(te,{class:"d-flex mt-3 px-1 align-center"},{default:s(()=>[a(ae,{size:"35",class:"me-2"},{default:s(()=>{var t,p,x;return[(t=e(n))!=null&&t.author.profile_photo_url?(o(),i(se,{key:0,src:(p=e(n))==null?void 0:p.author.profile_photo_url,cover:""},null,8,["src"])):(o(),b("span",ve,m(e(ne)(((x=e(n))==null?void 0:x.author.name)||"")),1))]}),_:1}),l("div",xe,[l("h6",ke,[a(D,{to:"#",class:"font-weight-medium user-list-name text-grey-600"},{default:s(()=>{var t;return[u(m((t=e(n))==null?void 0:t.author.name),1)]}),_:1})]),Ve]),a(ue),a(pe,{"show-arrows":"","center-active":""},{default:s(()=>[(o(!0),b(re,null,oe(e(E).filter(({_if:t})=>t),t=>(o(),i(fe,{key:t.title},{default:s(()=>[a(_e,S(t.props,{class:"ma-1"}),{default:s(()=>[u(m(t.title),1)]),_:2},1040)]),_:2},1024))),128))]),_:1}),B("",!0)]),_:1})]),_:1})),a(T,{class:"mx-6"}),e(f)?(o(),i(e(y),{key:3,class:"py-5",type:["heading","paragraph"]})):(o(),i(g,{key:2,title:"About this course"},{default:s(()=>{var t;return[l("p",be,m((t=e(n))==null?void 0:t.description),1)]}),_:1})),a(T,{class:"mx-6"}),e(f)?(o(),i(e(y),{key:5,class:"py-5",type:["heading","paragraph"]})):(o(),i(g,{key:4,title:"By the numbers"},{default:s(()=>{var t,p;return[l("div",ge,[l("div",we,[l("p",Ce,[a(v,{icon:"mdi-check-all",class:"me-2 mt-n2"}),u(" Skill level: "+m((t=e(n))==null?void 0:t.difficulty),1)]),l("p",Le,[a(v,{icon:"mdi-users",class:"me-2 mt-n2"}),u("Students: 38,815 ")]),l("p",Se,[a(v,{icon:"mdi-flag",class:"me-2 mt-n2"}),u("Languages: English ")])]),l("div",null,[l("p",Be,[a(v,{icon:"mdi-pencil",class:"me-2 mt-n2"}),u("Lectures: 19 ")]),l("p",Te,[a(v,{icon:"mdi-clock",class:"me-2 mt-n2"}),u("Video: "+m(e(ie)(((p=e(n))==null?void 0:p.duration)||0))+" total minutes ",1)])])])]}),_:1}))]),_:1}),a(R,{cols:"12",md:"4"},{default:s(()=>{var t,p;return[l("div",Re,[(t=e(n))!=null&&t.chapters?(o(),i(F,{key:0,ref_key:"playList",ref:w,attachment:e(c),"onUpdate:attachment":d[0]||(d[0]=x=>le(c)?c.value=x:null),chapters:(p=e(n))==null?void 0:p.chapters},null,8,["attachment","chapters"])):(o(),i(e(y),{key:1,type:Array(5).fill("list-item-avatar-three-line")},null,8,["type"]))])]}),_:1})]),_:1})}}});typeof M=="function"&&M(Me);export{Me as default};

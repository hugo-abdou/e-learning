import{_ as B}from"./FileUploaderDialog.vue_vue_type_script_setup_true_lang-cb04a084.js";import{_ as D}from"./AppSelect.vue_vue_type_script_setup_true_lang-9bd5cab5.js";import{_ as U}from"./InfoTooltip.vue_vue_type_script_setup_true_lang-947f9f5f.js";import{t as h,c5 as c,bW as k,r as d,w as F,v as m,x as E,n as t,A as a,H as l,z as V,s as b,_ as T,B as I,D as A,C as N,aa as P,E as R,L as S,F as j}from"./plugins-20f6c63a.js";import{r as _}from"./validators-6e538dce.js";import{U as v}from"./utils-75e2a70f.js";import{V as q,a as z}from"./VCard-30e4f82a.js";import{V as L,a as f}from"./VRow-9970c9d9.js";import{b as H}from"./VInput-df115ab9.js";import{V as O}from"./VTextField-24d0bc09.js";import{V as W}from"./VTextarea-de0927b7.js";import{V as G}from"./VForm-d5279851.js";const J={class:"d-flex flex-column align-center"},ne=h({__name:"CourseDetailsForm",props:{course:{default:()=>({description:"",thumbnail:void 0,difficulty:c.Beginner,status:k.Draft,title:"",prerequisite_id:""})}},setup(y,{expose:g,emit:K}){const p=y,r=d(!1),s=d(p.course),u=d({}),$=async()=>{try{const{valid:e}=await u.value.validate();return e?Promise.resolve(s.value):Promise.reject(new Error("validation faild"))}catch(e){throw e}},x=e=>{s.value.thumbnail=e[0].thumb_url,r.value=!1};return g({formEl:u,validate:$}),F(()=>p.course,e=>{s.value=e}),(e,i)=>{const n=U,C=D,w=B;return m(),E(j,null,[t(l(G),{ref_key:"formEl",ref:u},{default:a(()=>[t(q,null,{default:a(()=>[t(z,null,{default:a(()=>[t(L,{class:"mt-0"},{default:a(()=>[t(f,{cols:"12",md:"4"},{default:a(()=>[l(s).thumbnail?(m(),V(T,b({key:0},{...l(v),style:"min-height: 100%",aspectRatio:1.77},{src:l(s).thumbnail,cover:""}),null,16,["src"])):(m(),V(n,{key:1,text:e.$t("media.upload.description")},{default:a(({props:o})=>[t(I,b({...o,...l(v),style:"min-height: 130px"},{onClick:i[0]||(i[0]=M=>r.value=!0)}),{default:a(()=>[A("div",J,[t(N,{icon:"flat-color-icons:add-image",size:"28"}),t(H,{class:"mt-2"},{default:a(()=>[P(R(e.$t("media.thumbnale")),1)]),_:1})])]),_:2},1040)]),_:1},8,["text"]))]),_:1}),t(f,{cols:"12",md:"8"},{default:a(()=>[t(O,{modelValue:l(s).title,"onUpdate:modelValue":i[1]||(i[1]=o=>l(s).title=o),rules:[l(_)],label:e.$t("course.fields.title.label"),class:"mb-5"},{"append-inner":a(()=>[t(n,{text:e.$t("course.fields.title.description")},null,8,["text"])]),_:1},8,["modelValue","rules","label"]),t(W,{modelValue:l(s).description,"onUpdate:modelValue":i[2]||(i[2]=o=>l(s).description=o),rules:[l(_)],label:e.$t("course.fields.description.label")},{"append-inner":a(()=>[t(n,{text:e.$t("course.fields.description.description")},null,8,["text"])]),_:1},8,["modelValue","rules","label"])]),_:1}),t(f,{cols:"12",sm:"6"},{default:a(()=>[t(C,{modelValue:l(s).difficulty,"onUpdate:modelValue":i[3]||(i[3]=o=>l(s).difficulty=o),items:Object.values(l(c)).map(o=>({title:e.$t(`course.fields.difficulty.options.${o}`),value:o})),label:e.$t("course.fields.difficulty.label")},{"append-inner":a(()=>[t(n,{text:e.$t("course.fields.difficulty.description")},null,8,["text"])]),_:1},8,["modelValue","items","label"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),t(w,{"is-dialog-visible":l(r),"onUpdate:isDialogVisible":i[4]||(i[4]=o=>S(r)?r.value=o:null),"allowed-file-types":["image/*"],"max-number-of-files":1,onDone:x},null,8,["is-dialog-visible"])],64)}}});export{ne as _};

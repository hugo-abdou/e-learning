import{d as R,r as p,l as T,m as L,a0 as B,a as F,o as N,c as q,e as r,b as s,q as e,L as h,f as a,b9 as P,H as f,ba as U,x as i,y as v,be as w,bc as j,ak as E,b8 as H}from"./main-e240daf5.js";import{_ as M}from"./AppTextField.vue_vue_type_script_setup_true_lang-c26bd8aa.js";import{r as y,e as $}from"./validators-753247d6.js";import{_ as z}from"./AuthProvider.vue_vue_type_script_setup_true_lang-655db0df.js";import{a as D,b as I}from"./auth-v1-top-shape-c5f58476.js";import{V as _}from"./VNodeRenderer-7024d868.js";import{V as A}from"./VForm-944dec74.js";import{V as W,a as d}from"./VRow-aa2cbdf3.js";import{V as G}from"./VCheckbox-293946df.js";import{V as x}from"./VDivider-93f95dbb.js";import{b as g}from"./route-block-83d24a4e.js";import"./VInput-6831f60a.js";import"./VTextField-d1a10f80.js";import"./VField-5897687c.js";import"./VCheckboxBtn-131bf67b.js";import"./VSelectionControl-766cb909.js";const J={class:"auth-wrapper d-flex align-center justify-center pa-4"},K={class:"position-relative my-sm-16"},O={class:"d-flex"},Q={class:"text-h5 mb-1"},X={class:"text-capitalize"},Y=r("p",{class:"mb-0"},"Please sign-in to your account and start the adventure",-1),Z={class:"d-flex align-center justify-space-between flex-wrap mt-2 mb-4"},ee=r("span",null,"New on our platform?",-1),se=r("span",{class:"text-primary ms-2"}," Create an account ",-1),ae=r("span",{class:"mx-4"},"or",-1),oe=R({__name:"login",setup(te){const l=p({email:"",password:"",remember:!1}),u=p({email:void 0,password:void 0}),m=p(!1),b=T();L();const c=p(),k=B(),C=async()=>{if(c.value)try{const{valid:o}=await c.value.validate();o&&(await k.login(l.value.email,l.value.password),window.location.href=b.query.to?String(b.query.to):"/dashboard")}catch(o){if(!o.response)throw o;const{errors:t}=o.response.data;u.value=t,console.error(o.response.data)}};return(o,t)=>{const V=M,S=F("RouterLink");return N(),q("div",J,[r("div",K,[s(e(_),{nodes:("h"in o?o.h:e(h))("div",{innerHTML:e(D)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),s(e(_),{nodes:("h"in o?o.h:e(h))("div",{innerHTML:e(I)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),s(H,{class:"auth-card pa-4","max-width":"448"},{default:a(()=>[s(P,{class:"justify-center"},{prepend:a(()=>[r("div",O,[s(e(_),{nodes:e(f).app.logo},null,8,["nodes"])])]),default:a(()=>[s(U,{class:"font-weight-bold text-capitalize text-h5 py-1"},{default:a(()=>[i(v(e(f).app.title),1)]),_:1})]),_:1}),s(w,{class:"pt-1"},{default:a(()=>[r("h5",Q,[i(" Welcome to "),r("span",X,v(e(f).app.title),1),i("! 👋🏻 ")]),Y]),_:1}),s(w,null,{default:a(()=>[s(e(A),{ref_key:"refVForm",ref:c,onSubmit:j(C,["prevent"])},{default:a(()=>[s(W,null,{default:a(()=>[s(d,{cols:"12"},{default:a(()=>[s(V,{modelValue:e(l).email,"onUpdate:modelValue":t[0]||(t[0]=n=>e(l).email=n),autofocus:"",label:"Email",type:"email",rules:[e(y),e($)],"error-messages":e(u).email,autocomplete:"username"},null,8,["modelValue","rules","error-messages"])]),_:1}),s(d,{cols:"12"},{default:a(()=>[s(V,{modelValue:e(l).password,"onUpdate:modelValue":t[1]||(t[1]=n=>e(l).password=n),label:"Password",type:e(m)?"text":"password","append-inner-icon":e(m)?"tabler-eye-off":"tabler-eye",rules:[e(y)],"error-messages":e(u).password,autocomplete:"current-password","onClick:appendInner":t[2]||(t[2]=n=>m.value=!e(m))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"]),r("div",Z,[s(G,{modelValue:e(l).remember,"onUpdate:modelValue":t[3]||(t[3]=n=>e(l).remember=n),label:"Remember me"},null,8,["modelValue"]),s(S,{class:"text-primary ms-2 mb-1",to:{name:"forgot-password"}},{default:a(()=>[i(" Forgot Password? ")]),_:1})]),s(E,{block:"",type:"submit"},{default:a(()=>[i(" Login ")]),_:1})]),_:1}),s(d,{cols:"12",class:"text-center text-base"},{default:a(()=>[ee,se]),_:1}),s(d,{cols:"12",class:"d-flex align-center"},{default:a(()=>[s(x),ae,s(x)]),_:1}),s(d,{cols:"12",class:"text-center"},{default:a(()=>[s(z)]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])}}});typeof g=="function"&&g(oe);export{oe as default};

import{_ as U}from"./CoursePlayList.vue_vue_type_script_setup_true_lang-dde40376.js";import{_ as $}from"./ResponsiveText.vue_vue_type_script_setup_true_lang-82612e53.js";import{d as O,k as W,l as X,r as _,b5 as Z,a6 as L,bZ as q,w as H,bW as J,a as K,o,h as i,f as s,b as a,b8 as Q,p as e,be as Y,e as l,s as S,aj as V,v as p,c as b,z as B,bX as y,b9 as g,ba as ee,x as m,bz as te,bb as ae,bh as se,j as oe,F as re,a0 as v,b_ as ie,b0 as le}from"./main-4e7a31bd.js";import{a as ne}from"./formatters-386d1040.js";import{M as ce}from"./index-8d5e44f7.js";import{u as de}from"./useCourseStore-bf6a3685.js";import{V as pe}from"./VSpacer-15ac8d6a.js";import{V as ue}from"./VSlideGroup-864df318.js";import{V as T}from"./VDivider-051c7580.js";import{a as R,V as me}from"./VRow-e008ef3f.js";import{V as fe}from"./VSlideGroupItem-3f6a51e4.js";import{V as _e}from"./VChip-56e38a14.js";import"./VMenu-12ac172d.js";import"./VList-daf5c6ab.js";import{b as M}from"./route-block-83d24a4e.js";import"./InfoTooltip.vue_vue_type_script_setup_true_lang-f8eb8e3d.js";import"./VTooltip-fb5685b7.js";import"./ActionButton-830f0896.js";import"./utils-dcef3610.js";import"./VPagination-6202f7f5.js";const he={class:"position-relative"},ye={key:0,class:"position-absolute w-100 h-100 d-flex gap-1 align-center justify-center",style:{"background-color":"rgba(0, 0, 0, 56.8%)",inset:"0"}},ve={key:1},xe={class:"d-flex flex-column"},ke={class:"text-base"},Ve=l("p",{class:"text-xs"},"Lorem ipsum dolor sit amet",-1),be={class:"mb-0 pt-1"},ge={class:"d-flex flex-wrap mt-5"},we={class:"me-5"},Ce={class:"text-nowrap"},Le={class:"text-nowrap"},Se={class:"text-nowrap"},Be={class:"text-nowrap"},Te={class:"text-nowrap"},Re={class:"position-sticky",style:{"inset-block-start":"90px"}},Me=O({__name:"index",setup(Ne){const N=W(),I=X(),f=_(!1),A=de(),n=_(),h=_(!1),c=_(),w=_(),P=Z(),k=_(),z=L(()=>{var r,d;return[{title:"edit",_if:P.user.id===((r=n.value)==null?void 0:r.author.id),props:{to:{name:"course-id-edit",params:{id:(d=n.value)==null?void 0:d.id}},"prepend-icon":"mdi-edit"}},{title:"share",_if:!0,props:{"prepend-icon":"tabler-share"}}]}),j=L(()=>{if(!c.value)return{};if(c.value.type===q.video)return{onReady:r=>{var d;return k.value=(d=r.target)==null?void 0:d.plyr},onEnded:r=>h.value=!0,onPause:r=>c.value.playing=!1,onPlay:r=>c.value.playing=!0}}),C=()=>{w.value.next(),h.value=!1},E=()=>{setTimeout(()=>{var r;(r=k.value)==null||r.play()},500),h.value=!1};return H(c,r=>{r&&r.type==="video"&&(setTimeout(()=>{var d;(d=k.value)==null||d.play()},500),h.value=!1)}),J(async()=>{f.value=!0;try{n.value=await A.getCourse(Number(N.params.id),{additional:{chapters:!0}})}catch{I.push({name:"course"})}f.value=!1}),(r,d)=>{const D=$,F=K("RouterLink"),G=U;return o(),i(me,{class:"mx-n10 mx-md-0"},{default:s(()=>[a(R,{cols:"12",md:"8"},{default:s(()=>[a(Q,null,{default:s(()=>[!e(f)&&e(c)?(o(),i(Y,{key:0,class:"py-0 px-0"},{default:s(()=>[l("div",he,[(o(),i(ce,S(e(j),{key:e(c).id,"aspect-ratio":"1.77",media:e(c)}),{toolbar:s(()=>[a(V,{variant:"elevated",color:"default","append-icon":"mdi-skip-forward",onClick:C},{default:s(()=>[p(" Continue ")]),_:1})]),_:1},16,["media"])),e(h)?(o(),b("div",ye,[a(V,{color:"default","prepend-icon":"mdi-rotate-left",onClick:E},{default:s(()=>[p(" Start Over ")]),_:1}),a(V,{color:"default","append-icon":"mdi-skip-forward",onClick:C},{default:s(()=>[p(" Continue ")]),_:1})])):B("",!0)])]),_:1})):(o(),i(e(y),{key:1,type:["image","image"]}))]),_:1}),e(f)?(o(),i(e(y),{key:1,type:["heading","list-item-avatar-three-line"]})):(o(),i(g,{key:0},{default:s(()=>[a(ee,{class:"text-capitalize text-h3 text-wrap d-flex"},{default:s(()=>{var t;return[a(D,{"max-lines":2,"char-width":3.5,text:((t=e(n))==null?void 0:t.title)||""},{default:s(({text:u})=>[p(m(u),1)]),_:1},8,["text"])]}),_:1}),a(te,{class:"d-flex mt-3 px-1 align-center"},{default:s(()=>[a(ae,{size:"35",class:"me-2"},{default:s(()=>{var t,u,x;return[(t=e(n))!=null&&t.author.profile_photo_url?(o(),i(se,{key:0,src:(u=e(n))==null?void 0:u.author.profile_photo_url,cover:""},null,8,["src"])):(o(),b("span",ve,m(e(ne)(((x=e(n))==null?void 0:x.author.name)||"")),1))]}),_:1}),l("div",xe,[l("h6",ke,[a(F,{to:"#",class:"font-weight-medium user-list-name text-grey-600"},{default:s(()=>{var t;return[p(m((t=e(n))==null?void 0:t.author.name),1)]}),_:1})]),Ve]),a(pe),a(ue,{"show-arrows":"","center-active":""},{default:s(()=>[(o(!0),b(re,null,oe(e(z).filter(({_if:t})=>t),t=>(o(),i(fe,{key:t.title},{default:s(()=>[a(_e,S(t.props,{class:"ma-1"}),{default:s(()=>[p(m(t.title),1)]),_:2},1040)]),_:2},1024))),128))]),_:1}),B("",!0)]),_:1})]),_:1})),a(T,{class:"mx-6"}),e(f)?(o(),i(e(y),{key:3,class:"py-5",type:["heading","paragraph"]})):(o(),i(g,{key:2,title:"About this course"},{default:s(()=>{var t;return[l("p",be,m((t=e(n))==null?void 0:t.description),1)]}),_:1})),a(T,{class:"mx-6"}),e(f)?(o(),i(e(y),{key:5,class:"py-5",type:["heading","paragraph"]})):(o(),i(g,{key:4,title:"By the numbers"},{default:s(()=>{var t,u;return[l("div",ge,[l("div",we,[l("p",Ce,[a(v,{icon:"mdi-check-all",class:"me-2 mt-n2"}),p(" Skill level: "+m((t=e(n))==null?void 0:t.difficulty),1)]),l("p",Le,[a(v,{icon:"mdi-users",class:"me-2 mt-n2"}),p("Students: 38,815 ")]),l("p",Se,[a(v,{icon:"mdi-flag",class:"me-2 mt-n2"}),p("Languages: English ")])]),l("div",null,[l("p",Be,[a(v,{icon:"mdi-pencil",class:"me-2 mt-n2"}),p("Lectures: 19 ")]),l("p",Te,[a(v,{icon:"mdi-clock",class:"me-2 mt-n2"}),p("Video: "+m(e(ie)(((u=e(n))==null?void 0:u.duration)||0))+" total minutes ",1)])])])]}),_:1}))]),_:1}),a(R,{cols:"12",md:"4"},{default:s(()=>{var t,u;return[l("div",Re,[(t=e(n))!=null&&t.chapters?(o(),i(G,{key:0,ref_key:"playList",ref:w,attachment:e(c),"onUpdate:attachment":d[0]||(d[0]=x=>le(c)?c.value=x:null),chapters:(u=e(n))==null?void 0:u.chapters},null,8,["attachment","chapters"])):(o(),i(e(y),{key:1,type:Array(5).fill("list-item-avatar-three-line")},null,8,["type"]))])]}),_:1})]),_:1})}}});typeof M=="function"&&M(Me);export{Me as default};

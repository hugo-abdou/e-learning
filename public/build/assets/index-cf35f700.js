import{d as K,d4 as O,s as U,t as h,G as T,a7 as W,r as $,o,i as p,y as t,B as s,au as E,aI as q,aT as H,e,w as l,ai as V,as as c,f as r,E as L,aJ as S,aK as Q,D as m,d0 as X,aL as Y,aS as Z,ah as v,dN as B,F as R,j as N,ak as ee,at as te,dV as ae,aW as I}from"./main-6856e496.js";import{u as se}from"./useCourseStore-925d065a.js";import{a as oe}from"./formatters-3b7fec12.js";import{V as g}from"./VSkeletonLoader-a6222a43.js";import{V as le}from"./VSpacer-6c1ac7c1.js";import{V as P}from"./VDivider-42d2cf99.js";import{V as ne,a as ie,b as re,c as ce}from"./VExpansionPanel-62a31f2b.js";import{V as de,a as z}from"./VList-83a806ee.js";import"./ssrBoot-4fa9a4ce.js";const ue={class:"card"},pe={key:0},me={class:"position-relative"},_e={key:0,class:"position-absolute w-100 h-100 d-flex gap-1 align-center justify-center",style:{inset:"0","background-color":"rgba(0, 0, 0, 0.568)"}},fe={key:0},he={class:"d-flex mt-3"},ve={key:1},ye={class:"d-flex flex-column"},xe={class:"text-base"},ke=l("p",{class:"text-xs"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit",-1),Ve={class:"mb-0 pt-1"},ge={class:"d-flex flex-wrap mt-5"},be={class:"me-5"},Ce={class:"text-nowrap"},we={class:"text-nowrap"},Le={class:"text-nowrap"},Se={class:"text-nowrap"},Te={class:"text-nowrap"},Ee={class:"position-sticky",style:{top:"90px"}},Be=K({__name:"index",setup(Re){const D=O(),j=U(),A=se(),n=h(),b=h([]),d=h(0),y=T(()=>!!n.value),x=h(!1),C=h(),w=T(()=>b.value[d.value]),F=()=>{x.value=!1,d.value++,setTimeout(()=>C.value.player.play(),50)},M=()=>{x.value=!1,setTimeout(()=>C.value.player.play(),50)};return W(async()=>{try{n.value=await A.getCourse(Number(D.params.id),{additional:{chapters:!0}}),n.value&&(b.value=n.value.chapters.reduce((k,{video:u})=>(u&&k.push(u),k),[]))}catch{j.push({name:"course"})}}),(k,u)=>{const G=ae,J=$("RouterLink");return o(),p("div",ue,[t(te,null,{default:s(()=>[t(E,{cols:"12",md:"8"},{default:s(()=>[t(q,null,{default:s(()=>[t(H,{class:"py-0 px-0"},{default:s(()=>{var a;return[e(w)&&e(y)?(o(),p("div",pe,[l("div",me,[t(G,{ref_key:"plyr",ref:C,onEnded:u[0]||(u[0]=i=>x.value=!0),src:e(w).url,poster:e(w).thumb_url,title:(a=e(n))==null?void 0:a.title},null,8,["src","poster","title"]),e(x)?(o(),p("div",_e,[t(V,{onClick:M,color:"default","prepend-icon":"mdi-rotate-left"},{default:s(()=>[c(" Start Over ")]),_:1}),e(d)<e(b).length-1?(o(),r(V,{key:0,onClick:F,color:"default","append-icon":"mdi-skip-forward"},{default:s(()=>[c(" Continue ")]),_:1})):L("",!0)])):L("",!0)])])):(o(),r(e(g),{key:1,type:["image","image"]}))]}),_:1}),t(S,null,{append:s(()=>[t(V,{color:"default",variant:"text",size:"28",icon:"tabler-share"}),t(V,{color:"default",variant:"text",size:"28",icon:"tabler-bookmarks"})]),default:s(()=>[e(y)?(o(),p("div",fe,[t(Q,{class:"text-capitalize text-h3"},{default:s(()=>{var a;return[c(m((a=e(n))==null?void 0:a.title),1)]}),_:1}),t(X,{class:"d-flex align-center"},{default:s(()=>[l("div",he,[t(Y,{size:"35",class:"me-2"},{default:s(()=>{var a,i,_;return[(a=e(n))!=null&&a.author.profile_photo_url?(o(),r(Z,{key:0,src:(i=e(n))==null?void 0:i.author.profile_photo_url,cover:""},null,8,["src"])):(o(),p("span",ve,m(e(oe)(((_=e(n))==null?void 0:_.author.name)||"")),1))]}),_:1}),l("div",ye,[l("h6",xe,[t(J,{to:"#",class:"font-weight-medium user-list-name text-grey-600"},{default:s(()=>{var a;return[c(m((a=e(n))==null?void 0:a.author.name),1)]}),_:1})]),ke])])]),_:1})])):(o(),r(e(g),{key:1,type:["heading","list-item-avatar-three-line"]})),t(le)]),_:1}),t(P,{class:"mx-6"}),e(y)?(o(),r(S,{key:0,title:"About this course"},{default:s(()=>{var a;return[l("p",Ve,m((a=e(n))==null?void 0:a.description),1)]}),_:1})):(o(),r(e(g),{key:1,class:"py-5",type:["heading","paragraph"]})),t(P,{class:"mx-6"}),e(y)?(o(),r(S,{key:2,title:"By the numbers"},{default:s(()=>{var a,i;return[l("div",ge,[l("div",be,[l("p",Ce,[t(v,{icon:"mdi-check-all",class:"me-2 mt-n2"}),c(" Skill level: "+m((a=e(n))==null?void 0:a.difficulty),1)]),l("p",we,[t(v,{icon:"mdi-users",class:"me-2 mt-n2"}),c("Students: 38,815")]),l("p",Le,[t(v,{icon:"mdi-flag",class:"me-2 mt-n2"}),c("Languages: English")])]),l("div",null,[l("p",Se,[t(v,{icon:"mdi-pencil",class:"me-2 mt-n2"}),c("Lectures: 19")]),l("p",Te,[t(v,{icon:"mdi-clock",class:"me-2 mt-n2"}),c("Video: "+m(e(B)(((i=e(n))==null?void 0:i.duration)||0))+" total minutes ",1)])])])]}),_:1})):(o(),r(e(g),{key:3,class:"py-5",type:["heading","paragraph"]}))]),_:1})]),_:1}),t(E,{cols:"12",md:"4"},{default:s(()=>[l("div",Ee,[t(ne,{variant:"accordion"},{default:s(()=>{var a;return[(o(!0),p(R,null,N((a=e(n))==null?void 0:a.chapters,(i,_)=>(o(),r(ie,{key:i.id},{default:s(()=>[t(re,null,{default:s(()=>[c(m(i.title),1)]),_:2},1024),t(ce,null,{default:s(()=>[t(de,{multiple:!1,selected:e(d),"onUpdate:selected":u[1]||(u[1]=f=>ee(d)?d.value=f:null)},{default:s(()=>[i.video&&i.video.type==="video"?(o(),r(z,{key:0,"prepend-icon":"tabler-play",value:_,active:e(d)===_,rounded:"lg",variant:"tonal",title:i.video.name,subtitle:e(B)(i.video.duration)},null,8,["value","active","title","subtitle"])):L("",!0),(o(!0),p(R,null,N(i.documents,f=>(o(),r(z,{"prepend-icon":"fluent:document-16-regular",key:f.id,value:f.id,disabled:"",rounded:"shaped",title:f.name},null,8,["value","title"]))),128))]),_:2},1032,["selected"])]),_:2},1024)]),_:2},1024))),128))]}),_:1})])]),_:1})]),_:1})])}}});typeof I=="function"&&I(Be);export{Be as default};

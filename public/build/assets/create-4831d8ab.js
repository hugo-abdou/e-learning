import{_ as oe}from"./DateTimePicker.vue_vue_type_style_index_0_lang-9617c6d4.js";import{d as D,t as y,cd as le,L as ae,o as i,f as _,B as t,y as e,aq as H,i as b,F as T,j as J,ar as I,m as L,z as U,e as o,x as ie,w as c,E as S,D as h,ah as g,G as w,av as ne,I as B,aM as re,cK as O,s as ue,cY as ce,af as R,ap as V,cZ as G,aV as j}from"./main-0fb5c6c1.js";import{V as de}from"./VInput-e0df6d44.js";import{a as pe,V as me}from"./VRadioGroup-a167165c.js";import{V as _e,a as M,b as Z,c as q,_ as ve}from"./CourseChaptersForm.vue_vue_type_script_setup_true_lang-de06a9cb.js";import{_ as fe}from"./CourseDetailsForm.vue_vue_type_script_setup_true_lang-9533bead.js";import{V as he}from"./VSlideGroupItem-8b3755f5.js";import{V as be}from"./VSlideGroup-7dea807f.js";import{u as ye}from"./useCourseStore-bcb65a48.js";import{V as Ve,a as F}from"./VWindowItem-74ebafaa.js";import{V as ge}from"./FileUploaderDialog.vue_vue_type_script_setup_true_lang-b5be49e2.js";import"./VCheckboxBtn-519cbdc3.js";import"./InfoTooltip.vue_vue_type_script_setup_true_lang-5b9b39a6.js";import"./VTooltip-77b464e2.js";import"./ActionButton-8a4a1c1c.js";import"./validators-f52bbb1d.js";import"./index-7381233a.js";import"./VChip-3b2a7de1.js";import"./VSpacer-a52f38da.js";import"./VPagination-765357c7.js";import"./VMenu-0d165f1d.js";import"./VList-48ccb2a7.js";import"./VDivider-840de6e4.js";import"./VTextField-532f6e97.js";import"./VSelect-4aaf1ab0.js";import"./VSwitch-080b758b.js";import"./VForm-9682cdf4.js";import"./AppSelect.vue_vue_type_script_setup_true_lang-2d20289e.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-2f8d64a7.js";import"./VCheckbox-4c0a37b3.js";import"./lodash-f161a86d.js";const Se={class:"d-flex flex-column align-center text-center gap-2"},xe={class:"cr-title text-base"},Ce={class:"text-sm mb-0 clamp-text"},ke={class:"d-none"},we=D({__name:"CustomRadiosWithIcon",props:{selectedRadio:null,radioContent:null,gridColumn:null},emits:["update:selectedRadio"],setup(z,{emit:n}){const s=z,l=y(structuredClone(le(s.selectedRadio)));return ae(l,()=>{n("update:selectedRadio",l.value)}),($,v)=>s.radioContent?(i(),_(me,{key:0,modelValue:o(l),"onUpdate:modelValue":v[0]||(v[0]=a=>g(l)?l.value=a:null)},{default:t(()=>[e(H,null,{default:t(()=>[(i(!0),b(T,null,J(s.radioContent,a=>(i(),_(I,L({key:a.title},z.gridColumn),{default:t(()=>[e(de,{class:U(["custom-input custom-radio-icon rounded cursor-pointer",o(l)===a.value?"active":""])},{default:t(()=>[ie($.$slots,"default",{item:a},()=>[c("div",Se,[e(S,L(a.icon,{class:"text-high-emphasis"}),null,16),c("h6",xe,h(a.title),1),c("p",Ce,h(a.desc),1)])],!0),c("div",ke,[e(pe,{value:a.value},null,8,["value"])])]),_:2},1032,["class"])]),_:2},1040))),128))]),_:3})]),_:3},8,["modelValue"])):w("",!0)}});const ze=ne(we,[["__scopeId","data-v-277f17a6"]]),$e=["onClick"],Re={key:0,class:"stepper-icon-step text-high-emphasis d-flex align-center gap-2"},Ee={class:"stepper-icon"},Ie={class:"stepper-title font-weight-medium mb-0"},Pe={key:0,class:"stepper-subtitle text-wrap d-block"},Ae={class:"text-sm"},Be={key:1,class:"d-flex align-center gap-x-2"},Fe={class:"d-flex align-center gap-2"},Te={class:"d-flex align-center justify-center",style:{"block-size":"24px","inline-size":"24px"}},Ue={key:0,class:"stepper-step-indicator"},De={class:"text-h4 step-number"},Ne={style:{"line-height":"0"}},We={class:"text-sm font-weight-medium step-title"},Le={key:0,class:"text-xs step-subtitle text-wrap d-block"},Oe={key:0,class:"stepper-step-line"},Ge=D({__name:"AppStepper",props:{items:null,currentStep:{default:0},direction:{default:"horizontal"},iconSize:{default:52},isActiveStepValid:{type:Boolean,default:void 0}},emits:["update:currentStep"],setup(z,{emit:n}){const s=z,l=y(s.currentStep||0),$=B(()=>r=>r<l.value?"stepper-steps-completed":r===l.value?"stepper-steps-active":""),v=B(()=>r=>s.direction==="horizontal"&&s.items.length-1!==r),a=B(()=>s.isActiveStepValid!==void 0);return re(()=>{s.currentStep!==void 0&&s.currentStep<s.items.length&&s.currentStep>=0&&(l.value=s.currentStep),n("update:currentStep",l.value)}),(r,x)=>(i(),_(be,{modelValue:o(l),"onUpdate:modelValue":x[0]||(x[0]=p=>g(l)?l.value=p:null),class:"app-stepper","show-arrows":"",direction:s.direction},{default:t(()=>[(i(!0),b(T,null,J(s.items,(p,m)=>(i(),_(he,{key:p.title,value:m},{default:t(()=>[c("div",{class:U(["cursor-pointer mx-1",[!s.isActiveStepValid&&o(a)&&"stepper-steps-invalid",o($)(m)]]),style:{"max-width":"400px"},onClick:N=>!o(a)&&n("update:currentStep",m)},[p.icon?(i(),b("div",Re,[c("div",{class:U(["d-flex align-center gap-4 step-wrapper",[s.direction==="horizontal"&&"flex-column"]])},[c("div",Ee,[e(S,{icon:p.icon,size:p.size||s.iconSize},null,8,["icon","size"])]),c("div",null,[c("p",Ie,h(r.$t(p.title)),1),p.subtitle?(i(),b("span",Pe,[c("span",Ae,h(r.$t(p.subtitle)),1)])):w("",!0)])],2),o(v)(m)?(i(),_(S,{key:0,class:"flip-in-rtl stepper-chevron-indicator mx-6",size:"24",icon:"tabler-chevron-right"})):w("",!0)])):(i(),b("div",Be,[c("div",Fe,[c("div",Te,[m>=o(l)?(i(),b(T,{key:0},[!o(a)||s.isActiveStepValid||m!==o(l)?(i(),b("div",Ue)):(i(),_(S,{key:1,icon:"tabler-alert-circle",size:"24",color:"error"}))],64)):(i(),_(S,{key:1,icon:"custom-check-circle",class:"stepper-step-icon",size:"24"}))]),c("h4",De,h((m+1).toString().padStart(2,"0")),1)]),c("div",Ne,[c("h6",We,h(r.$t(p.title)),1),p.subtitle?(i(),b("span",Le,h(r.$t(p.subtitle)),1)):w("",!0)]),o(v)(m)?(i(),b("div",Oe)):w("",!0)]))],10,$e)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","direction"]))}});const je={class:"d-flex justify-space-between mt-8"},Me=D({__name:"create",setup(z){const n=y(2),s=y("publish"),l=y("private"),$=[{title:"Private",desc:"Only you and people you choose can watch your video",value:O.Private,icon:{icon:"carbon:virtual-private-cloud",size:"28"}},{title:"Publish",desc:"Everyone can watch your video",value:O.Published,icon:{icon:"mdi-public",size:"28"}}],v=y(new Date().toISOString()),a=y([{id:1,icon:"tabler-clipboard",title:"course.steps.details.title",subtitle:"course.steps.details.subtitle",component:null},{id:2,icon:"grommet-icons:chapter-add",title:"course.steps.chapters.title",subtitle:"course.steps.chapters.subtitle",component:null},{id:3,icon:"mdi-publish",title:"course.steps.visibility.title",subtitle:"course.steps.visibility.subtitle",component:null}]),r=y(),x=y("list"),p=ue(),m=ye(),N=async()=>{var d,E;const f=a.value[n.value];try{if(f.id===1){const C=await((d=f.component)==null?void 0:d.validate());r.value=await m.createCourse(C)}if(f.id===2&&r.value){const P=(await((E=f.component)==null?void 0:E.validate())).map((k,u)=>{const W={};return k.attachments.forEach(({name:Y,id:Q,type:X,download:ee,visibility:te,watermark:se})=>{W[Q]={name:Y,type:X,download:ee,visibility:JSON.stringify(te),watermark:se}}),{...k,attachments:W,order:u}}),A=r.value.id;await Promise.all(P.map(k=>m.createChapter(A,k)))}a.value.length-1>n.value&&n.value++}catch(C){console.error(C)}},K=async()=>{try{if(!r.value)throw new Error("Course not Found");s.value==="schedule"&&await m.scheduleCourse(r.value.id,v.value),s.value==="publish"&&await m.publishCourse(r.value.id,l.value),p.push({name:"course"})}catch(f){throw f}};return(f,d)=>{const E=Ge,C=fe,P=ve,A=ze,k=oe;return i(),_(ge,null,{default:t(()=>[e(H,{align:"center"},{default:t(()=>[e(I,{cols:"8"},{default:t(()=>[e(E,{"current-step":o(n),direction:"horizontal",items:o(a),"icon-size":"22",class:"stepper-icon-step-bg"},null,8,["current-step","items"])]),_:1}),o(n)===1?(i(),_(I,{key:0},{default:t(()=>[e(ce,{modelValue:o(x),"onUpdate:modelValue":d[0]||(d[0]=u=>g(x)?x.value=u:null),divided:"",color:"primary",variant:"outlined",class:"mx-auto"},{default:t(()=>[e(R,{value:"list",icon:"mdi-list-box-outline"}),e(R,{value:"grid",icon:"mdi-grid-large"})]),_:1},8,["modelValue"])]),_:1})):w("",!0),e(I,{cols:"12"},{default:t(()=>[e(Ve,{modelValue:o(n),"onUpdate:modelValue":d[4]||(d[4]=u=>g(n)?n.value=u:null),class:"disable-tab-transition stepper-content mt-5"},{default:t(()=>[e(F,null,{default:t(()=>[e(C,{ref:u=>o(a)[0].component=u},null,512)]),_:1}),e(F,null,{default:t(()=>[e(P,{ref:u=>o(a)[1].component=u},null,512)]),_:1}),e(F,null,{default:t(()=>[e(_e,{mandatory:"force",modelValue:o(s),"onUpdate:modelValue":d[3]||(d[3]=u=>g(s)?s.value=u:null),style:{"max-width":"500px","margin-inline":"auto"},variant:"accordion"},{default:t(()=>[e(M,{value:"publish"},{default:t(()=>[e(Z,null,{default:t(()=>[V(" Save or publish ")]),_:1}),e(G,{class:"mb-2"},{default:t(()=>[V("Make your video public or private")]),_:1}),e(q,null,{default:t(()=>[e(A,{"selected-radio":o(l),"onUpdate:selectedRadio":d[1]||(d[1]=u=>g(l)?l.value=u:null),"radio-content":$,"grid-column":{md:"6"}},null,8,["selected-radio"])]),_:1})]),_:1}),e(M,{value:"schedule"},{default:t(()=>[e(Z,null,{default:t(()=>[V(" Schedule ")]),_:1}),e(G,{class:"mb-2"},{default:t(()=>[V("Select a date to make your video public.")]),_:1}),e(q,null,{default:t(()=>[e(k,{style:{width:"min-content"},modelValue:o(v),"onUpdate:modelValue":d[2]||(d[2]=u=>g(v)?v.value=u:null),config:{inline:!0,enableTime:!0,dateFormat:"Z"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),c("div",je,[e(R,{variant:"plain",color:"secondary",disabled:o(n)===0,onClick:d[5]||(d[5]=u=>n.value--)},{default:t(()=>[e(S,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),V(" "+h(f.$t("previous")),1)]),_:1},8,["disabled"]),o(a).length-1===o(n)?(i(),_(R,{key:0,"append-icon":"tabler-check",color:"success",onClick:K},{default:t(()=>[V(h(f.$t(o(s))),1)]),_:1})):(i(),_(R,{key:1,variant:"plain",onClick:N},{default:t(()=>[V(h(f.$t("next"))+" ",1),e(S,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1}))])]),_:1})]),_:1})]),_:1})}}});typeof j=="function"&&j(Me);export{Me as default};

import{d as S,bA as B,s as i,az as R,q as T,r as L,o as j,g as F,v as n,x as s,e,h as V,V as m,z as a,aL as I,B as v,aM as M,au as _,C as y,aZ as b,aO as $,av as q,aw as u,ak as z,aj as U,aK as A,a$ as k}from"./main-0fe8d6c4.js";import{_ as E}from"./AppTextField.vue_vue_type_script_setup_true_lang-33f290d3.js";import{a as H,b as D}from"./auth-v1-top-shape-c5f58476.js";import{r as g,c as K}from"./validators-f52bbb1d.js";import{V as O}from"./VForm-f9b24d4e.js";import"./VTextField-8e9e4f53.js";const Z={class:"auth-wrapper d-flex align-center justify-center pa-4"},G={class:"position-relative my-sm-16"},J={class:"d-flex"},Q=n("h5",{class:"text-h5 mb-1"},"Reset Password ðŸ”’",-1),W={class:"mb-0"},X={class:"font-weight-bold"},Y=n("span",null,"Back to login",-1),ee=S({__name:"[token]",setup(se){const w=B(),r=i({token:w.params.token,email:w.query.email,password:"",password_confirmation:""}),c=i({password_confirmation:void 0,password:void 0}),d=i(!1),p=i(!1),x=R(),f=i(),C=T();async function N(){if(f.value)try{const{valid:o}=await f.value.validate();o&&(await x.setNewPassword(r.value),C.push({name:"login"}))}catch(o){if(!o.response)throw o;const{errors:t}=o.response.data;c.value=t}}return(o,t)=>{const h=E,P=L("RouterLink");return j(),F("div",Z,[n("div",G,[s(e(m),{nodes:("h"in o?o.h:e(V))("div",{innerHTML:e(H)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),s(e(m),{nodes:("h"in o?o.h:e(V))("div",{innerHTML:e(D)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),s(A,{class:"auth-card pa-4","max-width":"448"},{default:a(()=>[s(I,{class:"justify-center"},{prepend:a(()=>[n("div",J,[s(e(m),{nodes:e(v).app.logo},null,8,["nodes"])])]),default:a(()=>[s(M,{class:"font-weight-bold text-capitalize text-h5 py-1"},{default:a(()=>[_(y(e(v).app.title),1)]),_:1})]),_:1}),s(b,{class:"pt-2"},{default:a(()=>[Q,n("p",W,[_(" for "),n("span",X,y(e(r).email),1)])]),_:1}),s(b,null,{default:a(()=>[s(e(O),{ref_key:"refVForm",ref:f,onSubmit:$(N,["prevent"])},{default:a(()=>[s(q,null,{default:a(()=>[s(u,{cols:"12"},{default:a(()=>[s(h,{modelValue:e(r).password,"onUpdate:modelValue":t[0]||(t[0]=l=>e(r).password=l),rules:[e(g)],"error-messages":e(c).password,autofocus:"",label:"New Password",type:e(d)?"text":"password","append-inner-icon":e(d)?"tabler-eye-off":"tabler-eye","onClick:appendInner":t[1]||(t[1]=l=>d.value=!e(d))},null,8,["modelValue","rules","error-messages","type","append-inner-icon"])]),_:1}),s(u,{cols:"12"},{default:a(()=>[s(h,{modelValue:e(r).password_confirmation,"onUpdate:modelValue":t[2]||(t[2]=l=>e(r).password_confirmation=l),label:"Confirm Password",rules:[e(g),e(K)(e(r).password_confirmation,e(r).password)],"error-messages":e(c).password_confirmation,type:e(p)?"text":"password","append-inner-icon":e(p)?"tabler-eye-off":"tabler-eye","onClick:appendInner":t[3]||(t[3]=l=>p.value=!e(p))},null,8,["modelValue","rules","error-messages","type","append-inner-icon"])]),_:1}),s(u,{cols:"12"},{default:a(()=>[s(z,{block:"",type:"submit"},{default:a(()=>[_(" Set New Password ")]),_:1})]),_:1}),s(u,{cols:"12"},{default:a(()=>[s(P,{class:"d-flex align-center justify-center",to:{name:"login"}},{default:a(()=>[s(U,{icon:"tabler-chevron-left",class:"flip-in-rtl"}),Y]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])}}});typeof k=="function"&&k(ee);export{ee as default};

import{_ as F}from"./CoursePlayList.vue_vue_type_script_setup_true_lang-3807061b.js";import{_ as G}from"./ResponsiveText.vue_vue_type_script_setup_true_lang-bd59f7a9.js";import{d as O,k as Q,l as q,r as y,b5 as H,a6 as J,w as K,bM as W,a as X,o,c as h,b as a,f as s,b8 as Y,p as e,h as l,e as p,bQ as C,aj as V,v as u,z as b,bm as Z,bO as v,ba as ee,x as f,bN as te,bb as ae,bp as se,F as oe,j as re,b9 as L,a0 as k,bR as ie,b0 as le,bU as ne,s as ce}from"./main-6e33e0f4.js";import{u as pe}from"./useCourseStore-b6ef2792.js";import{a as de}from"./formatters-386d1040.js";import{M as ue}from"./index-0c36f9df.js";import{V as me,a as B}from"./VRow-26e77137.js";import{V as fe}from"./VSpacer-7809d458.js";import{V as _e}from"./VSlideGroup-52bd9628.js";import{V as R}from"./VDivider-83731cf9.js";import{V as ye}from"./VSlideGroupItem-5d32bf46.js";import{V as he}from"./VChip-fe1053c6.js";import"./VMenu-02d70115.js";import"./VList-1acb65c4.js";import{b as T}from"./route-block-83d24a4e.js";import"./InfoTooltip.vue_vue_type_script_setup_true_lang-5233097e.js";import"./VTooltip-2814934d.js";import"./ActionButton-e7de0636.js";import"./utils-fc59a690.js";import"./VPagination-d993b6db.js";const ve={class:"card"},ke={class:"position-relative"},xe={key:0},Ve={key:0,class:"position-absolute w-100 h-100 d-flex gap-1 align-center justify-center",style:{inset:"0","background-color":"rgba(0, 0, 0, 0.568)"}},be={key:1},ge={class:"d-flex flex-column"},we={class:"text-base"},Ce=p("p",{class:"text-xs"}," Lorem ipsum dolor sit amet ",-1),Le={class:"mb-0 pt-1"},Se={class:"d-flex flex-wrap mt-5"},Be={class:"me-5"},Re={class:"text-nowrap"},Te={class:"text-nowrap"},Me={class:"text-nowrap"},Ne={class:"text-nowrap"},Pe={class:"text-nowrap"},Ie={class:"position-sticky",style:{top:"90px"}},Ae=O({__name:"index copy",setup(Ue){const M=Q(),N=q(),_=y(!1),P=pe(),n=y(),m=y(!1),c=y(),S=y(),I=H(),g=y(),A=J(()=>{var d,r;return[{title:"edit",_if:I.user.id===((d=n.value)==null?void 0:d.author.id),props:{to:{name:"course-id-edit",params:{id:(r=n.value)==null?void 0:r.id}},"prepend-icon":"mdi-edit"}},{title:"share",_if:!0,props:{"prepend-icon":"tabler-share"}}]}),U=({page:d,pages:r})=>{console.log(d,r),d==r&&(m.value=!0)},w=()=>{S.value.next(),m.value=!1},$=()=>{setTimeout(()=>{var d;(d=g.value)==null||d.play()},500),m.value=!1};return K(c,d=>{d&&d.type==="video"&&(setTimeout(()=>{var r;(r=g.value)==null||r.play()},500),m.value=!1)}),W(async()=>{_.value=!0;try{n.value=await P.getCourse(Number(M.params.id),{additional:{chapters:!0}})}catch{N.push({name:"course"})}_.value=!1}),(d,r)=>{const j=ne,z=G,E=X("RouterLink"),D=F;return o(),h("div",ve,[a(me,null,{default:s(()=>[a(B,{cols:"12",md:"8"},{default:s(()=>[a(Y,null,{default:s(()=>[!e(_)&&e(c)?(o(),l(Z,{key:0,class:"py-0 px-0"},{default:s(()=>{var t;return[p("div",ke,[e(c).type===e(C).video?(o(),h("div",xe,[a(j,{src:e(c).url,poster:e(c).thumb_url,title:(t=e(n))==null?void 0:t.title,onReady:r[0]||(r[0]=i=>g.value=i.target.plyr),onEnded:r[1]||(r[1]=i=>m.value=!0),onPause:r[2]||(r[2]=i=>e(c).playing=!1),onPlay:r[3]||(r[3]=i=>e(c).playing=!0)},null,8,["src","poster","title"]),e(m)?(o(),h("div",Ve,[a(V,{color:"default","prepend-icon":"mdi-rotate-left",onClick:$},{default:s(()=>[u(" Start Over ")]),_:1}),a(V,{color:"default","append-icon":"mdi-skip-forward",onClick:w},{default:s(()=>[u(" Continue ")]),_:1})])):b("",!0)])):(o(),l(ue,{key:e(c).id,"aspect-ratio":"1.77",media:e(c),"is-preview":"","onUpdate:pdf":U},{"bottom-toolbar":s(()=>[e(c).type===e(C).pdf&&e(m)?(o(),l(V,{key:0,variant:"tonal",color:"default","append-icon":"mdi-skip-forward",onClick:w},{default:s(()=>[u(" Continue ")]),_:1})):b("",!0),e(c).type===e(C).image?(o(),l(V,{key:1,variant:"tonal",color:"default","append-icon":"mdi-skip-forward",onClick:w},{default:s(()=>[u(" Continue ")]),_:1})):b("",!0)]),_:1},8,["media"]))])]}),_:1})):(o(),l(e(v),{key:1,type:["image","image"]}))]),_:1}),e(_)?(o(),l(e(v),{key:1,type:["heading","list-item-avatar-three-line"]})):(o(),l(L,{key:0},{default:s(()=>[a(ee,{class:"text-capitalize text-h3 text-wrap d-flex"},{default:s(()=>{var t;return[a(z,{"max-lines":2,"char-width":3.5,text:((t=e(n))==null?void 0:t.title)||""},{default:s(({text:i})=>[u(f(i),1)]),_:1},8,["text"])]}),_:1}),a(te,{class:"d-flex mt-3 px-1 align-center"},{default:s(()=>[a(ae,{size:"35",class:"me-2"},{default:s(()=>{var t,i,x;return[(t=e(n))!=null&&t.author.profile_photo_url?(o(),l(se,{key:0,src:(i=e(n))==null?void 0:i.author.profile_photo_url,cover:""},null,8,["src"])):(o(),h("span",be,f(e(de)(((x=e(n))==null?void 0:x.author.name)||"")),1))]}),_:1}),p("div",ge,[p("h6",we,[a(E,{to:"#",class:"font-weight-medium user-list-name text-grey-600"},{default:s(()=>{var t;return[u(f((t=e(n))==null?void 0:t.author.name),1)]}),_:1})]),Ce]),a(fe),a(_e,{"show-arrows":"","center-active":""},{default:s(()=>[(o(!0),h(oe,null,re(e(A).filter(({_if:t})=>t),t=>(o(),l(ye,{key:t.title},{default:s(()=>[a(he,ce(t.props,{class:"ma-1"}),{default:s(()=>[u(f(t.title),1)]),_:2},1040)]),_:2},1024))),128))]),_:1}),b("",!0)]),_:1})]),_:1})),a(R,{class:"mx-6"}),e(_)?(o(),l(e(v),{key:3,class:"py-5",type:["heading","paragraph"]})):(o(),l(L,{key:2,title:"About this course"},{default:s(()=>{var t;return[p("p",Le,f((t=e(n))==null?void 0:t.description),1)]}),_:1})),a(R,{class:"mx-6"}),e(_)?(o(),l(e(v),{key:5,class:"py-5",type:["heading","paragraph"]})):(o(),l(L,{key:4,title:"By the numbers"},{default:s(()=>{var t,i;return[p("div",Se,[p("div",Be,[p("p",Re,[a(k,{icon:"mdi-check-all",class:"me-2 mt-n2"}),u(" Skill level: "+f((t=e(n))==null?void 0:t.difficulty),1)]),p("p",Te,[a(k,{icon:"mdi-users",class:"me-2 mt-n2"}),u("Students: 38,815 ")]),p("p",Me,[a(k,{icon:"mdi-flag",class:"me-2 mt-n2"}),u("Languages: English ")])]),p("div",null,[p("p",Ne,[a(k,{icon:"mdi-pencil",class:"me-2 mt-n2"}),u("Lectures: 19 ")]),p("p",Pe,[a(k,{icon:"mdi-clock",class:"me-2 mt-n2"}),u("Video: "+f(e(ie)(((i=e(n))==null?void 0:i.duration)||0))+" total minutes ",1)])])])]}),_:1}))]),_:1}),a(B,{cols:"12",md:"4"},{default:s(()=>{var t,i;return[p("div",Ie,[(t=e(n))!=null&&t.chapters?(o(),l(D,{key:0,ref_key:"playList",ref:S,attachment:e(c),"onUpdate:attachment":r[4]||(r[4]=x=>le(c)?c.value=x:null),chapters:(i=e(n))==null?void 0:i.chapters},null,8,["attachment","chapters"])):(o(),l(e(v),{key:1,type:Array(5).fill("list-item-avatar-three-line")},null,8,["type"]))])]}),_:1})]),_:1})])}}});typeof T=="function"&&T(Ae);export{Ae as default};

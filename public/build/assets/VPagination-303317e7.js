import{cm as Re,y as s,m as E,cn as G,co as _,t as F,M as J,cp as O,bv as A,b7 as H,cq as $,a9 as k,Z as I,cr as X,O as M,P as R,cs as Ge,ct as He,Y as Ke,a4 as K,cu as ze,F as U,G as Ue,ah as B,K as te,cv as We,af as ae,cw as Y,a0 as Z,cx as je,cy as Qe,al as Je,e as ne,cz as Xe,cA as W,bl as Ye,cB as Ze,Q as qe,cC as et,cD as tt,S as at,cE as nt,U as lt,W as rt,cF as it,cG as ot,cH as ut,cI as st,cJ as dt,cK as le,ar as re}from"./main-834b9cca.js";import{V as ct}from"./AppSelect.vue_vue_type_script_setup_true_lang-3c530a2c.js";import{V as q}from"./VCheckboxBtn-7bb82281.js";import{m as ft,u as vt}from"./VList-483d2f15.js";import{V as ie}from"./VTable-00e944d3.js";const ee=Re({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,l)=>{let{slots:a,attrs:t}=l;const n=e.tag??"td";return s(n,E({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:G(e.height),width:G(e.width),left:G(e.fixedOffset||null)}},t),{default:()=>{var r;return[(r=a.default)==null?void 0:r.call(a)]}})}),oe=_({headers:{type:Array,default:()=>[]}},"v-data-table-header"),ue=Symbol.for("vuetify:data-table-headers");function se(e,l){const a=F([]),t=F([]);J(()=>e.headers,()=>{var b,P,p;const r=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],u=r.flatMap((h,y)=>h.map(g=>({column:g,row:y}))),d=r.length,i={title:"",sortable:!1},c={...i,width:48};if((b=l==null?void 0:l.groupBy)!=null&&b.value.length){const h=u.findIndex(y=>{let{column:g}=y;return g.key==="data-table-group"});h<0?u.unshift({column:{...i,key:"data-table-group",title:"Group",rowspan:d},row:0}):u.splice(h,1,{column:{...i,...u[h].column},row:u[h].row})}if((P=l==null?void 0:l.showSelect)!=null&&P.value){const h=u.findIndex(y=>{let{column:g}=y;return g.key==="data-table-select"});h<0?u.unshift({column:{...c,key:"data-table-select",rowspan:d},row:0}):u.splice(h,1,{column:{...c,...u[h].column},row:u[h].row})}if((p=l==null?void 0:l.showExpand)!=null&&p.value){const h=u.findIndex(y=>{let{column:g}=y;return g.key==="data-table-expand"});h<0?u.push({column:{...c,key:"data-table-expand",rowspan:d},row:0}):u.splice(h,1,{column:{...c,...u[h].column},row:u[h].row})}const o=O(d).map(()=>[]),v=O(d).fill(0);let f=0;u.forEach(h=>{let{column:y,row:g}=h;const L=y.key??`data-table-column-${f++}`;for(let V=g;V<=g+(y.rowspan??1)-1;V++)o[V].push({...y,key:L,fixedOffset:v[V],sortable:y.sortable??!!y.key}),v[V]+=y.width??0}),o.forEach(h=>{for(let y=h.length;y--;y>=0)if(h[y].fixed){h[y].lastFixed=!0;return}});const m=new Set;a.value=o.map(h=>{const y=[];for(const g of h)m.has(g.key)||(m.add(g.key),y.push(g));return y}),t.value=o.at(-1)??[]},{deep:!0,immediate:!0});const n={headers:a,columns:t};return A(ue,n),n}function j(){const e=H(ue);if(!e)throw new Error("Missing headers!");return e}const de=_({showSelect:Boolean,modelValue:{type:Array,default:()=>[]}},"v-data-table-select"),ce=Symbol.for("vuetify:data-table-selection");function fe(e,l){const a=$(e,"modelValue",e.modelValue,v=>new Set(v),v=>[...v.values()]);function t(v){return v.every(f=>a.value.has(f.value))}function n(v){return v.some(f=>a.value.has(f.value))}function r(v,f){const m=new Set(a.value);for(const b of v)f?m.add(b.value):m.delete(b.value);a.value=m}function u(v){r([v],!t([v]))}function d(v){r(l.value,v)}const i=k(()=>a.value.size>0),c=k(()=>t(l.value)),o={toggleSelect:u,select:r,selectAll:d,isSelected:t,isSomeSelected:n,someSelected:i,allSelected:c};return A(ce,o),o}function Q(){const e=H(ce);if(!e)throw new Error("Missing selection!");return e}const ve=_({sortBy:{type:Array,default:()=>[]},multiSort:Boolean,mustSort:Boolean},"v-data-table-sort"),ge=Symbol.for("vuetify:data-table-sort");function me(e){const l=$(e,"sortBy"),a=I(e,"mustSort"),t=I(e,"multiSort");return{sortBy:l,mustSort:a,multiSort:t}}function ye(e){const{sortBy:l,mustSort:a,multiSort:t,page:n}=e,u={sortBy:l,toggleSort:d=>{let i=l.value.map(o=>({...o}))??[];const c=i.find(o=>o.key===d);c?c.order==="desc"?a.value?c.order="asc":i=i.filter(o=>o.key!==d):c.order="desc":t.value?i=[...i,{key:d,order:"asc"}]:i=[{key:d,order:"asc"}],l.value=i,n&&(n.value=1)}};return A(ge,u),u}function gt(){const e=H(ge);if(!e)throw new Error("Missing sort!");return e}function mt(e,l,a){const t=k(()=>a.value.reduce((r,u)=>(u.sort&&(r[u.key]=u.sort),r),{}));return{sortedItems:k(()=>l.value.length?yt(e.value,l.value,"en",t.value):e.value)}}function yt(e,l,a,t){const n=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return[...e].sort((r,u)=>{for(let d=0;d<l.length;d++){const i=l[d].key,c=l[d].order;if(c===!1)continue;let o=X(r.raw,i),v=X(u.raw,i);if(c==="desc"&&([o,v]=[v,o]),t!=null&&t[i]){const f=t[i](o,v);if(!f)continue;return f}if(!(o==null||v==null)){if(o instanceof Date&&v instanceof Date)return o.getTime()-v.getTime();if([o,v]=[o,v].map(f=>(f||"").toString().toLocaleLowerCase()),o!==v)return!isNaN(o)&&!isNaN(v)?Number(o)-Number(v):n.compare(o,v)}}return 0})}const be=M()({name:"VDataTableHeaders",props:{color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:R,default:"$sortAsc"},sortDescIcon:{type:R,default:"$sortDesc"},...Ge()},setup(e,l){let{slots:a,emit:t}=l;const{toggleSort:n,sortBy:r}=gt(),{someSelected:u,allSelected:d,selectAll:i}=Q(),{columns:c,headers:o}=j(),{loaderClasses:v}=He(e),f=(y,g)=>!e.sticky&&!y.fixed?null:{position:"sticky",zIndex:y.fixed?4:e.sticky?3:void 0,left:y.fixed?G(y.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${g})`:void 0};function m(y){const g=r.value.find(L=>L.key===y);return g?g.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:b,backgroundColorStyles:P}=Ke(e,"color"),p=k(()=>({headers:o.value,columns:c.value,toggleSort:n,sortBy:r.value,someSelected:u.value,allSelected:d.value,selectAll:i,getSortIcon:m,getFixedStyles:f})),h=y=>{let{column:g,x:L,y:V}=y;const C=!!r.value.find(x=>x.key===g.key),N=g.key==="data-table-select"||g.key==="data-table-expand";return s(ee,{tag:"th",align:g.align,class:["v-data-table__th",{"v-data-table__th--sortable":g.sortable,"v-data-table__th--sorted":C},v.value],style:{width:G(g.width),minWidth:G(g.width),...f(g,V)},colspan:g.colspan,rowspan:g.rowspan,onClick:g.sortable?()=>n(g.key):void 0,lastFixed:g.lastFixed,noPadding:N},{default:()=>{var w;const x=`column.${g.key}`,S={column:g,selectAll:i};return a[x]?a[x](S):g.key==="data-table-select"?((w=a["column.data-table-select"])==null?void 0:w.call(a,S))??s(q,{modelValue:d.value,indeterminate:u.value&&!d.value,"onUpdate:modelValue":i},null):s("div",{class:"v-data-table-header__content"},[s("span",null,[g.title]),g.sortable&&s(Ue,{key:"icon",class:"v-data-table-header__sort-icon",icon:m(g.key)},null),e.multiSort&&C&&s("div",{key:"badge",class:["v-data-table-header__sort-badge",...b.value],style:P.value},[r.value.findIndex(T=>T.key===g.key)+1])])}})};K(()=>s(U,null,[a.headers?a.headers(p.value):o.value.map((y,g)=>s("tr",null,[y.map((L,V)=>s(h,{column:L,x:V,y:g},null))])),e.loading&&s("tr",{class:"v-data-table__progress"},[s("th",{colspan:c.value.length},[s(ze,{name:"v-data-table-headers",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),he=_({groupBy:{type:Array,default:()=>[]}},"data-table-group"),xe=Symbol.for("vuetify:data-table-group");function Se(e){return{groupBy:$(e,"groupBy")}}function ke(e){const{groupBy:l,sortBy:a}=e,t=F(new Set),n=k(()=>l.value.map(c=>({...c,order:c.order??!1})).concat(a.value));function r(c){return t.value.has(c.id)}function u(c){const o=new Set(t.value);r(c)?o.delete(c.id):o.add(c.id),t.value=o}function d(c){function o(v){const f=[];for(const m of v.items)m.type==="item"?f.push(m):f.push(...o(m));return f}return o({type:"group-header",items:c,id:"dummy",key:"dummy",value:"dummy",depth:0})}const i={sortByWithGroups:n,toggleGroup:u,opened:t,groupBy:l,extractRows:d,isGroupOpen:r};return A(xe,i),i}function we(){const e=H(xe);if(!e)throw new Error("Missing group!");return e}function bt(e,l){if(!e.length)return[];const a=new Map;for(const t of e){const n=X(t.raw,l);a.has(n)||a.set(n,[]),a.get(n).push(t)}return a}function Pe(e,l){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const n=bt(e,l[0]),r=[],u=l.slice(1);return n.forEach((d,i)=>{const c=l[0],o=`${t}_${c}_${i}`;r.push({depth:a,id:o,key:c,value:i,items:u.length?Pe(d,u,a+1,o):d,type:"group-header"})}),r}function pe(e,l){const a=[];for(const t of e)t.type==="group-header"?(t.value!=null&&a.push(t),(l.has(t.id)||t.value==null)&&a.push(...pe(t.items,l))):a.push(t);return a}function Ie(e,l,a){return{flatItems:k(()=>{if(!l.value.length)return e.value;const n=Pe(e.value,l.value.map(r=>r.key));return pe(n,a.value)})}}const ht=M()({name:"VDataTableGroupHeaderRow",props:{item:{type:Object,required:!0}},setup(e,l){let{slots:a}=l;const{isGroupOpen:t,toggleGroup:n,extractRows:r}=we(),{isSelected:u,isSomeSelected:d,select:i}=Q(),{columns:c}=j(),o=k(()=>r([e.item]));return()=>s("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[c.value.map(v=>{var f,m;if(v.key==="data-table-group"){const b=t(e.item)?"$expand":"$next",P=()=>n(e.item);return((f=a["data-table-group"])==null?void 0:f.call(a,{item:e.item,count:o.value.length,props:{icon:b,onClick:P}}))??s(ee,{class:"v-data-table-group-header-row__column"},{default:()=>[s(B,{size:"small",variant:"text",icon:b,onClick:P},null),s("span",null,[e.item.value]),s("span",null,[te("("),o.value.length,te(")")])]})}if(v.key==="data-table-select"){const b=u(o.value),P=d(o.value)&&!b,p=h=>i(o.value,h);return((m=a["data-table-select"])==null?void 0:m.call(a,{props:{modelValue:b,indeterminate:P,"onUpdate:modelValue":p}}))??s("td",null,[s(q,{modelValue:b,indeterminate:P,"onUpdate:modelValue":p},null)])}return s("td",null,null)})])}}),Ve=_({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"v-data-table-expand"),Te=Symbol.for("vuetify:datatable:expanded");function De(e){const l=I(e,"expandOnClick"),a=$(e,"expanded",e.expanded,d=>new Set(d),d=>[...d.values()]);function t(d,i){const c=new Set(a.value);i?c.add(d.value):c.delete(d.value),a.value=c}function n(d){return a.value.has(d.value)}function r(d){t(d,!n(d))}const u={expand:t,expanded:a,expandOnClick:l,isExpanded:n,toggleExpand:r};return A(Te,u),u}function Be(){const e=H(Te);if(!e)throw new Error("foo");return e}const xt=We({name:"VDataTableRow",props:{index:Number,item:Object,onClick:Function},setup(e,l){let{slots:a}=l;const{isSelected:t,toggleSelect:n}=Q(),{isExpanded:r,toggleExpand:u}=Be(),{columns:d}=j();K(()=>s("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&d.value.map((i,c)=>s(ee,{align:i.align,fixed:i.fixed,fixedOffset:i.fixedOffset,lastFixed:i.lastFixed,noPadding:i.key==="data-table-select"||i.key==="data-table-expand",width:i.width},{default:()=>{var m,b;const o=e.item,v=`item.${i.key}`,f={index:e.index,item:e.item,columns:d.value,isSelected:t,toggleSelect:n,isExpanded:r,toggleExpand:u};return a[v]?a[v](f):i.key==="data-table-select"?((m=a["item.data-table-select"])==null?void 0:m.call(a,f))??s(q,{modelValue:t([o]),onClick:ae(()=>n(o),["stop"])},null):i.key==="data-table-expand"?((b=a["item.data-table-expand"])==null?void 0:b.call(a,f))??s(B,{icon:r(o)?"$collapse":"$expand",size:"small",variant:"text",onClick:ae(()=>u(o),["stop"])},null):Y(o.columns,i.key)}}))]))}}),Le=M()({name:"VDataTableRows",props:{loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},setup(e,l){let{emit:a,slots:t}=l;const{columns:n}=j(),{expandOnClick:r,toggleExpand:u,isExpanded:d}=Be(),{isSelected:i,toggleSelect:c}=Q(),{toggleGroup:o,isGroupOpen:v}=we(),{t:f}=Z();return K(()=>{var m;return e.loading&&t.loading?s("tr",{class:"v-data-table-rows-loading",key:"loading"},[s("td",{colspan:n.value.length},[t.loading()])]):!e.loading&&!e.items.length&&!e.hideNoData?s("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[s("td",{colspan:n.value.length},[((m=t["no-data"])==null?void 0:m.call(t))??f(e.noDataText)])]):s(U,null,[e.items.map((b,P)=>{var h;if(b.type==="group-header")return t["group-header"]?t["group-header"]({index:P,item:b,columns:n.value,isExpanded:d,toggleExpand:u,isSelected:i,toggleSelect:c,toggleGroup:o,isGroupOpen:v}):s(ht,{key:`group-header_${b.id}`,item:b},t);const p={index:P,item:b,columns:n.value,isExpanded:d,toggleExpand:u,isSelected:i,toggleSelect:c};return s(U,null,[t.item?t.item(p):s(xt,{key:`item_${b.value}`,onClick:r.value||e["onClick:row"]?y=>{var g;r.value&&u(b),(g=e["onClick:row"])==null||g.call(e,y,{item:b})}:void 0,index:P,item:b},t),d(b)&&((h=t["expanded-row"])==null?void 0:h.call(t,p))])})])}),{}}});const _e=_({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"v-data-table-paginate"),Ce=Symbol.for("vuetify:data-table-pagination");function Fe(e){const l=$(e,"page",void 0,t=>+(t??1)),a=$(e,"itemsPerPage",void 0,t=>+(t??10));return{page:l,itemsPerPage:a}}function $e(e){const{page:l,itemsPerPage:a,itemsLength:t}=e,n=k(()=>a.value===-1?0:a.value*(l.value-1)),r=k(()=>a.value===-1?t.value:Math.min(t.value,n.value+a.value)),u=k(()=>a.value===-1||t.value===0?1:Math.ceil(t.value/a.value));function d(c){a.value=c,l.value=1}const i={page:l,itemsPerPage:a,itemsLength:t,startIndex:n,stopIndex:r,pageCount:u,setItemsPerPage:d};return A(Ce,i),i}function St(){const e=H(Ce);if(!e)throw new Error("Missing pagination!");return e}function kt(e){const{items:l,startIndex:a,stopIndex:t,itemsPerPage:n}=e;return{paginatedItems:k(()=>n.value<=0?l.value:l.value.slice(a.value,t.value))}}const Ae=M()({name:"VDataTableFooter",props:{prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},setup(e,l){let{slots:a}=l;const{t}=Z(),{page:n,pageCount:r,startIndex:u,stopIndex:d,itemsLength:i,itemsPerPage:c,setItemsPerPage:o}=St(),v=k(()=>e.itemsPerPageOptions.map(f=>({...f,title:t(f.title)})));return()=>{var f;return s("div",{class:"v-data-table-footer"},[(f=a.prepend)==null?void 0:f.call(a),s("div",{class:"v-data-table-footer__items-per-page"},[s("span",null,[t(e.itemsPerPageText)]),s(ct,{items:v.value,modelValue:c.value,"onUpdate:modelValue":m=>o(Number(m)),density:"compact",variant:"outlined","hide-details":!0},null)]),s("div",{class:"v-data-table-footer__info"},[s("div",null,[t(e.pageText,i.value?u.value+1:0,d.value,i.value)])]),s("div",{class:"v-data-table-footer__pagination"},[s(B,{icon:e.firstIcon,variant:"plain",onClick:()=>n.value=1,disabled:n.value===1,"aria-label":t(e.firstPageLabel)},null),s(B,{icon:e.prevIcon,variant:"plain",onClick:()=>n.value=Math.max(1,n.value-1),disabled:n.value===1,"aria-label":t(e.prevPageLabel)},null),e.showCurrentPage&&s("span",{key:"page",class:"v-data-table-footer__page"},[n.value]),s(B,{icon:e.nextIcon,variant:"plain",onClick:()=>n.value=Math.min(r.value,n.value+1),disabled:n.value===r.value,"aria-label":t(e.nextPageLabel)},null),s(B,{icon:e.lastIcon,variant:"plain",onClick:()=>n.value=r.value,disabled:n.value===r.value,"aria-label":t(e.lastPageLabel)},null)])])}}}),Me=_({...ft({itemValue:"id"})},"v-data-table-item");function wt(e,l,a){const t=l.split(".");for(;t.length>1;){const n=t.shift();e[n]==null&&(e[n]={}),typeof e[n]=="object"&&(e=e[n])}e[t[0]]=a}function Ne(e,l){const{items:a}=vt(e);return{items:k(()=>a.value.map(n=>({...n,type:"item",columns:l.value.reduce((r,u)=>(wt(r,u.key,Y(n.raw,u.value??u.key)),r),{})})))}}function Ee(e){let{page:l,itemsPerPage:a,sortBy:t,groupBy:n,search:r}=e;const u=je("VDataTable"),d=k(()=>({page:l.value,itemsPerPage:a.value,sortBy:t.value,groupBy:n.value,search:r.value}));J(()=>r==null?void 0:r.value,()=>{l.value=1});let i=null;J(d,()=>{Qe(i,d.value)||(u.emit("update:options",d.value),i=d.value)},{deep:!0,immediate:!0})}const Pt=(e,l,a)=>e==null||l==null?-1:e.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),pt=_({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function It(e,l,a){var d;const t=[],n=(a==null?void 0:a.default)??Pt,r=a!=null&&a.filterKeys?Xe(a.filterKeys):!1,u=Object.keys((a==null?void 0:a.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return t;e:for(let i=0;i<e.length;i++){const c=e[i],o={},v={};let f=-1;if(l&&!(a!=null&&a.noFilter)){if(typeof c=="object"){const P=r||Object.keys(c);for(const p of P){const h=Y(c,p,c),y=(d=a==null?void 0:a.customKeyFilter)==null?void 0:d[p];if(f=y?y(h,l,c):n(h,l,c),f!==-1&&f!==!1)y?o[p]=f:v[p]=f;else if((a==null?void 0:a.filterMode)==="every")continue e}}else f=n(c,l,c),f!==-1&&f!==!1&&(v.title=f);const m=Object.keys(v).length,b=Object.keys(o).length;if(!m&&!b||(a==null?void 0:a.filterMode)==="union"&&b!==u&&!m||(a==null?void 0:a.filterMode)==="intersection"&&(b!==u||!m))continue}t.push({index:i,matches:{...v,...o}})}return t}function Vt(e,l,a,t){const n=k(()=>typeof(a==null?void 0:a.value)!="string"&&typeof(a==null?void 0:a.value)!="number"?"":String(a.value)),r=F([]),u=F(new Map);Je(()=>{r.value=[],u.value=new Map;const i=ne(l);It(i,n.value,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:ne(t==null?void 0:t.filterKeys)??e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}).forEach(o=>{let{index:v,matches:f}=o;const m=i[v];r.value.push(m),u.value.set(m.value,f)})});function d(i){return u.value.get(i.value)}return{filteredItems:r,filteredMatches:u,getMatches:d}}const Oe=_({...Me(),...oe(),hideNoData:Boolean,hover:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},height:[String,Number],width:[String,Number],fixedHeader:Boolean,fixedFooter:Boolean,"onClick:row":Function,search:String},"v-data-table");M()({name:"VDataTable",props:{...Oe(),...Ve(),...he(),...de(),...ve(),..._e(),...pt()},emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,l){let{emit:a,slots:t}=l;const{groupBy:n}=Se(e),{sortBy:r,multiSort:u,mustSort:d}=me(e),{page:i,itemsPerPage:c}=Fe(e),{columns:o}=se(e,{groupBy:n,showSelect:I(e,"showSelect"),showExpand:I(e,"showExpand")}),{items:v}=Ne(e,o),f=k(()=>o.value.map(S=>"columns."+S.key)),m=I(e,"search"),{filteredItems:b}=Vt(e,v,m,{filterKeys:f});ye({sortBy:r,multiSort:u,mustSort:d,page:i});const{sortByWithGroups:P,opened:p,extractRows:h}=ke({groupBy:n,sortBy:r}),{sortedItems:y}=mt(b,P,o),{flatItems:g}=Ie(y,n,p),L=k(()=>g.value.length),{startIndex:V,stopIndex:C}=$e({page:i,itemsPerPage:c,itemsLength:L}),{paginatedItems:N}=kt({items:g,startIndex:V,stopIndex:C,itemsPerPage:c}),x=k(()=>h(N.value));return fe(e,x),De(e),Ee({page:i,itemsPerPage:c,sortBy:r,groupBy:n,search:m}),W({VDataTableRows:{hideNoData:I(e,"hideNoData"),noDataText:I(e,"noDataText")}}),K(()=>s(ie,{class:["v-data-table",{"v-data-table--show-select":e.showSelect}],fixedHeader:e.fixedHeader,fixedFooter:e.fixedFooter,height:e.height,hover:e.hover},{top:t.top,default:t.default??(()=>{var S,w,T,D;return s(U,null,[(S=t.colgroup)==null?void 0:S.call(t,{columns:o}),s("thead",null,[s(be,{sticky:e.fixedHeader,multiSort:e.multiSort},t)]),(w=t.thead)==null?void 0:w.call(t),s("tbody",null,[t.body?t.body():s(Le,{items:N.value,"onClick:row":e["onClick:row"]},t)]),(T=t.tbody)==null?void 0:T.call(t),(D=t.tfoot)==null?void 0:D.call(t)])}),bottom:t.bottom??(()=>s(Ae,null,{prepend:t["footer.prepend"]}))})),{}}});const Ft=M()({name:"VDataTableServer",props:{color:String,loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},itemsLength:{type:[Number,String],required:!0},...Oe(),...Ve(),...oe(),...Me(),...de(),...ve(),..._e(),...he()},emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0,"click:row":(e,l)=>!0},setup(e,l){let{emit:a,slots:t}=l;const{groupBy:n}=Se(e),{sortBy:r,multiSort:u,mustSort:d}=me(e),{page:i,itemsPerPage:c}=Fe(e),o=k(()=>parseInt(e.itemsLength,10));De(e);const{columns:v}=se(e,{groupBy:n,showSelect:I(e,"showSelect"),showExpand:I(e,"showExpand")}),{items:f}=Ne(e,v),{toggleSort:m}=ye({sortBy:r,multiSort:u,mustSort:d,page:i}),{opened:b}=ke({groupBy:n,sortBy:r});$e({page:i,itemsPerPage:c,itemsLength:o});const{flatItems:P}=Ie(f,n,b);fe(e,f),Ee({page:i,itemsPerPage:c,sortBy:r,groupBy:n,search:I(e,"search")}),A("v-data-table",{toggleSort:m,sortBy:r}),W({VDataTableRows:{hideNoData:I(e,"hideNoData"),noDataText:I(e,"noDataText"),loading:I(e,"loading"),loadingText:I(e,"loadingText")}}),K(()=>s(ie,{class:["v-data-table",{"v-data-table--loading":e.loading}],fixedHeader:e.fixedHeader,fixedFooter:e.fixedFooter,height:e.height,hover:e.hover},{top:t.top,default:t.default??(()=>{var p,h,y,g;return s(U,null,[(p=t.colgroup)==null?void 0:p.call(t,{columns:v}),s("thead",{class:"v-data-table__thead",role:"rowgroup"},[s(be,{sticky:e.fixedHeader,loading:e.loading,color:e.color},t)]),(h=t.thead)==null?void 0:h.call(t),s("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[t.body?t.body():s(Le,{items:P.value,"onClick:row":e["onClick:row"]},t)]),(y=t.tbody)==null?void 0:y.call(t),(g=t.tfoot)==null?void 0:g.call(t)])}),bottom:t.bottom??(()=>s(Ae,null,{prepend:t["footer.prepend"]}))}))}});function Tt(){const e=F([]);Ye(()=>e.value=[]);function l(a,t){e.value[t]=a}return{refs:e,updateRef:l}}const $t=M()({name:"VPagination",props:{activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:R,default:"$first"},prevIcon:{type:R,default:"$prev"},nextIcon:{type:R,default:"$next"},lastIcon:{type:R,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Ze(),...qe(),...et(),...tt(),...at(),...nt(),...lt({tag:"nav"}),...rt(),...it({variant:"text"})},emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,l){let{slots:a,emit:t}=l;const n=$(e,"modelValue"),{t:r,n:u}=Z(),{isRtl:d}=ot(),{themeClasses:i}=ut(e),{width:c}=st(),o=F(-1);W(void 0,{scoped:!0});const{resizeRef:v}=dt(x=>{if(!x.length)return;const{target:S,contentRect:w}=x[0],T=S.querySelector(".v-pagination__list > *");if(!T)return;const D=w.width,z=T.offsetWidth+parseFloat(getComputedStyle(T).marginRight)*2;o.value=P(D,z)}),f=k(()=>parseInt(e.length,10)),m=k(()=>parseInt(e.start,10)),b=k(()=>e.totalVisible?parseInt(e.totalVisible,10):o.value>=0?o.value:P(c.value,58));function P(x,S){const w=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((x-S*w)/S).toFixed(2)))}const p=k(()=>{if(f.value<=0||isNaN(f.value)||f.value>Number.MAX_SAFE_INTEGER)return[];if(b.value<=1)return[n.value];if(f.value<=b.value)return O(f.value,m.value);const x=b.value%2===0,S=x?b.value/2:Math.floor(b.value/2),w=x?S:S+1,T=f.value-S;if(w-n.value>=0)return[...O(Math.max(1,b.value-1),m.value),e.ellipsis,f.value];if(n.value-T>=(x?1:0)){const D=b.value-1,z=f.value-D+m.value;return[m.value,e.ellipsis,...O(D,z)]}else{const D=Math.max(1,b.value-3),z=D===1?n.value:n.value-Math.ceil(D/2)+m.value;return[m.value,e.ellipsis,...O(D,z),e.ellipsis,f.value]}});function h(x,S,w){x.preventDefault(),n.value=S,w&&t(w,S)}const{refs:y,updateRef:g}=Tt();W({VPaginationBtn:{color:I(e,"color"),border:I(e,"border"),density:I(e,"density"),size:I(e,"size"),variant:I(e,"variant"),rounded:I(e,"rounded"),elevation:I(e,"elevation")}});const L=k(()=>p.value.map((x,S)=>{const w=T=>g(T,S);if(typeof x=="string")return{isActive:!1,key:`ellipsis-${S}`,page:x,props:{ref:w,ellipsis:!0,icon:!0,disabled:!0}};{const T=x===n.value;return{isActive:T,key:x,page:u(x),props:{ref:w,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:T?e.activeColor:e.color,ariaCurrent:T,ariaLabel:r(T?e.currentPageAriaLabel:e.pageAriaLabel,x),onClick:D=>h(D,x)}}}})),V=k(()=>{const x=!!e.disabled||n.value<=m.value,S=!!e.disabled||n.value>=m.value+f.value-1;return{first:e.showFirstLastPage?{icon:d.value?e.lastIcon:e.firstIcon,onClick:w=>h(w,m.value,"first"),disabled:x,ariaLabel:r(e.firstAriaLabel),ariaDisabled:x}:void 0,prev:{icon:d.value?e.nextIcon:e.prevIcon,onClick:w=>h(w,n.value-1,"prev"),disabled:x,ariaLabel:r(e.previousAriaLabel),ariaDisabled:x},next:{icon:d.value?e.prevIcon:e.nextIcon,onClick:w=>h(w,n.value+1,"next"),disabled:S,ariaLabel:r(e.nextAriaLabel),ariaDisabled:S},last:e.showFirstLastPage?{icon:d.value?e.firstIcon:e.lastIcon,onClick:w=>h(w,m.value+f.value-1,"last"),disabled:S,ariaLabel:r(e.lastAriaLabel),ariaDisabled:S}:void 0}});function C(){var S;const x=n.value-m.value;(S=y.value[x])==null||S.$el.focus()}function N(x){x.key===le.left&&!e.disabled&&n.value>+e.start?(n.value=n.value-1,re(C)):x.key===le.right&&!e.disabled&&n.value<m.value+f.value-1&&(n.value=n.value+1,re(C))}return K(()=>s(e.tag,{ref:v,class:["v-pagination",i.value,e.class],style:e.style,role:"navigation","aria-label":r(e.ariaLabel),onKeydown:N,"data-test":"v-pagination-root"},{default:()=>[s("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&s("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[a.first?a.first(V.value.first):s(B,E({_as:"VPaginationBtn"},V.value.first),null)]),s("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[a.prev?a.prev(V.value.prev):s(B,E({_as:"VPaginationBtn"},V.value.prev),null)]),L.value.map((x,S)=>s("li",{key:x.key,class:["v-pagination__item",{"v-pagination__item--is-active":x.isActive}],"data-test":"v-pagination-item"},[a.item?a.item(x):s(B,E({_as:"VPaginationBtn"},x.props),{default:()=>[x.page]})])),s("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[a.next?a.next(V.value.next):s(B,E({_as:"VPaginationBtn"},V.value.next),null)]),e.showFirstLastPage&&s("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[a.last?a.last(V.value.last):s(B,E({_as:"VPaginationBtn"},V.value.last),null)])])]})),{}}});export{Ft as V,$t as a};

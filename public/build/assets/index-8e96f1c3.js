import{_ as S}from"./AppTextField.vue_vue_type_script_setup_true_lang-c26bd8aa.js";import{d as E,r as n,w as T,o as b,h as x,f as a,b as s,b8 as $,b9 as M,ba as q,x as u,y as V,bA as L,be as F,e as m,q as t,b1 as _,ak as h,c3 as I,c4 as W,c as z,j as G,F as H,t as k}from"./main-e240daf5.js";import{V as J}from"./VForm-944dec74.js";import{V as K}from"./VAlert-1825783b.js";import{V as O}from"./VCheckbox-293946df.js";import{_ as Q}from"./AppSelect.vue_vue_type_script_setup_true_lang-0587ea51.js";import{u as X}from"./useRolesStore-8af2bad2.js";import{p as Y}from"./utils-860c5d06.js";import{a as A,V as Z}from"./VRow-aa2cbdf3.js";import{V as B}from"./VDivider-93f95dbb.js";import{V as ee}from"./VDataTableServer-2f4dc5e3.js";import{V as se}from"./VPagination-b6aef300.js";import{V as te}from"./VChip-6e0dcd1f.js";import{b as U}from"./route-block-83d24a4e.js";import"./VInput-6831f60a.js";import"./VTextField-d1a10f80.js";import"./VField-5897687c.js";import"./VCheckboxBtn-131bf67b.js";import"./VSelectionControl-766cb909.js";import"./VSelect-a62939d2.js";import"./VList-4243452f.js";import"./VMenu-949c4526.js";import"./VTable-6ef119f2.js";const ae={class:"d-flex align-end gap-3 mb-3"},ie=E({__name:"AddEditPermissionDialog",props:{isDialogVisible:{type:Boolean},permissionName:{default:""}},emits:["update:isDialogVisible","update:permissionName"],setup(D,{emit:P}){const r=D,p=P,l=n(""),o=()=>{p("update:isDialogVisible",!1),l.value=""},f=()=>{p("update:isDialogVisible",!1),p("update:permissionName",l.value)};return T(r,()=>{l.value=r.permissionName}),(g,c)=>{const v=W,y=S;return b(),x(I,{width:g.$vuetify.display.smAndDown?"auto":600,"model-value":r.isDialogVisible,"onUpdate:modelValue":o},{default:a(()=>[s(v,{onClick:o}),s($,{class:"pa-sm-8 pa-5"},{default:a(()=>[s(M,{class:"text-center"},{default:a(()=>[s(q,{class:"text-h5"},{default:a(()=>[u(V(r.permissionName?"Edit":"Add")+" Permission ",1)]),_:1}),s(L,null,{default:a(()=>[u(V(r.permissionName?"Edit":"Add")+" permission as per your requirements. ",1)]),_:1})]),_:1}),s(F,{class:"mt-1"},{default:a(()=>[s(J,null,{default:a(()=>[s(K,{type:"warning",title:"Warning!",variant:"tonal",class:"mb-6"},{default:a(()=>[u(" By editing the permission name, you might break the system permissions functionality. Please ensure you're absolutely certain before proceeding. ")]),_:1}),m("div",ae,[s(y,{modelValue:t(l),"onUpdate:modelValue":c[0]||(c[0]=w=>_(l)?l.value=w:null),density:"compact",label:"Permission Name",placeholder:"Enter Permission Name"},null,8,["modelValue"]),s(h,{onClick:f},{default:a(()=>[u(" Update ")]),_:1})]),s(O,{label:"Set as core permission"})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}});const oe=m("h5",{class:"text-h4 mb-6"},"Permissions List",-1),le=m("p",{class:"mb-0"}," Each category (Basic, Professional, and Business) includes the four predefined roles shown below. ",-1),ne={class:"d-flex align-center gap-4 flex-wrap"},re={class:"d-flex gap-2"},me={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},pe={class:"text-sm text-medium-emphasis mb-0"},de=E({__name:"index",setup(D){const P=[{title:"Name",key:"name"},{title:"Assigned To",key:"roles",sortable:!1},{title:"Created Date",key:"created_at",sortable:!1}],r=n(),p=n(""),l=n(0),o=n({page:1,itemsPerPage:10,sortBy:[],groupBy:[],search:void 0}),f=n(!1),g=n(!1),c=n(""),v=n(1),y=X();return T(()=>o.value.itemsPerPage,async()=>{var i;const d=await y.fetchPermissions(o.value);r.value=d.data,d.meta&&(v.value=d.meta.total/d.meta.per_page||0,l.value=((i=d.meta)==null?void 0:i.total)||0)},{immediate:!0}),(d,i)=>{const R=Q,j=S,N=ie;return b(),x(Z,null,{default:a(()=>[s(A,{cols:"12"},{default:a(()=>[oe,le]),_:1}),s(A,{cols:"12"},{default:a(()=>[s($,null,{default:a(()=>[s(F,{class:"d-flex align-center justify-space-between flex-wrap gap-4"},{default:a(()=>[s(R,{modelValue:t(o).itemsPerPage,"onUpdate:modelValue":i[0]||(i[0]=e=>t(o).itemsPerPage=e),items:[10,20,50,100],style:{width:"5rem"}},null,8,["modelValue"]),m("div",ne,[s(j,{modelValue:t(p),"onUpdate:modelValue":i[1]||(i[1]=e=>_(p)?p.value=e:null),placeholder:"Search",density:"compact",style:{width:"12.5rem"}},null,8,["modelValue"])])]),_:1}),s(B),s(t(ee),{"items-per-page":t(o).itemsPerPage,"onUpdate:itemsPerPage":i[3]||(i[3]=e=>t(o).itemsPerPage=e),page:t(o).page,"onUpdate:page":i[4]||(i[4]=e=>t(o).page=e),"items-length":t(l),headers:P,items:t(r),class:"text-medium-emphasis text-no-wrap","onUpdate:options":i[5]||(i[5]=e=>o.value=e)},{"item.roles":a(({item:e})=>[m("div",re,[(b(!0),z(H,null,G(e.roles,C=>(b(),x(te,{key:C,color:"primary",label:"",class:"font-weight-medium"},{default:a(()=>[u(V(C),1)]),_:2},1024))),128))])]),bottom:a(()=>[s(B),m("div",me,[m("p",pe,V(t(Y)(t(o),t(l))),1),s(se,{modelValue:t(o).page,"onUpdate:modelValue":i[2]||(i[2]=e=>t(o).page=e),length:Math.ceil(t(l)/t(o).itemsPerPage),"total-visible":d.$vuetify.display.xs?1:Math.ceil(t(l)/t(o).itemsPerPage)},{prev:a(e=>[s(h,k({variant:"tonal",color:"default"},e,{icon:!1}),{default:a(()=>[u(" Previous ")]),_:2},1040)]),next:a(e=>[s(h,k({variant:"tonal",color:"default"},e,{icon:!1}),{default:a(()=>[u(" Next ")]),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),"item.created_at":a(({item:e})=>[m("span",null,V(e.created_at),1)]),_:1},8,["items-per-page","page","items-length","items"])]),_:1}),s(N,{isDialogVisible:t(f),"onUpdate:isDialogVisible":i[6]||(i[6]=e=>_(f)?f.value=e:null),"permission-name":t(c),"onUpdate:permissionName":i[7]||(i[7]=e=>_(c)?c.value=e:null)},null,8,["isDialogVisible","permission-name"]),s(N,{isDialogVisible:t(g),"onUpdate:isDialogVisible":i[8]||(i[8]=e=>_(g)?g.value=e:null)},null,8,["isDialogVisible"])]),_:1})]),_:1})}}});typeof U=="function"&&U(de);export{de as default};

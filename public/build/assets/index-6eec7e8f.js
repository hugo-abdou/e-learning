import{_ as F}from"./CoursePlayList.vue_vue_type_script_setup_true_lang-0dbb5a5d.js";import{_ as G}from"./ResponsiveText.vue_vue_type_script_setup_true_lang-db098e23.js";import{d as U,l as q,m as O,r as f,N as H,a8 as L,c2 as J,w as K,b$ as Q,a as W,o,h as i,f as s,b as a,b9 as X,q as e,bf as Y,e as l,v as S,al as V,y as p,c as g,k as B,c0 as h,ba as b,bb as Z,z as m,bD as ee,bc as te,bk as ae,j as se,F as oe,a3 as y,c3 as re,b2 as ie}from"./main-2d2efdef.js";import{a as le}from"./formatters-386d1040.js";import{_ as ne}from"./index-c8be389a.js";import{u as ce}from"./useCourseStore-6cd84d06.js";import{V as de}from"./VSpacer-f886726f.js";import{V as pe}from"./VSlideGroup-5752cb22.js";import{V as T}from"./VDivider-56b2b415.js";import{a as R,V as ue}from"./VRow-b362c44e.js";import{V as me}from"./VSlideGroupItem-11ca740b.js";import{V as fe}from"./VChip-5110b4ca.js";import"./VMenu-1ed28082.js";import"./VList-3e9a4151.js";import"./InfoTooltip.vue_vue_type_script_setup_true_lang-1bc17a1b.js";import"./VTooltip-dfa1b725.js";import"./ActionButton-893daa0c.js";import"./utils-cf604421.js";import"./VPagination-1f9c92d0.js";const _e={class:"position-relative"},he={key:0,class:"position-absolute w-100 h-100 d-flex gap-1 align-center justify-center",style:{"background-color":"rgba(0, 0, 0, 56.8%)",inset:"0"}},ye={key:1},ve={class:"d-flex flex-column"},xe={class:"text-base"},ke=l("p",{class:"text-xs"},"Lorem ipsum dolor sit amet",-1),Ve={class:"mb-0 pt-1"},ge={class:"d-flex flex-wrap mt-5"},be={class:"me-5"},we={class:"text-nowrap"},Ce={class:"text-nowrap"},Le={class:"text-nowrap"},Se={class:"text-nowrap"},Be={class:"text-nowrap"},Te={class:"position-sticky",style:{"inset-block-start":"90px"}},Ye=U({__name:"index",setup(Re){const N=q(),I=O(),v=f(!1),A=ce(),n=f(),_=f(!1),c=f(),w=f(),M=H(),k=f(),P=L(()=>{var r,d;return[{title:"edit",_if:M.user.id===((r=n.value)==null?void 0:r.author.id),props:{to:{name:"course-id-edit",params:{id:(d=n.value)==null?void 0:d.id}},"prepend-icon":"mdi-edit"}},{title:"share",_if:!0,props:{"prepend-icon":"tabler-share"}}]}),z=L(()=>{if(!c.value)return{};if(c.value.type===J.video)return{onReady:r=>{var d;return k.value=(d=r.target)==null?void 0:d.plyr},onEnded:r=>_.value=!0,onPause:r=>c.value.playing=!1,onPlay:r=>c.value.playing=!0}}),C=()=>{w.value.next(),_.value=!1},D=()=>{setTimeout(()=>{var r;(r=k.value)==null||r.play()},500),_.value=!1};return K(c,r=>{r&&r.type==="video"&&(setTimeout(()=>{var d;(d=k.value)==null||d.play()},500),_.value=!1)}),Q(async()=>{try{n.value=await A.getCourse(N.params.id,{additional:{chapters:!0}})}catch{I.push({name:"course"})}}),(r,d)=>{const E=G,$=W("RouterLink"),j=F;return o(),i(ue,null,{default:s(()=>[a(R,{cols:"12",md:"8"},{default:s(()=>[a(X,null,{default:s(()=>[!e(v)&&e(c)?(o(),i(Y,{key:0,class:"py-0 px-0"},{default:s(()=>[l("div",_e,[(o(),i(ne,S(e(z),{key:e(c).id,"aspect-ratio":"1.77",media:e(c)}),{toolbar:s(()=>[a(V,{variant:"elevated",color:"default","append-icon":"mdi-skip-forward",onClick:C},{default:s(()=>[p(" Continue ")]),_:1})]),_:1},16,["media"])),e(_)?(o(),g("div",he,[a(V,{color:"default","prepend-icon":"mdi-rotate-left",onClick:D},{default:s(()=>[p(" Start Over ")]),_:1}),a(V,{color:"default","append-icon":"mdi-skip-forward",onClick:C},{default:s(()=>[p(" Continue ")]),_:1})])):B("",!0)])]),_:1})):(o(),i(e(h),{key:1,type:["image","image"]}))]),_:1}),e(v)?(o(),i(e(h),{key:1,type:["heading","list-item-avatar-three-line"]})):(o(),i(b,{key:0},{default:s(()=>[a(Z,{class:"text-capitalize text-h3 text-wrap d-flex"},{default:s(()=>{var t;return[a(E,{"max-lines":2,"char-width":3.5,text:((t=e(n))==null?void 0:t.title)||""},{default:s(({text:u})=>[p(m(u),1)]),_:1},8,["text"])]}),_:1}),a(ee,{class:"d-flex mt-3 px-1 align-center"},{default:s(()=>[a(te,{size:"35",class:"me-2"},{default:s(()=>{var t,u,x;return[(t=e(n))!=null&&t.author.profile_photo_url?(o(),i(ae,{key:0,src:(u=e(n))==null?void 0:u.author.profile_photo_url,cover:""},null,8,["src"])):(o(),g("span",ye,m(e(le)(((x=e(n))==null?void 0:x.author.name)||"")),1))]}),_:1}),l("div",ve,[l("h6",xe,[a($,{to:"#",class:"font-weight-medium user-list-name text-grey-600"},{default:s(()=>{var t;return[p(m((t=e(n))==null?void 0:t.author.name),1)]}),_:1})]),ke]),a(de),a(pe,{"show-arrows":"","center-active":""},{default:s(()=>[(o(!0),g(oe,null,se(e(P).filter(({_if:t})=>t),t=>(o(),i(me,{key:t.title},{default:s(()=>[a(fe,S(t.props,{class:"ma-1"}),{default:s(()=>[p(m(t.title),1)]),_:2},1040)]),_:2},1024))),128))]),_:1}),B("",!0)]),_:1})]),_:1})),a(T,{class:"mx-6"}),e(v)?(o(),i(e(h),{key:3,class:"py-5",type:["heading","paragraph"]})):(o(),i(b,{key:2,title:"About this course"},{default:s(()=>{var t;return[l("p",Ve,m((t=e(n))==null?void 0:t.description),1)]}),_:1})),a(T,{class:"mx-6"}),e(v)?(o(),i(e(h),{key:5,class:"py-5",type:["heading","paragraph"]})):(o(),i(b,{key:4,title:"By the numbers"},{default:s(()=>{var t,u;return[l("div",ge,[l("div",be,[l("p",we,[a(y,{icon:"mdi-check-all",class:"me-2 mt-n2"}),p(" Skill level: "+m((t=e(n))==null?void 0:t.difficulty),1)]),l("p",Ce,[a(y,{icon:"mdi-users",class:"me-2 mt-n2"}),p("Students: 38,815 ")]),l("p",Le,[a(y,{icon:"mdi-flag",class:"me-2 mt-n2"}),p("Languages: English ")])]),l("div",null,[l("p",Se,[a(y,{icon:"mdi-pencil",class:"me-2 mt-n2"}),p("Lectures: 19 ")]),l("p",Be,[a(y,{icon:"mdi-clock",class:"me-2 mt-n2"}),p("Video: "+m(e(re)(((u=e(n))==null?void 0:u.duration)||0))+" total minutes ",1)])])])]}),_:1}))]),_:1}),a(R,{cols:"12",md:"4"},{default:s(()=>{var t,u;return[l("div",Te,[(t=e(n))!=null&&t.chapters?(o(),i(j,{key:0,ref_key:"playList",ref:w,attachment:e(c),"onUpdate:attachment":d[0]||(d[0]=x=>ie(c)?c.value=x:null),chapters:(u=e(n))==null?void 0:u.chapters},null,8,["attachment","chapters"])):(o(),i(e(h),{key:1,type:Array(5).fill("list-item-avatar-three-line")},null,8,["type"]))])]}),_:1})]),_:1})}}});export{Ye as default};

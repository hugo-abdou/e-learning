import{_ as j}from"./CoursePlayList.vue_vue_type_script_setup_true_lang-0dbb5a5d.js";import{_ as F}from"./ResponsiveText.vue_vue_type_script_setup_true_lang-db098e23.js";import{d as G,l as q,m as O,r as y,N as H,a8 as J,w as K,b$ as Q,a as W,o,c as h,b as a,f as s,b9 as X,q as e,h as l,e as p,c2 as C,al as V,y as u,k as g,bf as Y,c0 as v,bb as Z,z as f,bD as ee,bc as te,bk as ae,F as se,j as oe,ba as L,a3 as k,c3 as re,b2 as ie,c6 as le,v as ne}from"./main-2d2efdef.js";import{a as ce}from"./formatters-386d1040.js";import{_ as pe}from"./index-c8be389a.js";import{u as de}from"./useCourseStore-6cd84d06.js";import{a as B,V as ue}from"./VRow-b362c44e.js";import{V as me}from"./VSpacer-f886726f.js";import{V as fe}from"./VSlideGroup-5752cb22.js";import{V as T}from"./VDivider-56b2b415.js";import{V as _e}from"./VSlideGroupItem-11ca740b.js";import{V as ye}from"./VChip-5110b4ca.js";import"./VMenu-1ed28082.js";import"./VList-3e9a4151.js";import"./InfoTooltip.vue_vue_type_script_setup_true_lang-1bc17a1b.js";import"./VTooltip-dfa1b725.js";import"./ActionButton-893daa0c.js";import"./utils-cf604421.js";import"./VPagination-1f9c92d0.js";const he={class:"card"},ve={class:"position-relative"},ke={key:0},xe={key:0,class:"position-absolute w-100 h-100 d-flex gap-1 align-center justify-center",style:{inset:"0","background-color":"rgba(0, 0, 0, 0.568)"}},Ve={key:1},ge={class:"d-flex flex-column"},be={class:"text-base"},we=p("p",{class:"text-xs"},"Lorem ipsum dolor sit amet",-1),Ce={class:"mb-0 pt-1"},Le={class:"d-flex flex-wrap mt-5"},Se={class:"me-5"},Be={class:"text-nowrap"},Te={class:"text-nowrap"},Ne={class:"text-nowrap"},Re={class:"text-nowrap"},Pe={class:"text-nowrap"},$e={class:"position-sticky",style:{top:"90px"}},at=G({__name:"index copy",setup(Ie){const N=q(),R=O(),_=y(!1),P=de(),n=y(),m=y(!1),c=y(),S=y(),$=H(),b=y(),I=J(()=>{var d,r;return[{title:"edit",_if:$.user.id===((d=n.value)==null?void 0:d.author.id),props:{to:{name:"course-id-edit",params:{id:(r=n.value)==null?void 0:r.id}},"prepend-icon":"mdi-edit"}},{title:"share",_if:!0,props:{"prepend-icon":"tabler-share"}}]}),A=({page:d,pages:r})=>{console.log(d,r),d==r&&(m.value=!0)},w=()=>{S.value.next(),m.value=!1},M=()=>{setTimeout(()=>{var d;(d=b.value)==null||d.play()},500),m.value=!1};return K(c,d=>{d&&d.type==="video"&&(setTimeout(()=>{var r;(r=b.value)==null||r.play()},500),m.value=!1)}),Q(async()=>{_.value=!0;try{n.value=await P.getCourse(Number(N.params.id),{additional:{chapters:!0}})}catch{R.push({name:"course"})}_.value=!1}),(d,r)=>{const U=le,z=F,D=W("RouterLink"),E=j;return o(),h("div",he,[a(ue,null,{default:s(()=>[a(B,{cols:"12",md:"8"},{default:s(()=>[a(X,null,{default:s(()=>[!e(_)&&e(c)?(o(),l(Y,{key:0,class:"py-0 px-0"},{default:s(()=>{var t;return[p("div",ve,[e(c).type===e(C).video?(o(),h("div",ke,[a(U,{src:e(c).url,poster:e(c).thumb_url,title:(t=e(n))==null?void 0:t.title,onReady:r[0]||(r[0]=i=>b.value=i.target.plyr),onEnded:r[1]||(r[1]=i=>m.value=!0),onPause:r[2]||(r[2]=i=>e(c).playing=!1),onPlay:r[3]||(r[3]=i=>e(c).playing=!0)},null,8,["src","poster","title"]),e(m)?(o(),h("div",xe,[a(V,{color:"default","prepend-icon":"mdi-rotate-left",onClick:M},{default:s(()=>[u(" Start Over ")]),_:1}),a(V,{color:"default","append-icon":"mdi-skip-forward",onClick:w},{default:s(()=>[u(" Continue ")]),_:1})])):g("",!0)])):(o(),l(pe,{key:e(c).id,"aspect-ratio":"1.77",media:e(c),"is-preview":"","onUpdate:pdf":A},{"bottom-toolbar":s(()=>[e(c).type===e(C).pdf&&e(m)?(o(),l(V,{key:0,variant:"tonal",color:"default","append-icon":"mdi-skip-forward",onClick:w},{default:s(()=>[u(" Continue ")]),_:1})):g("",!0),e(c).type===e(C).image?(o(),l(V,{key:1,variant:"tonal",color:"default","append-icon":"mdi-skip-forward",onClick:w},{default:s(()=>[u(" Continue ")]),_:1})):g("",!0)]),_:1},8,["media"]))])]}),_:1})):(o(),l(e(v),{key:1,type:["image","image"]}))]),_:1}),e(_)?(o(),l(e(v),{key:1,type:["heading","list-item-avatar-three-line"]})):(o(),l(L,{key:0},{default:s(()=>[a(Z,{class:"text-capitalize text-h3 text-wrap d-flex"},{default:s(()=>{var t;return[a(z,{"max-lines":2,"char-width":3.5,text:((t=e(n))==null?void 0:t.title)||""},{default:s(({text:i})=>[u(f(i),1)]),_:1},8,["text"])]}),_:1}),a(ee,{class:"d-flex mt-3 px-1 align-center"},{default:s(()=>[a(te,{size:"35",class:"me-2"},{default:s(()=>{var t,i,x;return[(t=e(n))!=null&&t.author.profile_photo_url?(o(),l(ae,{key:0,src:(i=e(n))==null?void 0:i.author.profile_photo_url,cover:""},null,8,["src"])):(o(),h("span",Ve,f(e(ce)(((x=e(n))==null?void 0:x.author.name)||"")),1))]}),_:1}),p("div",ge,[p("h6",be,[a(D,{to:"#",class:"font-weight-medium user-list-name text-grey-600"},{default:s(()=>{var t;return[u(f((t=e(n))==null?void 0:t.author.name),1)]}),_:1})]),we]),a(me),a(fe,{"show-arrows":"","center-active":""},{default:s(()=>[(o(!0),h(se,null,oe(e(I).filter(({_if:t})=>t),t=>(o(),l(_e,{key:t.title},{default:s(()=>[a(ye,ne(t.props,{class:"ma-1"}),{default:s(()=>[u(f(t.title),1)]),_:2},1040)]),_:2},1024))),128))]),_:1}),g("",!0)]),_:1})]),_:1})),a(T,{class:"mx-6"}),e(_)?(o(),l(e(v),{key:3,class:"py-5",type:["heading","paragraph"]})):(o(),l(L,{key:2,title:"About this course"},{default:s(()=>{var t;return[p("p",Ce,f((t=e(n))==null?void 0:t.description),1)]}),_:1})),a(T,{class:"mx-6"}),e(_)?(o(),l(e(v),{key:5,class:"py-5",type:["heading","paragraph"]})):(o(),l(L,{key:4,title:"By the numbers"},{default:s(()=>{var t,i;return[p("div",Le,[p("div",Se,[p("p",Be,[a(k,{icon:"mdi-check-all",class:"me-2 mt-n2"}),u(" Skill level: "+f((t=e(n))==null?void 0:t.difficulty),1)]),p("p",Te,[a(k,{icon:"mdi-users",class:"me-2 mt-n2"}),u("Students: 38,815 ")]),p("p",Ne,[a(k,{icon:"mdi-flag",class:"me-2 mt-n2"}),u("Languages: English ")])]),p("div",null,[p("p",Re,[a(k,{icon:"mdi-pencil",class:"me-2 mt-n2"}),u("Lectures: 19 ")]),p("p",Pe,[a(k,{icon:"mdi-clock",class:"me-2 mt-n2"}),u("Video: "+f(e(re)(((i=e(n))==null?void 0:i.duration)||0))+" total minutes ",1)])])])]}),_:1}))]),_:1}),a(B,{cols:"12",md:"4"},{default:s(()=>{var t,i;return[p("div",$e,[(t=e(n))!=null&&t.chapters?(o(),l(E,{key:0,ref_key:"playList",ref:S,attachment:e(c),"onUpdate:attachment":r[4]||(r[4]=x=>ie(c)?c.value=x:null),chapters:(i=e(n))==null?void 0:i.chapters},null,8,["attachment","chapters"])):(o(),l(e(v),{key:1,type:Array(5).fill("list-item-avatar-three-line")},null,8,["type"]))])]}),_:1})]),_:1})])}}});export{at as default};

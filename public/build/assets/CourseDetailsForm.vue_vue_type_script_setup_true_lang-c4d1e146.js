import{_ as w}from"./FileUploaderDialog.vue_vue_type_script_setup_true_lang-f2d763a2.js";import{_ as C}from"./AppSelect.vue_vue_type_script_setup_true_lang-5c14f55a.js";import{_ as U}from"./InfoTooltip.vue_vue_type_script_setup_true_lang-1bc17a1b.js";import{d as k,ch as b,c1 as D,r as m,w as h,o as f,c as V,b as e,f as i,b9 as q,ba as B,q as t,h as F,al as T,v as E,e as z,a3 as I,y as N,z as P,b2 as S,F as j}from"./main-2d2efdef.js";import{r as _}from"./validators-753247d6.js";import{_ as A}from"./index-c8be389a.js";import{U as O}from"./utils-cf604421.js";import{V as R,a as u}from"./VRow-b362c44e.js";import{b as L}from"./VInput-84038333.js";import{V as G}from"./VTextField-a58b9262.js";import{V as H}from"./VTextarea-5701c4af.js";import{V as J}from"./VForm-d1b03105.js";const K={key:0,style:{"max-block-size":"200px"},class:"h-100"},M={class:"d-flex flex-column align-center"},ue=k({__name:"CourseDetailsForm",props:{course:{default:()=>({description:"",thumbnail:void 0,difficulty:b.Beginner,status:D.Draft,title:"",prerequisite_id:""})}},setup(v,{expose:y,emit:Q}){const p=v,r=m(!1),o=m(p.course),d=m({}),$=async()=>{try{const{valid:l}=await d.value.validate();return l?Promise.resolve(o.value):Promise.reject(new Error("validation faild"))}catch(l){throw l}},g=l=>{o.value.thumbnail=l[0].thumb_url,r.value=!1};return y({formEl:d,validate:$}),h(()=>p.course,l=>{o.value=l}),(l,a)=>{const n=U,c=C,x=w;return f(),V(j,null,[e(t(J),{ref_key:"formEl",ref:d},{default:i(()=>[e(q,null,{default:i(()=>[e(B,null,{default:i(()=>[e(R,{class:"mt-0"},{default:i(()=>[e(u,{cols:"12",md:"4"},{default:i(()=>[t(o).thumbnail?(f(),V("div",K,[e(A,{media:{thumb_url:t(o).thumbnail,status:2,type:"image"},deletable:"","is-preview":"",onOnDelete:a[0]||(a[0]=s=>t(o).thumbnail=void 0)},null,8,["media"])])):(f(),F(n,{key:1,text:l.$t("media.upload.description")},{default:i(({props:s})=>[e(T,E({...s,...t(O),style:"min-height: 130px"},{onClick:a[1]||(a[1]=W=>r.value=!0)}),{default:i(()=>[z("div",M,[e(I,{icon:"flat-color-icons:add-image",size:"28"}),e(L,{class:"mt-2"},{default:i(()=>[N(P(l.$t("media.thumbnale")),1)]),_:1})])]),_:2},1040)]),_:1},8,["text"]))]),_:1}),e(u,{cols:"12",md:"8"},{default:i(()=>[e(G,{modelValue:t(o).title,"onUpdate:modelValue":a[2]||(a[2]=s=>t(o).title=s),rules:[t(_)],label:l.$t("course.fields.title.label"),class:"mb-5"},{"append-inner":i(()=>[e(n,{text:l.$t("course.fields.title.description")},null,8,["text"])]),_:1},8,["modelValue","rules","label"]),e(H,{modelValue:t(o).description,"onUpdate:modelValue":a[3]||(a[3]=s=>t(o).description=s),rules:[t(_)],label:l.$t("course.fields.description.label")},{"append-inner":i(()=>[e(n,{text:l.$t("course.fields.description.description")},null,8,["text"])]),_:1},8,["modelValue","rules","label"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:i(()=>[e(c,{modelValue:t(o).difficulty,"onUpdate:modelValue":a[4]||(a[4]=s=>t(o).difficulty=s),items:Object.values(t(b)).map(s=>({title:l.$t(`course.fields.difficulty.options.${s}`),value:s})),label:l.$t("course.fields.difficulty.label")},{"append-inner":i(()=>[e(n,{text:l.$t("course.fields.difficulty.description")},null,8,["text"])]),_:1},8,["modelValue","items","label"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:i(()=>[e(c,{modelValue:t(o).prerequisite_id,"onUpdate:modelValue":a[5]||(a[5]=s=>t(o).prerequisite_id=s),items:[],label:l.$t("course.fields.prerequisite.label")},{"append-inner":i(()=>[e(n,{text:l.$t("course.fields.prerequisite.description")},null,8,["text"])]),_:1},8,["modelValue","label"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),e(x,{"is-dialog-visible":t(r),"onUpdate:isDialogVisible":a[6]||(a[6]=s=>S(r)?r.value=s:null),"allowed-file-types":["image/*"],"max-number-of-files":1,onDone:g},null,8,["is-dialog-visible"])],64)}}});export{ue as _};

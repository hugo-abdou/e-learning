import{d as P,l as S,r as i,N as R,m as T,a as B,o as F,c as I,e as n,b as s,q as e,O as V,f as o,bc as L,J as b,bd as j,y as f,z as v,bh as y,bf as q,am as M,a4 as U,bb as $}from"./main-83f81ad7.js";import{_ as z}from"./AppTextField.vue_vue_type_script_setup_true_lang-7e68b421.js";import{a as E,b as H}from"./auth-v1-top-shape-c5f58476.js";import{V as _}from"./VNodeRenderer-f8c5a98c.js";import{r as g,c as A}from"./validators-4b12fd35.js";import{V as D,a as m}from"./VRow-4a6d7b26.js";import{V as J}from"./VForm-ee00a18c.js";import"./VInput-c65df7da.js";import"./VTextField-d890cb14.js";import"./VField-d76a4324.js";const O={class:"auth-wrapper d-flex align-center justify-center pa-4"},G={class:"position-relative my-sm-16"},K={class:"d-flex"},Q=n("h5",{class:"text-h5 mb-1"},"Reset Password ðŸ”’",-1),W={class:"mb-0"},X={class:"font-weight-bold"},Y=n("span",null,"Back to login",-1),pe=P({__name:"[token]",setup(Z){const w=S(),r=i({token:w.params.token,email:w.query.email,password:"",password_confirmation:""}),u=i({password_confirmation:void 0,password:void 0}),d=i(!1),p=i(!1),k=R(),c=i(),x=T();async function C(){if(c.value)try{const{valid:a}=await c.value.validate();a&&(await k.setNewPassword(r.value),x.push({name:"login"}))}catch(a){if(!a.response)throw a;const{errors:t}=a.response.data;u.value=t}}return(a,t)=>{const h=z,N=B("RouterLink");return F(),I("div",O,[n("div",G,[s(e(_),{nodes:("h"in a?a.h:e(V))("div",{innerHTML:e(E)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),s(e(_),{nodes:("h"in a?a.h:e(V))("div",{innerHTML:e(H)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),s($,{class:"auth-card pa-4","max-width":"448"},{default:o(()=>[s(L,{class:"justify-center"},{prepend:o(()=>[n("div",K,[s(e(_),{nodes:e(b).app.logo},null,8,["nodes"])])]),default:o(()=>[s(j,{class:"font-weight-bold text-capitalize text-h5 py-1"},{default:o(()=>[f(v(e(b).app.title),1)]),_:1})]),_:1}),s(y,{class:"pt-2"},{default:o(()=>[Q,n("p",W,[f(" for "),n("span",X,v(e(r).email),1)])]),_:1}),s(y,null,{default:o(()=>[s(e(J),{ref_key:"refVForm",ref:c,onSubmit:q(C,["prevent"])},{default:o(()=>[s(D,null,{default:o(()=>[s(m,{cols:"12"},{default:o(()=>[s(h,{modelValue:e(r).password,"onUpdate:modelValue":t[0]||(t[0]=l=>e(r).password=l),rules:[e(g)],"error-messages":e(u).password,autofocus:"",label:"New Password",type:e(d)?"text":"password","append-inner-icon":e(d)?"tabler-eye-off":"tabler-eye","onClick:appendInner":t[1]||(t[1]=l=>d.value=!e(d))},null,8,["modelValue","rules","error-messages","type","append-inner-icon"])]),_:1}),s(m,{cols:"12"},{default:o(()=>[s(h,{modelValue:e(r).password_confirmation,"onUpdate:modelValue":t[2]||(t[2]=l=>e(r).password_confirmation=l),label:"Confirm Password",rules:[e(g),e(A)(e(r).password_confirmation,e(r).password)],"error-messages":e(u).password_confirmation,type:e(p)?"text":"password","append-inner-icon":e(p)?"tabler-eye-off":"tabler-eye","onClick:appendInner":t[3]||(t[3]=l=>p.value=!e(p))},null,8,["modelValue","rules","error-messages","type","append-inner-icon"])]),_:1}),s(m,{cols:"12"},{default:o(()=>[s(M,{block:"",type:"submit"},{default:o(()=>[f(" Set New Password ")]),_:1})]),_:1}),s(m,{cols:"12"},{default:o(()=>[s(N,{class:"d-flex align-center justify-center",to:{name:"login"}},{default:o(()=>[s(U,{icon:"tabler-chevron-left",class:"flip-in-rtl"}),Y]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])}}});export{pe as default};

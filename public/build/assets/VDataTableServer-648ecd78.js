import{cM as Me,y as c,m as Ne,J as C,cN as P,t as E,L as K,cO as Q,bU as D,bA as _,a6 as F,I as w,a1 as k,cP as U,O,ax as X,cQ as Le,cR as Ae,a0 as Ge,ac as N,cS as He,F as M,E as Re,af as B,ap as Y,cT as Ke,aJ as Z,cU as W,aA as ee,cV as Ue,cW as We,aM as je,e as q,cX as ze,ab as te}from"./main-0fb5c6c1.js";import{V as Je}from"./VSelect-4aaf1ab0.js";import{V as j}from"./VCheckboxBtn-519cbdc3.js";import{m as Qe,d as Xe}from"./VList-48ccb2a7.js";import{V as ae}from"./VTable-2bbef517.js";const z=Me({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,n)=>{let{slots:a,attrs:t}=n;const l=e.tag??"td";return c(l,Ne({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:C(e.height),width:C(e.width),left:C(e.fixedOffset||null)}},t),{default:()=>{var o;return[(o=a.default)==null?void 0:o.call(a)]}})}),ne=P({headers:{type:Array,default:()=>[]}},"v-data-table-header"),le=Symbol.for("vuetify:data-table-headers");function re(e,n){const a=E([]),t=E([]);K(()=>e.headers,()=>{var b,x,S;const o=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],u=o.flatMap((h,v)=>h.map(m=>({column:m,row:v}))),d=o.length,r={title:"",sortable:!1},s={...r,width:48};if((b=n==null?void 0:n.groupBy)!=null&&b.value.length){const h=u.findIndex(v=>{let{column:m}=v;return m.key==="data-table-group"});h<0?u.unshift({column:{...r,key:"data-table-group",title:"Group",rowspan:d},row:0}):u.splice(h,1,{column:{...r,...u[h].column},row:u[h].row})}if((x=n==null?void 0:n.showSelect)!=null&&x.value){const h=u.findIndex(v=>{let{column:m}=v;return m.key==="data-table-select"});h<0?u.unshift({column:{...s,key:"data-table-select",rowspan:d},row:0}):u.splice(h,1,{column:{...s,...u[h].column},row:u[h].row})}if((S=n==null?void 0:n.showExpand)!=null&&S.value){const h=u.findIndex(v=>{let{column:m}=v;return m.key==="data-table-expand"});h<0?u.push({column:{...s,key:"data-table-expand",rowspan:d},row:0}):u.splice(h,1,{column:{...s,...u[h].column},row:u[h].row})}const i=Q(d).map(()=>[]),f=Q(d).fill(0);let g=0;u.forEach(h=>{let{column:v,row:m}=h;const I=v.key??`data-table-column-${g++}`;for(let p=m;p<=m+(v.rowspan??1)-1;p++)i[p].push({...v,key:I,fixedOffset:f[p],sortable:v.sortable??!!v.key}),f[p]+=v.width??0}),i.forEach(h=>{for(let v=h.length;v--;v>=0)if(h[v].fixed){h[v].lastFixed=!0;return}});const y=new Set;a.value=i.map(h=>{const v=[];for(const m of h)y.has(m.key)||(y.add(m.key),v.push(m));return v}),t.value=i.at(-1)??[]},{deep:!0,immediate:!0});const l={headers:a,columns:t};return D(le,l),l}function H(){const e=_(le);if(!e)throw new Error("Missing headers!");return e}const oe=P({showSelect:Boolean,modelValue:{type:Array,default:()=>[]}},"v-data-table-select"),ue=Symbol.for("vuetify:data-table-selection");function ie(e,n){const a=F(e,"modelValue",e.modelValue,f=>new Set(f),f=>[...f.values()]);function t(f){return f.every(g=>a.value.has(g.value))}function l(f){return f.some(g=>a.value.has(g.value))}function o(f,g){const y=new Set(a.value);for(const b of f)g?y.add(b.value):y.delete(b.value);a.value=y}function u(f){o([f],!t([f]))}function d(f){o(n.value,f)}const r=w(()=>a.value.size>0),s=w(()=>t(n.value)),i={toggleSelect:u,select:o,selectAll:d,isSelected:t,isSomeSelected:l,someSelected:r,allSelected:s};return D(ue,i),i}function R(){const e=_(ue);if(!e)throw new Error("Missing selection!");return e}const de=P({sortBy:{type:Array,default:()=>[]},multiSort:Boolean,mustSort:Boolean},"v-data-table-sort"),se=Symbol.for("vuetify:data-table-sort");function ce(e){const n=F(e,"sortBy"),a=k(e,"mustSort"),t=k(e,"multiSort");return{sortBy:n,mustSort:a,multiSort:t}}function fe(e){const{sortBy:n,mustSort:a,multiSort:t,page:l}=e,u={sortBy:n,toggleSort:d=>{let r=n.value.map(i=>({...i}))??[];const s=r.find(i=>i.key===d);s?s.order==="desc"?a.value?s.order="asc":r=r.filter(i=>i.key!==d):s.order="desc":t.value?r=[...r,{key:d,order:"asc"}]:r=[{key:d,order:"asc"}],n.value=r,l&&(l.value=1)}};return D(se,u),u}function Ye(){const e=_(se);if(!e)throw new Error("Missing sort!");return e}function Ze(e,n,a){const t=w(()=>a.value.reduce((o,u)=>(u.sort&&(o[u.key]=u.sort),o),{}));return{sortedItems:w(()=>n.value.length?qe(e.value,n.value,"en",t.value):e.value)}}function qe(e,n,a,t){const l=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return[...e].sort((o,u)=>{for(let d=0;d<n.length;d++){const r=n[d].key,s=n[d].order;if(s===!1)continue;let i=U(o.raw,r),f=U(u.raw,r);if(s==="desc"&&([i,f]=[f,i]),t!=null&&t[r]){const g=t[r](i,f);if(!g)continue;return g}if(!(i==null||f==null)){if(i instanceof Date&&f instanceof Date)return i.getTime()-f.getTime();if([i,f]=[i,f].map(g=>(g||"").toString().toLocaleLowerCase()),i!==f)return!isNaN(i)&&!isNaN(f)?Number(i)-Number(f):l.compare(i,f)}}return 0})}const ge=O()({name:"VDataTableHeaders",props:{color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:X,default:"$sortAsc"},sortDescIcon:{type:X,default:"$sortDesc"},...Le()},setup(e,n){let{slots:a,emit:t}=n;const{toggleSort:l,sortBy:o}=Ye(),{someSelected:u,allSelected:d,selectAll:r}=R(),{columns:s,headers:i}=H(),{loaderClasses:f}=Ae(e),g=(v,m)=>!e.sticky&&!v.fixed?null:{position:"sticky",zIndex:v.fixed?4:e.sticky?3:void 0,left:v.fixed?C(v.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${m})`:void 0};function y(v){const m=o.value.find(I=>I.key===v);return m?m.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:b,backgroundColorStyles:x}=Ge(e,"color"),S=w(()=>({headers:i.value,columns:s.value,toggleSort:l,sortBy:o.value,someSelected:u.value,allSelected:d.value,selectAll:r,getSortIcon:y,getFixedStyles:g})),h=v=>{let{column:m,x:I,y:p}=v;const L=!!o.value.find(V=>V.key===m.key),A=m.key==="data-table-select"||m.key==="data-table-expand";return c(z,{tag:"th",align:m.align,class:["v-data-table__th",{"v-data-table__th--sortable":m.sortable,"v-data-table__th--sorted":L},f.value],style:{width:C(m.width),minWidth:C(m.width),...g(m,p)},colspan:m.colspan,rowspan:m.rowspan,onClick:m.sortable?()=>l(m.key):void 0,lastFixed:m.lastFixed,noPadding:A},{default:()=>{var $;const V=`column.${m.key}`,T={column:m,selectAll:r};return a[V]?a[V](T):m.key==="data-table-select"?(($=a["column.data-table-select"])==null?void 0:$.call(a,T))??c(j,{modelValue:d.value,indeterminate:u.value&&!d.value,"onUpdate:modelValue":r},null):c("div",{class:"v-data-table-header__content"},[c("span",null,[m.title]),m.sortable&&c(Re,{key:"icon",class:"v-data-table-header__sort-icon",icon:y(m.key)},null),e.multiSort&&L&&c("div",{key:"badge",class:["v-data-table-header__sort-badge",...b.value],style:x.value},[o.value.findIndex(G=>G.key===m.key)+1])])}})};N(()=>c(M,null,[a.headers?a.headers(S.value):i.value.map((v,m)=>c("tr",null,[v.map((I,p)=>c(h,{column:I,x:p,y:m},null))])),e.loading&&c("tr",{class:"v-data-table__progress"},[c("th",{colspan:s.value.length},[c(He,{name:"v-data-table-headers",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),me=P({groupBy:{type:Array,default:()=>[]}},"data-table-group"),ve=Symbol.for("vuetify:data-table-group");function he(e){return{groupBy:F(e,"groupBy")}}function ye(e){const{groupBy:n,sortBy:a}=e,t=E(new Set),l=w(()=>n.value.map(s=>({...s,order:s.order??!1})).concat(a.value));function o(s){return t.value.has(s.id)}function u(s){const i=new Set(t.value);o(s)?i.delete(s.id):i.add(s.id),t.value=i}function d(s){function i(f){const g=[];for(const y of f.items)y.type==="item"?g.push(y):g.push(...i(y));return g}return i({type:"group-header",items:s,id:"dummy",key:"dummy",value:"dummy",depth:0})}const r={sortByWithGroups:l,toggleGroup:u,opened:t,groupBy:n,extractRows:d,isGroupOpen:o};return D(ve,r),r}function be(){const e=_(ve);if(!e)throw new Error("Missing group!");return e}function et(e,n){if(!e.length)return[];const a=new Map;for(const t of e){const l=U(t.raw,n);a.has(l)||a.set(l,[]),a.get(l).push(t)}return a}function xe(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!n.length)return[];const l=et(e,n[0]),o=[],u=n.slice(1);return l.forEach((d,r)=>{const s=n[0],i=`${t}_${s}_${r}`;o.push({depth:a,id:i,key:s,value:r,items:u.length?xe(d,u,a+1,i):d,type:"group-header"})}),o}function Se(e,n){const a=[];for(const t of e)t.type==="group-header"?(t.value!=null&&a.push(t),(n.has(t.id)||t.value==null)&&a.push(...Se(t.items,n))):a.push(t);return a}function we(e,n,a){return{flatItems:w(()=>{if(!n.value.length)return e.value;const l=xe(e.value,n.value.map(o=>o.key));return Se(l,a.value)})}}const tt=O()({name:"VDataTableGroupHeaderRow",props:{item:{type:Object,required:!0}},setup(e,n){let{slots:a}=n;const{isGroupOpen:t,toggleGroup:l,extractRows:o}=be(),{isSelected:u,isSomeSelected:d,select:r}=R(),{columns:s}=H(),i=w(()=>o([e.item]));return()=>c("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[s.value.map(f=>{var g,y;if(f.key==="data-table-group"){const b=t(e.item)?"$expand":"$next",x=()=>l(e.item);return((g=a["data-table-group"])==null?void 0:g.call(a,{item:e.item,count:i.value.length,props:{icon:b,onClick:x}}))??c(z,{class:"v-data-table-group-header-row__column"},{default:()=>[c(B,{size:"small",variant:"text",icon:b,onClick:x},null),c("span",null,[e.item.value]),c("span",null,[Y("("),i.value.length,Y(")")])]})}if(f.key==="data-table-select"){const b=u(i.value),x=d(i.value)&&!b,S=h=>r(i.value,h);return((y=a["data-table-select"])==null?void 0:y.call(a,{props:{modelValue:b,indeterminate:x,"onUpdate:modelValue":S}}))??c("td",null,[c(j,{modelValue:b,indeterminate:x,"onUpdate:modelValue":S},null)])}return c("td",null,null)})])}}),ke=P({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"v-data-table-expand"),pe=Symbol.for("vuetify:datatable:expanded");function Pe(e){const n=k(e,"expandOnClick"),a=F(e,"expanded",e.expanded,d=>new Set(d),d=>[...d.values()]);function t(d,r){const s=new Set(a.value);r?s.add(d.value):s.delete(d.value),a.value=s}function l(d){return a.value.has(d.value)}function o(d){t(d,!l(d))}const u={expand:t,expanded:a,expandOnClick:n,isExpanded:l,toggleExpand:o};return D(pe,u),u}function Ie(){const e=_(pe);if(!e)throw new Error("foo");return e}const at=Ke({name:"VDataTableRow",props:{index:Number,item:Object,onClick:Function},setup(e,n){let{slots:a}=n;const{isSelected:t,toggleSelect:l}=R(),{isExpanded:o,toggleExpand:u}=Ie(),{columns:d}=H();N(()=>c("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&d.value.map((r,s)=>c(z,{align:r.align,fixed:r.fixed,fixedOffset:r.fixedOffset,lastFixed:r.lastFixed,noPadding:r.key==="data-table-select"||r.key==="data-table-expand",width:r.width},{default:()=>{var y,b;const i=e.item,f=`item.${r.key}`,g={index:e.index,item:e.item,columns:d.value,isSelected:t,toggleSelect:l,isExpanded:o,toggleExpand:u};return a[f]?a[f](g):r.key==="data-table-select"?((y=a["item.data-table-select"])==null?void 0:y.call(a,g))??c(j,{modelValue:t([i]),onClick:Z(()=>l(i),["stop"])},null):r.key==="data-table-expand"?((b=a["item.data-table-expand"])==null?void 0:b.call(a,g))??c(B,{icon:o(i)?"$collapse":"$expand",size:"small",variant:"text",onClick:Z(()=>u(i),["stop"])},null):W(i.columns,r.key)}}))]))}}),Te=O()({name:"VDataTableRows",props:{loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},setup(e,n){let{emit:a,slots:t}=n;const{columns:l}=H(),{expandOnClick:o,toggleExpand:u,isExpanded:d}=Ie(),{isSelected:r,toggleSelect:s}=R(),{toggleGroup:i,isGroupOpen:f}=be(),{t:g}=ee();return N(()=>{var y;return e.loading&&t.loading?c("tr",{class:"v-data-table-rows-loading",key:"loading"},[c("td",{colspan:l.value.length},[t.loading()])]):!e.loading&&!e.items.length&&!e.hideNoData?c("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[c("td",{colspan:l.value.length},[((y=t["no-data"])==null?void 0:y.call(t))??g(e.noDataText)])]):c(M,null,[e.items.map((b,x)=>{var h;if(b.type==="group-header")return t["group-header"]?t["group-header"]({index:x,item:b,columns:l.value,isExpanded:d,toggleExpand:u,isSelected:r,toggleSelect:s,toggleGroup:i,isGroupOpen:f}):c(tt,{key:`group-header_${b.id}`,item:b},t);const S={index:x,item:b,columns:l.value,isExpanded:d,toggleExpand:u,isSelected:r,toggleSelect:s};return c(M,null,[t.item?t.item(S):c(at,{key:`item_${b.value}`,onClick:o.value||e["onClick:row"]?v=>{var m;o.value&&u(b),(m=e["onClick:row"])==null||m.call(e,v,{item:b})}:void 0,index:x,item:b},t),d(b)&&((h=t["expanded-row"])==null?void 0:h.call(t,S))])})])}),{}}});const De=P({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"v-data-table-paginate"),Ve=Symbol.for("vuetify:data-table-pagination");function Be(e){const n=F(e,"page",void 0,t=>+(t??1)),a=F(e,"itemsPerPage",void 0,t=>+(t??10));return{page:n,itemsPerPage:a}}function Ce(e){const{page:n,itemsPerPage:a,itemsLength:t}=e,l=w(()=>a.value===-1?0:a.value*(n.value-1)),o=w(()=>a.value===-1?t.value:Math.min(t.value,l.value+a.value)),u=w(()=>a.value===-1||t.value===0?1:Math.ceil(t.value/a.value));function d(s){a.value=s,n.value=1}const r={page:n,itemsPerPage:a,itemsLength:t,startIndex:l,stopIndex:o,pageCount:u,setItemsPerPage:d};return D(Ve,r),r}function nt(){const e=_(Ve);if(!e)throw new Error("Missing pagination!");return e}function lt(e){const{items:n,startIndex:a,stopIndex:t,itemsPerPage:l}=e;return{paginatedItems:w(()=>l.value<=0?n.value:n.value.slice(a.value,t.value))}}const Fe=O()({name:"VDataTableFooter",props:{prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},setup(e,n){let{slots:a}=n;const{t}=ee(),{page:l,pageCount:o,startIndex:u,stopIndex:d,itemsLength:r,itemsPerPage:s,setItemsPerPage:i}=nt(),f=w(()=>e.itemsPerPageOptions.map(g=>({...g,title:t(g.title)})));return()=>{var g;return c("div",{class:"v-data-table-footer"},[(g=a.prepend)==null?void 0:g.call(a),c("div",{class:"v-data-table-footer__items-per-page"},[c("span",null,[t(e.itemsPerPageText)]),c(Je,{items:f.value,modelValue:s.value,"onUpdate:modelValue":y=>i(Number(y)),density:"compact",variant:"outlined","hide-details":!0},null)]),c("div",{class:"v-data-table-footer__info"},[c("div",null,[t(e.pageText,r.value?u.value+1:0,d.value,r.value)])]),c("div",{class:"v-data-table-footer__pagination"},[c(B,{icon:e.firstIcon,variant:"plain",onClick:()=>l.value=1,disabled:l.value===1,"aria-label":t(e.firstPageLabel)},null),c(B,{icon:e.prevIcon,variant:"plain",onClick:()=>l.value=Math.max(1,l.value-1),disabled:l.value===1,"aria-label":t(e.prevPageLabel)},null),e.showCurrentPage&&c("span",{key:"page",class:"v-data-table-footer__page"},[l.value]),c(B,{icon:e.nextIcon,variant:"plain",onClick:()=>l.value=Math.min(o.value,l.value+1),disabled:l.value===o.value,"aria-label":t(e.nextPageLabel)},null),c(B,{icon:e.lastIcon,variant:"plain",onClick:()=>l.value=o.value,disabled:l.value===o.value,"aria-label":t(e.lastPageLabel)},null)])])}}}),_e=P({...Qe({itemValue:"id"})},"v-data-table-item");function rt(e,n,a){const t=n.split(".");for(;t.length>1;){const l=t.shift();e[l]==null&&(e[l]={}),typeof e[l]=="object"&&(e=e[l])}e[t[0]]=a}function Oe(e,n){const{items:a}=Xe(e);return{items:w(()=>a.value.map(l=>({...l,type:"item",columns:n.value.reduce((o,u)=>(rt(o,u.key,W(l.raw,u.value??u.key)),o),{})})))}}function $e(e){let{page:n,itemsPerPage:a,sortBy:t,groupBy:l,search:o}=e;const u=Ue("VDataTable"),d=w(()=>({page:n.value,itemsPerPage:a.value,sortBy:t.value,groupBy:l.value,search:o.value}));K(()=>o==null?void 0:o.value,()=>{n.value=1});let r=null;K(d,()=>{We(r,d.value)||(u.emit("update:options",d.value),r=d.value)},{deep:!0,immediate:!0})}const ot=(e,n,a)=>e==null||n==null?-1:e.toString().toLocaleLowerCase().indexOf(n.toString().toLocaleLowerCase()),ut=P({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function it(e,n,a){var d;const t=[],l=(a==null?void 0:a.default)??ot,o=a!=null&&a.filterKeys?ze(a.filterKeys):!1,u=Object.keys((a==null?void 0:a.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return t;e:for(let r=0;r<e.length;r++){const s=e[r],i={},f={};let g=-1;if(n&&!(a!=null&&a.noFilter)){if(typeof s=="object"){const x=o||Object.keys(s);for(const S of x){const h=W(s,S,s),v=(d=a==null?void 0:a.customKeyFilter)==null?void 0:d[S];if(g=v?v(h,n,s):l(h,n,s),g!==-1&&g!==!1)v?i[S]=g:f[S]=g;else if((a==null?void 0:a.filterMode)==="every")continue e}}else g=l(s,n,s),g!==-1&&g!==!1&&(f.title=g);const y=Object.keys(f).length,b=Object.keys(i).length;if(!y&&!b||(a==null?void 0:a.filterMode)==="union"&&b!==u&&!y||(a==null?void 0:a.filterMode)==="intersection"&&(b!==u||!y))continue}t.push({index:r,matches:{...f,...i}})}return t}function dt(e,n,a,t){const l=w(()=>typeof(a==null?void 0:a.value)!="string"&&typeof(a==null?void 0:a.value)!="number"?"":String(a.value)),o=E([]),u=E(new Map);je(()=>{o.value=[],u.value=new Map;const r=q(n);it(r,l.value,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:q(t==null?void 0:t.filterKeys)??e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}).forEach(i=>{let{index:f,matches:g}=i;const y=r[f];o.value.push(y),u.value.set(y.value,g)})});function d(r){return u.value.get(r.value)}return{filteredItems:o,filteredMatches:u,getMatches:d}}const Ee=P({..._e(),...ne(),hideNoData:Boolean,hover:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},height:[String,Number],width:[String,Number],fixedHeader:Boolean,fixedFooter:Boolean,"onClick:row":Function,search:String},"v-data-table");O()({name:"VDataTable",props:{...Ee(),...ke(),...me(),...oe(),...de(),...De(),...ut()},emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,n){let{emit:a,slots:t}=n;const{groupBy:l}=he(e),{sortBy:o,multiSort:u,mustSort:d}=ce(e),{page:r,itemsPerPage:s}=Be(e),{columns:i}=re(e,{groupBy:l,showSelect:k(e,"showSelect"),showExpand:k(e,"showExpand")}),{items:f}=Oe(e,i),g=w(()=>i.value.map(T=>"columns."+T.key)),y=k(e,"search"),{filteredItems:b}=dt(e,f,y,{filterKeys:g});fe({sortBy:o,multiSort:u,mustSort:d,page:r});const{sortByWithGroups:x,opened:S,extractRows:h}=ye({groupBy:l,sortBy:o}),{sortedItems:v}=Ze(b,x,i),{flatItems:m}=we(v,l,S),I=w(()=>m.value.length),{startIndex:p,stopIndex:L}=Ce({page:r,itemsPerPage:s,itemsLength:I}),{paginatedItems:A}=lt({items:m,startIndex:p,stopIndex:L,itemsPerPage:s}),V=w(()=>h(A.value));return ie(e,V),Pe(e),$e({page:r,itemsPerPage:s,sortBy:o,groupBy:l,search:y}),te({VDataTableRows:{hideNoData:k(e,"hideNoData"),noDataText:k(e,"noDataText")}}),N(()=>c(ae,{class:["v-data-table",{"v-data-table--show-select":e.showSelect}],fixedHeader:e.fixedHeader,fixedFooter:e.fixedFooter,height:e.height,hover:e.hover},{top:t.top,default:t.default??(()=>{var T,$,G,J;return c(M,null,[(T=t.colgroup)==null?void 0:T.call(t,{columns:i}),c("thead",null,[c(ge,{sticky:e.fixedHeader,multiSort:e.multiSort},t)]),($=t.thead)==null?void 0:$.call(t),c("tbody",null,[t.body?t.body():c(Te,{items:A.value,"onClick:row":e["onClick:row"]},t)]),(G=t.tbody)==null?void 0:G.call(t),(J=t.tfoot)==null?void 0:J.call(t)])}),bottom:t.bottom??(()=>c(Fe,null,{prepend:t["footer.prepend"]}))})),{}}});const vt=O()({name:"VDataTableServer",props:{color:String,loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},itemsLength:{type:[Number,String],required:!0},...Ee(),...ke(),...ne(),..._e(),...oe(),...de(),...De(),...me()},emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0,"click:row":(e,n)=>!0},setup(e,n){let{emit:a,slots:t}=n;const{groupBy:l}=he(e),{sortBy:o,multiSort:u,mustSort:d}=ce(e),{page:r,itemsPerPage:s}=Be(e),i=w(()=>parseInt(e.itemsLength,10));Pe(e);const{columns:f}=re(e,{groupBy:l,showSelect:k(e,"showSelect"),showExpand:k(e,"showExpand")}),{items:g}=Oe(e,f),{toggleSort:y}=fe({sortBy:o,multiSort:u,mustSort:d,page:r}),{opened:b}=ye({groupBy:l,sortBy:o});Ce({page:r,itemsPerPage:s,itemsLength:i});const{flatItems:x}=we(g,l,b);ie(e,g),$e({page:r,itemsPerPage:s,sortBy:o,groupBy:l,search:k(e,"search")}),D("v-data-table",{toggleSort:y,sortBy:o}),te({VDataTableRows:{hideNoData:k(e,"hideNoData"),noDataText:k(e,"noDataText"),loading:k(e,"loading"),loadingText:k(e,"loadingText")}}),N(()=>c(ae,{class:["v-data-table",{"v-data-table--loading":e.loading}],fixedHeader:e.fixedHeader,fixedFooter:e.fixedFooter,height:e.height,hover:e.hover},{top:t.top,default:t.default??(()=>{var S,h,v,m;return c(M,null,[(S=t.colgroup)==null?void 0:S.call(t,{columns:f}),c("thead",{class:"v-data-table__thead",role:"rowgroup"},[c(ge,{sticky:e.fixedHeader,loading:e.loading,color:e.color},t)]),(h=t.thead)==null?void 0:h.call(t),c("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[t.body?t.body():c(Te,{items:x.value,"onClick:row":e["onClick:row"]},t)]),(v=t.tbody)==null?void 0:v.call(t),(m=t.tfoot)==null?void 0:m.call(t)])}),bottom:t.bottom??(()=>c(Fe,null,{prepend:t["footer.prepend"]}))}))}});export{vt as V};

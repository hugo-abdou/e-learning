import{_ as se}from"./DateTimePicker.vue_vue_type_style_index_0_lang-2b0f74cd.js";import{V as q,a as A}from"./VRow-5caa7b67.js";import{b as ae}from"./VInput-5eb88156.js";import{d as W,o as a,h as m,f as t,b as e,c as g,F as N,j as K,s as L,y as E,A as le,e as n,a0 as x,x as v,z as $,_ as ie,r as V,a6 as T,bL as ne,p as s,aj as C,I as re,bb as z,l as ce,bC as O,bG as ue,v as S,bA as G}from"./main-ab587e07.js";import{V as pe,a as de}from"./VRadioGroup-abd16d3c.js";import{V as me,a as H,b as J,c as M,_ as _e}from"./CourseChaptersForm.vue_vue_type_script_setup_true_lang-23f08ef0.js";import{_ as ve}from"./CourseDetailsForm.vue_vue_type_script_setup_true_lang-fb848872.js";import{V as fe}from"./VSlideGroupItem-58f221b0.js";import{V as he}from"./VSlideGroup-173d52db.js";import{u as be}from"./useCourseStore-5ce782b5.js";import{V as ye}from"./VContainer-4e27f0af.js";import{a as ge,b as U}from"./VWindowItem-5983a7f5.js";import{b as Z}from"./route-block-83d24a4e.js";import"./VField-3a656c69.js";import"./VSelectionControl-e21cd96e.js";import"./FileUploaderDialog.vue_vue_type_script_setup_true_lang-2c4f6be2.js";import"./VCheckboxBtn-a46fe0b5.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-1f509c94.js";import"./VTextField-deb3e0dc.js";import"./index-d785cefe.js";import"./ActionButton-f804b95b.js";import"./utils-a37cea90.js";import"./VSpacer-d0ad8875.js";import"./VChip-6a02f0c0.js";import"./VPagination-35fe8804.js";import"./VMenu-dfb1af7a.js";import"./VList-8bffd640.js";import"./VDivider-8124f53f.js";import"./lodash-5afa6c31.js";import"./InfoTooltip.vue_vue_type_script_setup_true_lang-f0d0e182.js";import"./VTooltip-0d8f9dc0.js";import"./validators-f52bbb1d.js";import"./VForm-f700b644.js";import"./VSelect-fdde16f0.js";import"./VSwitch-7f5929ce.js";import"./AppSelect.vue_vue_type_script_setup_true_lang-6c729fa7.js";const Ve={class:"d-flex flex-column align-center text-center gap-2"},Se={class:"cr-title text-base"},Ce={class:"text-sm mb-0 clamp-text"},xe=W({__name:"CustomRadiosWithIcon",props:{selectedRadio:{},radioContent:{},gridColumn:{}},emits:["update:selectedRadio"],setup(R,{emit:u}){const o=R,b=u,r=_=>{b("update:selectedRadio",_)};return(_,f)=>o.radioContent?(a(),m(de,{key:0,"model-value":o.selectedRadio,"onUpdate:modelValue":r},{default:t(()=>[e(q,null,{default:t(()=>[(a(!0),g(N,null,K(o.radioContent,l=>(a(),m(A,L({key:l.title},_.gridColumn),{default:t(()=>[e(ae,{class:E(["custom-input custom-radio-icon rounded cursor-pointer",o.selectedRadio===l.value?"active":""])},{default:t(()=>[le(_.$slots,"default",{item:l},()=>[n("div",Ve,[e(x,L(l.icon,{class:"text-high-emphasis"}),null,16),n("h6",Se,v(l.title),1),n("p",Ce,v(l.desc),1)])],!0),n("div",null,[e(pe,{value:l.value},null,8,["value"])])]),_:2},1032,["class"])]),_:2},1040))),128))]),_:3})]),_:3},8,["model-value"])):$("",!0)}});const ke=ie(xe,[["__scopeId","data-v-0f137429"]]),we=["onClick"],ze={key:0,class:"stepper-icon-step text-high-emphasis d-flex align-center gap-2"},$e={class:"stepper-icon"},Re={class:"stepper-title font-weight-medium mb-0"},Ie={key:0,class:"stepper-subtitle"},Pe={class:"text-sm"},Ae={key:1,class:"d-flex align-center gap-x-4"},Ee={class:"d-flex align-center gap-2"},Be={class:"d-flex align-center justify-center"},Fe={class:"text-h5",style:{color:"rgb(var(--v-theme-primary))"}},Te={class:"d-flex flex-column justify-center"},Ue={class:"step-title font-weight-medium"},Ne={key:0,class:"step-subtitle text-sm text-disabled"},We={key:0,class:"stepper-step-line"},je=W({__name:"AppStepper",props:{items:{},currentStep:{default:0},direction:{default:"horizontal"},iconSize:{default:52},isActiveStepValid:{type:Boolean,default:void 0},align:{default:"center"}},emits:["update:currentStep"],setup(R,{emit:u}){const o=R,b=u,r=V(o.currentStep||0),_=T(()=>y=>y<r.value?"stepper-steps-completed":y===r.value?"stepper-steps-active":""),f=T(()=>y=>o.direction==="horizontal"&&o.items.length-1!==y),l=T(()=>o.isActiveStepValid!==void 0);return ne(()=>{o.currentStep!==void 0&&o.currentStep<o.items.length&&o.currentStep>=0&&(r.value=o.currentStep),b("update:currentStep",r.value)}),(y,I)=>(a(),m(he,{modelValue:s(r),"onUpdate:modelValue":I[0]||(I[0]=i=>z(r)?r.value=i:null),class:E(["app-stepper",`app-stepper-${o.align}`]),"show-arrows":"",direction:o.direction},{default:t(()=>[(a(!0),g(N,null,K(o.items,(i,d)=>(a(),m(fe,{key:i.title,value:d},{default:t(()=>[n("div",{class:E(["cursor-pointer mx-1",[!o.isActiveStepValid&&s(l)&&"stepper-steps-invalid",s(_)(d)]]),onClick:j=>!s(l)&&b("update:currentStep",d)},[i.icon?(a(),g("div",ze,[n("div",{class:E(["d-flex align-center gap-4 step-wrapper",[o.direction==="horizontal"&&"flex-column"]])},[n("div",$e,[e(x,{icon:i.icon,size:i.size||o.iconSize},null,8,["icon","size"])]),n("div",null,[n("p",Re,v(i.title),1),i.subtitle?(a(),g("span",Ie,[n("span",Pe,v(i.subtitle),1)])):$("",!0)])],2),s(f)(d)?(a(),m(x,{key:0,class:"flip-in-rtl stepper-chevron-indicator mx-6",size:"24",icon:"tabler-chevron-right"})):$("",!0)])):(a(),g("div",Ae,[n("div",Ee,[n("div",Be,[d>=s(r)?(a(),g(N,{key:0},[!s(l)||o.isActiveStepValid||d!==s(r)?(a(),m(C,{key:0,size:"40",variant:d===s(r)?"elevated":"tonal",color:d===s(r)?"primary":"default"},{default:t(()=>[n("h5",{class:"text-h5",style:re(d===s(r)?{color:"#fff"}:"")},v(d+1),5)]),_:2},1032,["variant","color"])):(a(),m(x,{key:1,icon:"tabler-alert-circle",size:"24",color:"error"}))],64)):(a(),m(C,{key:1,class:"stepper-icon",variant:"tonal",color:"primary",size:"40"},{default:t(()=>[n("h5",Fe,v(d+1),1)]),_:2},1024))])]),n("div",Te,[n("div",Ue,v(i.title),1),i.subtitle?(a(),g("div",Ne,v(i.subtitle),1)):$("",!0)]),s(f)(d)?(a(),g("div",We,[e(x,{icon:"tabler-chevron-right",size:"24"})])):$("",!0)]))],10,we)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","direction","class"]))}});const De={class:"d-flex justify-space-between mt-8"},Le=W({__name:"create",setup(R){const u=V(0),o=V("publish"),b=V("private"),r=[{title:"Private",desc:"Only you and people you choose can watch your video",value:O.Private,icon:{icon:"carbon:virtual-private-cloud",size:"28"}},{title:"Publish",desc:"Everyone can watch your video",value:O.Published,icon:{icon:"mdi-public",size:"28"}}],_=V(new Date().toISOString()),f=V([{id:1,icon:"tabler-clipboard",title:"course.steps.details.title",subtitle:"course.steps.details.subtitle",component:null},{id:2,icon:"grommet-icons:chapter-add",title:"course.steps.chapters.title",subtitle:"course.steps.chapters.subtitle",component:null},{id:3,icon:"mdi-publish",title:"course.steps.visibility.title",subtitle:"course.steps.visibility.subtitle",component:null}]),l=V(),y=V("list"),I=ce(),i=be(),d=async()=>{var p,P;const h=f.value[u.value];try{if(h.id===1){const k=await((p=h.component)==null?void 0:p.validate());l.value=await i.createCourse(k)}if(h.id===2&&l.value){const B=(await((P=h.component)==null?void 0:P.validate())).map((w,c)=>{const D={};return w.attachments.forEach(({name:Q,id:X,type:Y,download:ee,visibility:te,watermark:oe})=>{D[X]={name:Q,type:Y,download:ee,visibility:JSON.stringify(te),watermark:oe}}),{...w,attachments:D,order:c}}),F=l.value.id;await Promise.all(B.map(w=>i.createChapter(F,w)))}f.value.length-1>u.value&&u.value++}catch(k){console.error(k)}},j=async()=>{try{if(!l.value)throw new Error("Course not Found");o.value==="schedule"&&await i.scheduleCourse(l.value.id,_.value),o.value==="publish"&&await i.publishCourse(l.value.id,b.value),I.push({name:"course"})}catch(h){throw h}};return(h,p)=>{const P=je,k=ve,B=_e,F=ke,w=se;return a(),m(ye,null,{default:t(()=>[e(q,{align:"center"},{default:t(()=>[e(A,{cols:"8"},{default:t(()=>[e(P,{"current-step":s(u),direction:"horizontal",items:s(f),"icon-size":"22",class:"stepper-icon-step-bg"},null,8,["current-step","items"])]),_:1}),s(u)===1?(a(),m(A,{key:0},{default:t(()=>[e(ue,{modelValue:s(y),"onUpdate:modelValue":p[0]||(p[0]=c=>z(y)?y.value=c:null),divided:"",color:"primary",variant:"outlined",class:"mx-auto"},{default:t(()=>[e(C,{value:"list",icon:"mdi-list-box-outline"}),e(C,{value:"grid",icon:"mdi-grid-large"})]),_:1},8,["modelValue"])]),_:1})):$("",!0),e(A,{cols:"12"},{default:t(()=>[e(ge,{modelValue:s(u),"onUpdate:modelValue":p[4]||(p[4]=c=>z(u)?u.value=c:null),class:"disable-tab-transition stepper-content mt-5"},{default:t(()=>[e(U,null,{default:t(()=>[e(k,{ref:c=>s(f)[0].component=c},null,512)]),_:1}),e(U,null,{default:t(()=>[e(B,{ref:c=>s(f)[1].component=c},null,512)]),_:1}),e(U,null,{default:t(()=>[e(me,{modelValue:s(o),"onUpdate:modelValue":p[3]||(p[3]=c=>z(o)?o.value=c:null),mandatory:"force",style:{"max-width":"500px","margin-inline":"auto"},variant:"accordion"},{default:t(()=>[e(H,{value:"publish"},{default:t(()=>[e(J,null,{default:t(()=>[S(" Save or publish ")]),_:1}),e(G,{class:"mb-2"},{default:t(()=>[S(" Make your video public or private ")]),_:1}),e(M,null,{default:t(()=>[e(F,{"selected-radio":s(b),"onUpdate:selectedRadio":p[1]||(p[1]=c=>z(b)?b.value=c:null),"radio-content":r,"grid-column":{md:"6"}},null,8,["selected-radio"])]),_:1})]),_:1}),e(H,{value:"schedule"},{default:t(()=>[e(J,null,{default:t(()=>[S(" Schedule ")]),_:1}),e(G,{class:"mb-2"},{default:t(()=>[S(" Select a date to make your video public. ")]),_:1}),e(M,null,{default:t(()=>[e(w,{modelValue:s(_),"onUpdate:modelValue":p[2]||(p[2]=c=>z(_)?_.value=c:null),style:{width:"min-content"},config:{inline:!0,enableTime:!0,dateFormat:"Z"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),n("div",De,[e(C,{variant:"plain",color:"secondary",disabled:s(u)===0,onClick:p[5]||(p[5]=c=>u.value--)},{default:t(()=>[e(x,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),S(" "+v(h.$t("previous")),1)]),_:1},8,["disabled"]),s(f).length-1===s(u)?(a(),m(C,{key:0,"append-icon":"tabler-check",color:"success",onClick:j},{default:t(()=>[S(v(h.$t(s(o))),1)]),_:1})):(a(),m(C,{key:1,variant:"plain",onClick:d},{default:t(()=>[S(v(h.$t("next"))+" ",1),e(x,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1}))])]),_:1})]),_:1})]),_:1})}}});typeof Z=="function"&&Z(Le);export{Le as default};

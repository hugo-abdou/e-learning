import{_ as ae}from"./AppTextField.vue_vue_type_script_setup_true_lang-c26bd8aa.js";import{d as F,r as w,o as v,c as k,b as e,f as s,b8 as S,be as h,ak as y,e as a,y as l,x as _,c3 as j,a1 as O,q as t,b1 as B,F as I,dD as z,h as R,b9 as le,ba as oe,bA as re,bc as L,c4 as ne,a0 as J,G as ie,j as Q,k as K,P as ue,Q as de,_ as Z,w as ce,bb as G,a7 as me,b6 as pe,bh as fe}from"./main-e240daf5.js";import{V as W}from"./VForm-944dec74.js";import{a as D,V as E}from"./VRow-aa2cbdf3.js";import{V as A}from"./VTextField-d1a10f80.js";import{V as ee,a as q,b as Y}from"./VList-4243452f.js";import{V as X}from"./VDivider-93f95dbb.js";import{V as _e}from"./VTable-6ef119f2.js";import{r as be}from"./validators-753247d6.js";import{_ as ve}from"./RolesSelectBox.vue_vue_type_script_setup_true_lang-39f90ead.js";import{V as we,a as ge}from"./VAlert-1825783b.js";import{k as M,a as Ve}from"./formatters-386d1040.js";import{V as ye}from"./VSpacer-517dd3fc.js";import{V as H}from"./VChip-6e0dcd1f.js";const he=a("span",{class:"text-5xl"},"!",-1),$e={class:"text-lg font-weight-medium"},xe={class:"text-3xl"},Ce={class:"text-h4 mb-4"},De=a("span",{class:"text-5xl font-weight-light"},"X",-1),ke={class:"text-h4 mb-4"},se=F({__name:"ConfirmDialog",props:{confirmationQuestion:{},isDialogVisible:{type:Boolean},confirmTitle:{},confirmMsg:{},cancelTitle:{},cancelMsg:{}},emits:["update:isDialogVisible","confirm"],setup($,{emit:p}){const d=$,c=p,o=w(!1),g=w(!1),b=x=>{c("update:isDialogVisible",x)},f=()=>{c("confirm",!0),b(!1),o.value=!0},U=()=>{c("confirm",!1),c("update:isDialogVisible",!1),g.value=!0};return(x,V)=>(v(),k(I,null,[e(j,{"max-width":"500","model-value":d.isDialogVisible,"onUpdate:modelValue":b},{default:s(()=>[e(S,{class:"text-center px-10 py-6"},{default:s(()=>[e(h,null,{default:s(()=>[e(y,{icon:"",variant:"outlined",color:"warning",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:s(()=>[he]),_:1}),a("h6",$e,l(d.confirmationQuestion),1)]),_:1}),e(h,{class:"d-flex align-center justify-center gap-2"},{default:s(()=>[e(y,{variant:"elevated",onClick:f},{default:s(()=>[_(" Confirm ")]),_:1}),e(y,{color:"secondary",variant:"tonal",onClick:U},{default:s(()=>[_(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]),e(j,{modelValue:t(o),"onUpdate:modelValue":V[1]||(V[1]=C=>B(o)?o.value=C:null),"max-width":"500"},{default:s(()=>[e(S,null,{default:s(()=>[e(h,{class:"text-center px-10 py-6"},{default:s(()=>[e(y,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:s(()=>[a("span",xe,[e(O,{icon:"tabler-check"})])]),_:1}),a("h1",Ce,l(d.confirmTitle),1),a("p",null,l(d.confirmMsg),1),e(y,{color:"success",onClick:V[0]||(V[0]=C=>o.value=!1)},{default:s(()=>[_(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(j,{modelValue:t(g),"onUpdate:modelValue":V[3]||(V[3]=C=>B(g)?g.value=C:null),"max-width":"500"},{default:s(()=>[e(S,null,{default:s(()=>[e(h,{class:"text-center px-10 py-6"},{default:s(()=>[e(y,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:s(()=>[De]),_:1}),a("h1",ke,l(d.cancelTitle),1),a("p",null,l(d.cancelMsg),1),e(y,{color:"success",onClick:V[2]||(V[2]=C=>g.value=!1)},{default:s(()=>[_(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),Se=a("span",{class:"text-base"}," Enter your mobile phone number with country code and we will send you a verification code. ",-1),Ue={class:"d-flex flex-wrap justify-end gap-4"},Pe=F({__name:"EnableOneTimePasswordDialog",props:{mobileNumber:{},isDialogVisible:{type:Boolean}},emits:["update:isDialogVisible","submit"],setup($,{emit:p}){const d=$,c=p,o=w(structuredClone(z(d.mobileNumber))),g=()=>{o.value&&(c("submit",o.value),c("update:isDialogVisible",!1))},b=()=>{o.value=structuredClone(z(d.mobileNumber)),c("update:isDialogVisible",!1)},f=U=>{c("update:isDialogVisible",U)};return(U,x)=>{const V=ne,C=ae;return v(),R(j,{"max-width":"787","model-value":d.isDialogVisible,"onUpdate:modelValue":f},{default:s(()=>[e(V,{onClick:x[0]||(x[0]=P=>f(!1))}),e(S,{class:"pa-5 pa-sm-8"},{default:s(()=>[e(le,{class:"text-start"},{default:s(()=>[e(oe,{class:"text-h6 font-weight-medium mb-2"},{default:s(()=>[_(" Verify Your Mobile Number for SMS ")]),_:1}),e(re,null,{default:s(()=>[Se]),_:1})]),_:1}),e(h,{class:"pt-6"},{default:s(()=>[e(W,{onSubmit:L(()=>{},["prevent"])},{default:s(()=>[e(C,{modelValue:t(o),"onUpdate:modelValue":x[1]||(x[1]=P=>B(o)?o.value=P:null),name:"mobile",label:"Phone Number",placeholder:"+1 123 456 7890",type:"number",class:"mb-5"},null,8,["modelValue"]),a("div",Ue,[e(y,{color:"secondary",variant:"tonal",onClick:b},{default:s(()=>[_(" Cancel ")]),_:1}),e(y,{type:"submit",onClick:g},{default:s(()=>[_(" continue "),e(O,{end:"",icon:"tabler-arrow-right",class:"flip-in-rtl"})]),_:1})])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}});const Te={class:"text-base font-weight-medium mb-3"};const Ae={scope:"col"},Ie={scope:"col"},Be={scope:"col"},Ne={class:"d-flex align-center"},Re={class:"text-base font-weight-semibold"},Ee=F({__name:"AccountSettingsSecurity",props:{userData:{}},setup($){const p=$,d=J(),c=w(!1),o=w(!1),g=w(!1),b=w({current_password:"",password:"",password_confirmation:""}),f=w({current_password:void 0,password:void 0,password_confirmation:void 0});async function U(){try{await d.resetPassword(p.userData.id,b.value),f.value={}}catch(n){if(!n.response)throw n;if(n.response.status===422){const{errors:r}=n.response.data;f.value=r}}}const x=["passwordRequirements_1","passwordRequirements_2","passwordRequirements_3"],V=w(!1),C=w([]);function P(){d.otherBrowserSessions(p.userData.id).then(n=>C.value=n)}const T=w(!1),i=w({password:"",error:void 0});async function u(n){if(n)try{await d.logOutOtherBrowserSessions(p.userData.id,i.value.password),i.value={password:"",error:void 0},T.value=!1,P()}catch(r){if(!r.response)throw r;if(r.response.status===422){const{errors:N}=r.response.data;i.value.error=N.password}}}return ie(P),(n,r)=>{const N=Pe,te=se;return v(),k(I,null,[e(E,null,{default:s(()=>[e(D,{cols:"12"},{default:s(()=>[e(S,{title:n.$t("Change Password")},{default:s(()=>[e(W,{onSubmit:L(U,["prevent"])},{default:s(()=>[e(h,{class:"pt-0"},{default:s(()=>[e(E,{class:"mb-3"},{default:s(()=>[e(D,{cols:"12",md:"6"},{default:s(()=>[e(A,{modelValue:t(b).current_password,"onUpdate:modelValue":r[0]||(r[0]=m=>t(b).current_password=m),autocomplete:"current-password","error-messages":t(f).current_password,type:t(c)?"text":"password","append-inner-icon":t(c)?"tabler-eye-off":"tabler-eye",label:n.$t("Current Password"),"onClick:appendInner":r[1]||(r[1]=m=>c.value=!t(c))},null,8,["modelValue","error-messages","type","append-inner-icon","label"])]),_:1})]),_:1}),e(E,null,{default:s(()=>[e(D,{cols:"12",md:"6"},{default:s(()=>[e(A,{modelValue:t(b).password,"onUpdate:modelValue":r[2]||(r[2]=m=>t(b).password=m),autocomplete:"new-password","error-messages":t(f).password,type:t(o)?"text":"password","append-inner-icon":t(o)?"tabler-eye-off":"tabler-eye",label:n.$t("New Password"),"onClick:appendInner":r[3]||(r[3]=m=>o.value=!t(o))},null,8,["modelValue","error-messages","type","append-inner-icon","label"])]),_:1}),e(D,{cols:"12",md:"6"},{default:s(()=>[e(A,{modelValue:t(b).password_confirmation,"onUpdate:modelValue":r[4]||(r[4]=m=>t(b).password_confirmation=m),autocomplete:"new-password",type:t(g)?"text":"password","append-inner-icon":t(g)?"tabler-eye-off":"tabler-eye",label:n.$t("Confirm New Password"),"onClick:appendInner":r[5]||(r[5]=m=>g.value=!t(g))},null,8,["modelValue","type","append-inner-icon","label"])]),_:1})]),_:1})]),_:1}),e(h,null,{default:s(()=>[a("h6",Te,l(n.$t("Password Requirements"))+": ",1),e(ee,{class:"card-list"},{default:s(()=>[(v(),k(I,null,Q(x,m=>e(q,{key:m,title:n.$t(m),class:"text-medium-emphasis"},{prepend:s(()=>[e(O,{size:"8",icon:"tabler-circle",class:"me-3"})]),_:2},1032,["title"])),64))]),_:1})]),_:1}),e(h,{class:"d-flex flex-wrap gap-4"},{default:s(()=>[e(y,{type:"submit"},{default:s(()=>[_(l(n.$t("Save changes")),1)]),_:1}),e(y,{type:"reset",color:"secondary",variant:"tonal"},{default:s(()=>[_(l(n.$t("Reset")),1)]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1},8,["title"])]),_:1}),K("",!0),e(D,{cols:"12"},{default:s(()=>[e(S,{title:"Recent Devices"},{append:s(()=>[e(y,{size:"small",color:"warning",onClick:r[7]||(r[7]=m=>T.value=!0)},{default:s(()=>[_(l(n.$t("Log Out Other Browsers")),1)]),_:1})]),default:s(()=>[e(X),e(_e,{class:"text-no-wrap"},{default:s(()=>[a("thead",null,[a("tr",null,[a("th",Ae,l(n.$t("BROWSER")),1),a("th",Ie,l(n.$t("IP")),1),a("th",Be,l(n.$t("RECENT ACTIVITIES")),1)])]),a("tbody",null,[(v(!0),k(I,null,Q(t(C),m=>(v(),k("tr",{key:m.last_active},[a("td",Ne,[e(O,{start:"",icon:`logos:${m.agent.browser.toLowerCase()}`},null,8,["icon"]),a("h6",Re,l(m.agent.browser)+" on "+l(m.agent.platform),1)]),a("td",null,l(m.ip_address),1),a("td",null,l(m.last_active),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}),e(N,{isDialogVisible:t(V),"onUpdate:isDialogVisible":r[8]||(r[8]=m=>B(V)?V.value=m:null)},null,8,["isDialogVisible"]),e(te,{isDialogVisible:t(T),"onUpdate:isDialogVisible":r[10]||(r[10]=m=>B(T)?T.value=m:null),"cancel-title":"Cancelled","confirm-title":"Unsubscribed!","confirm-msg":"Your subscription cancelled successfully.","confirmation-question":"Are you sure to cancel your subscription?","cancel-msg":"Unsubscription Cancelled!!",onConfirm:u},{default:s(()=>[e(A,{modelValue:t(i).password,"onUpdate:modelValue":r[9]||(r[9]=m=>t(i).password=m),label:n.$t("Confirm password"),autocomplete:"current-password",type:"password","error-messages":t(i).error},null,8,["modelValue","label","error-messages"])]),_:1},8,["isDialogVisible"])],64)}}});const Cs=Z(Ee,[["__scopeId","data-v-e1397e85"]]),Oe="/build/assets/avatar-14-f13f3dfe.png",Fe={ref:"refForm",class:"d-flex flex-column justify-center gap-4"},ze={class:"d-flex flex-wrap gap-2"},je={class:"d-none d-sm-block"},qe={key:0,class:"text-body-1 mb-0 text-error"},Me={key:1,class:"text-body-1 mb-0"},Le={class:"mb-0"},Ds=F({__name:"AccountSettingsAccount",props:{userData:{default:()=>({id:0,name:"",role:[],email:"",avatar:Oe})}},emits:["userUpdated","userDeleted"],setup($,{emit:p}){const d=$,c=p,o=w(structuredClone(z(d.userData)));ce(d,()=>{o.value=structuredClone(z(d.userData))});const g=()=>{o.value=structuredClone(z(d.userData))},b=w(""),f=w({email:void 0,name:void 0,avatar:void 0,password:void 0}),U=w(),x=w(!1),V=i=>{const u=new FileReader,{files:n}=i.target;n&&n.length&&(u.readAsDataURL(n[0]),u.onload=()=>{typeof u.result=="string"&&(o.value.avatar=u.result)})},C=J(),P=async()=>{if(o.value.id)try{await C.updateUser(o.value.id,o.value),f.value={},c("userUpdated",o.value)}catch(i){if(!i.response)throw i;if(i.response.status===422){const{errors:u}=i.response.data;f.value=u}}},T=async i=>{if(!(!i||!o.value.id)){try{await C.destroyAccount(o.value.id,b.value),f.value={},c("userDeleted"),x.value=!1}catch(u){if(!u.response)throw u;if(u.response.status===422){const{errors:n}=u.response.data;f.value=n}}b.value=""}};return(i,u)=>{const n=se;return v(),k(I,null,[e(E,null,{default:s(()=>[e(D,{cols:"12"},{default:s(()=>[e(S,{title:i.$t("Profile Details")},{default:s(()=>[e(h,{class:"d-flex"},{default:s(()=>[e(G,{rounded:"",size:"100",class:"me-6",image:t(o).avatar},null,8,["image"]),a("form",Fe,[a("div",ze,[e(y,{color:"primary",onClick:u[0]||(u[0]=r=>{var N;return(N=t(U))==null?void 0:N.click()})},{default:s(()=>[e(O,{icon:"tabler-cloud-upload",class:"d-sm-none"}),a("span",je,l(i.$t("Upload new photo")),1)]),_:1}),a("input",{ref_key:"refInputEl",ref:U,type:"file",name:"file",hidden:"",onInput:V},null,544)]),t(f).avatar?(v(),k("p",qe,l(t(f).avatar),1)):(v(),k("p",Me,l(i.$t("Allowed-ext")),1))],512)]),_:1}),e(X),e(h,{class:"pt-2"},{default:s(()=>[e(W,{class:"mt-6",onSubmit:L(P,["prevent"])},{default:s(()=>[e(E,null,{default:s(()=>[e(D,{md:"6",cols:"12"},{default:s(()=>[e(A,{modelValue:t(o).name,"onUpdate:modelValue":u[1]||(u[1]=r=>t(o).name=r),label:i.$t("First Name"),"error-messages":t(f).name},null,8,["modelValue","label","error-messages"])]),_:1}),e(D,{cols:"12",md:"6"},{default:s(()=>[e(A,{modelValue:t(o).email,"onUpdate:modelValue":u[2]||(u[2]=r=>t(o).email=r),label:i.$t("E-mail"),type:"email","error-messages":t(f).email},null,8,["modelValue","label","error-messages"])]),_:1}),e(D,{cols:"12",md:"6"},{default:s(()=>[e(ve,{modelValue:t(o).role,"onUpdate:modelValue":u[3]||(u[3]=r=>t(o).role=r),rules:[t(be)]},null,8,["modelValue","rules"])]),_:1}),e(D,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:s(()=>[e(y,{type:"submit"},{default:s(()=>[_(l(i.$t("Save changes")),1)]),_:1}),e(y,{color:"secondary",variant:"tonal",type:"reset",onClick:L(g,["prevent"])},{default:s(()=>[_(l(i.$t("Reset")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["title"])]),_:1}),e(D,{cols:"12"},{default:s(()=>[e(S,{title:i.$t("Delete Account")},{default:s(()=>[e(h,null,{default:s(()=>[e(we,{color:"warning",variant:"tonal",class:"mb-4"},{default:s(()=>[e(ge,{class:"mb-1"},{default:s(()=>[_(l(i.$t("confirmation-msg-1")),1)]),_:1}),a("p",Le,l(i.$t("confirmation-msg-2")),1)]),_:1}),e(y,{color:"error",class:"mt-3",onClick:u[4]||(u[4]=r=>x.value=!0)},{default:s(()=>[_(l(i.$t("Deactivate Account")),1)]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})]),_:1}),e(n,{isDialogVisible:t(x),"onUpdate:isDialogVisible":u[6]||(u[6]=r=>B(x)?x.value=r:null),"cancel-title":"Cancelled","confirm-title":"Unsubscribed!","confirm-msg":"Your subscription cancelled successfully.","confirmation-question":"Are you sure to cancel your subscription?","cancel-msg":"Unsubscription Cancelled!!",onConfirm:T},{default:s(()=>[a("form",null,[e(A,{modelValue:t(b),"onUpdate:modelValue":u[5]||(u[5]=r=>B(b)?b.value=r:null),label:i.$t("Confirm password"),autocomplete:"current-password",type:"password","error-messages":t(f).password},null,8,["modelValue","label","error-messages"])])]),_:1},8,["isDialogVisible"])],64)}}}),Qe={class:"my-6"},Ye={class:"d-flex mt-3 mb-2"},Ge={class:"text-base font-weight-medium"},We={class:"text-base font-weight-medium"},Xe={class:"mt-2"},He=F({__name:"FeatureProgress",props:{used:{},max:{},title:{},label:{}},setup($){const p=$,d=me(()=>p.max<0?"∞":M(p.max-p.used));return(c,o)=>(v(),k("div",Qe,[a("div",Ye,[a("h6",Ge,l(c.title),1),e(ye),a("h6",We,l(t(M)(c.used))+" of "+l(c.max<0?"∞":t(M)(c.max))+" "+l(c.label),1)]),e(pe,{rounded:"","rounded-bar":"","model-value":c.used,max:c.max,height:"10",color:"primary"},null,8,["model-value","max"]),a("p",Xe,l(t(d))+" "+l(c.label)+" remaining ",1)]))}}),Je=$=>(ue("data-v-a7600c71"),$=$(),de(),$),Ke={key:1,class:"text-5xl font-weight-medium"},Ze={class:"text-h4 mt-4"},es={class:"d-flex align-center me-4"},ss={class:"text-h6"},ts=Je(()=>a("span",{class:"text-sm"},"Project Done",-1)),as={class:"text-sm text-uppercase text-disabled"},ls={class:"text-h6"},os={class:"text-body-1"},rs={class:"text-h6"},ns={class:"text-body-1"},is={class:"text-h6 d-flex align-center"},us={class:"d-flex gap-2 flex-wrap w-100 ml-2"},ds=F({__name:"UserBioPanel",props:{userData:{}},setup($){const p=$;return(d,c)=>(v(),R(E,null,{default:s(()=>[e(D,{cols:"12"},{default:s(()=>[p.userData?(v(),R(S,{key:0},{default:s(()=>[e(h,{class:"text-center pt-15"},{default:s(()=>[e(G,{rounded:"",size:100,color:p.userData.avatar?void 0:"primary",variant:p.userData.avatar?void 0:"tonal"},{default:s(()=>[p.userData.avatar?(v(),R(fe,{key:0,src:p.userData.avatar,cover:""},null,8,["src"])):(v(),k("span",Ke,l(t(Ve)(p.userData.name)),1))]),_:1},8,["color","variant"]),a("h6",Ze,l(p.userData.name),1)]),_:1}),e(h,{class:"d-flex justify-center flex-wrap mt-3"},{default:s(()=>[a("div",es,[e(G,{size:38,rounded:"",color:"primary",variant:"tonal",class:"me-3"},{default:s(()=>[e(O,{icon:"tabler-briefcase"})]),_:1}),a("div",null,[a("h6",ss,l(t(M)(9e4)),1),ts])])]),_:1}),e(X),e(h,null,{default:s(()=>[a("p",as,l(d.$t("Details")),1),e(ee,{class:"card-list mt-2"},{default:s(()=>[e(q,null,{default:s(()=>[e(Y,null,{default:s(()=>[a("h6",ls,[_(l(d.$t("Username"))+": ",1),a("span",os,l(p.userData.name),1)])]),_:1})]),_:1}),e(q,null,{default:s(()=>[e(Y,null,{default:s(()=>[a("h6",rs,[_(l(d.$t("Email"))+": ",1),a("span",ns,l(p.userData.email),1)])]),_:1})]),_:1}),e(q,null,{default:s(()=>[e(Y,null,{default:s(()=>[a("h6",is,[_(l(d.$t("Role"))+": ",1),a("div",us,[(v(!0),k(I,null,Q(p.userData.role,(o,g)=>(v(),R(H,{key:g,label:"",color:"default",density:"comfortable"},{default:s(()=>[_(l(o),1)]),_:2},1024))),128))])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):K("",!0)]),_:1}),e(D,{cols:"12"},{default:s(()=>[e(S,null,{default:s(()=>[e(h,{class:"d-flex flex-wrap gap-1"},{default:s(()=>[(v(!0),k(I,null,Q(d.userData.role,o=>(v(),R(H,{key:o,label:"",color:"primary",size:"small",class:"font-weight-medium"},{default:s(()=>[_(l(o),1)]),_:2},1024))),128))]),_:1}),e(h,null,{default:s(()=>[e(He,{label:"projects",title:"Projects",max:20,used:5})]),_:1})]),_:1})]),_:1})]),_:1}))}});const ks=Z(ds,[["__scopeId","data-v-a7600c71"]]);export{Cs as A,ks as U,Ds as _};

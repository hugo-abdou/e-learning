import{_ as U}from"./CoursePlayList.vue_vue_type_script_setup_true_lang-1ae660f6.js";import{_ as $}from"./ResponsiveText.vue_vue_type_script_setup_true_lang-b64b8d68.js";import{u as O}from"./useCourseStore-7668036e.js";import{a as q}from"./formatters-386d1040.js";import{d as H,k as J,l as K,r as _,bf as Q,a6 as S,bD as W,w as X,a_ as Y,a as Z,o,c as V,b as a,f as s,bi as ee,p as e,h as c,e as r,s as B,aj as b,v as p,z as T,bw as te,bB as y,bk as ae,x as m,bA as se,bl as oe,bz as re,F as ie,j as le,bj as w,a0 as v,bE as ne,bb as ce}from"./main-a2dafca8.js";import{M as de}from"./index-81056f03.js";import{V as pe,a as R}from"./VRow-04a39927.js";import{V as ue}from"./VSpacer-0b800919.js";import{V as me}from"./VSlideGroup-1a5825db.js";import{V as M}from"./VDivider-f5bc5920.js";import{V as fe}from"./VSlideGroupItem-6d96131d.js";import{V as _e}from"./VChip-cabf6490.js";import"./VMenu-37e48d65.js";import"./VList-9e7c27bc.js";import{b as N}from"./route-block-83d24a4e.js";import"./InfoTooltip.vue_vue_type_script_setup_true_lang-bdcf6d8e.js";import"./VTooltip-70a9cef1.js";import"./ActionButton-956fc068.js";import"./utils-6c19ea7e.js";import"./VPagination-da9bdf9d.js";const he={class:"card"},ye={class:"position-relative"},ve={key:0,class:"position-absolute w-100 h-100 d-flex gap-1 align-center justify-center",style:{inset:"0","background-color":"rgba(0, 0, 0, 0.568)"}},xe={key:1},ke={class:"d-flex flex-column"},Ve={class:"text-base"},ge=r("p",{class:"text-xs"}," Lorem ipsum dolor sit amet ",-1),be={class:"mb-0 pt-1"},we={class:"d-flex flex-wrap mt-5"},Ce={class:"me-5"},Le={class:"text-nowrap"},Se={class:"text-nowrap"},Be={class:"text-nowrap"},Te={class:"text-nowrap"},Re={class:"text-nowrap"},Me={class:"position-sticky",style:{top:"90px"}},Ne=H({__name:"index",setup(Ae){const A=J(),I=K(),f=_(!1),P=O(),i=_(),h=_(!1),d=_(),C=_(),j=Q(),g=_(),z=S(()=>{var l,n;return[{title:"edit",_if:j.user.id===((l=i.value)==null?void 0:l.author.id),props:{to:{name:"course-id-edit",params:{id:(n=i.value)==null?void 0:n.id}},"prepend-icon":"mdi-edit"}},{title:"share",_if:!0,props:{"prepend-icon":"tabler-share"}}]}),E=S(()=>{var l;if(d.value&&((l=d.value)==null?void 0:l.type)===W.video)return{onReady:n=>{var x;return g.value=(x=n.target)==null?void 0:x.plyr},onEnded:n=>h.value=!0,onPause:n=>d.value.playing=!1,onPlay:n=>d.value.playing=!0}}),L=()=>{C.value.next(),h.value=!1},D=()=>{setTimeout(()=>{var l;(l=g.value)==null||l.play()},500),h.value=!1};return X(d,l=>{l&&l.type==="video"&&(setTimeout(()=>{var n;(n=g.value)==null||n.play()},500),h.value=!1)}),Y(async()=>{f.value=!0;try{i.value=await P.getCourse(Number(A.params.id),{additional:{chapters:!0}})}catch{I.push({name:"course"})}f.value=!1}),(l,n)=>{const x=$,F=Z("RouterLink"),G=U;return o(),V("div",he,[a(pe,null,{default:s(()=>[a(R,{cols:"12",md:"8"},{default:s(()=>[a(ee,null,{default:s(()=>[!e(f)&&e(d)?(o(),c(te,{key:0,class:"py-0 px-0"},{default:s(()=>[r("div",ye,[(o(),c(de,B({...e(E)},{key:e(d).id,"aspect-ratio":"1.77",media:e(d)}),{toolbar:s(()=>[a(b,{variant:"elevated",color:"default","append-icon":"mdi-skip-forward",onClick:L},{default:s(()=>[p(" Continue ")]),_:1})]),_:1},16,["media"])),e(h)?(o(),V("div",ve,[a(b,{color:"default","prepend-icon":"mdi-rotate-left",onClick:D},{default:s(()=>[p(" Start Over ")]),_:1}),a(b,{color:"default","append-icon":"mdi-skip-forward",onClick:L},{default:s(()=>[p(" Continue ")]),_:1})])):T("",!0)])]),_:1})):(o(),c(e(y),{key:1,type:["image","image"]}))]),_:1}),e(f)?(o(),c(e(y),{key:1,type:["heading","list-item-avatar-three-line"]})):(o(),c(w,{key:0},{default:s(()=>[a(ae,{class:"text-capitalize text-h3 text-wrap d-flex"},{default:s(()=>{var t;return[a(x,{"max-lines":2,"char-width":3.5,text:((t=e(i))==null?void 0:t.title)||""},{default:s(({text:u})=>[p(m(u),1)]),_:1},8,["text"])]}),_:1}),a(se,{class:"d-flex mt-3 px-1 align-center"},{default:s(()=>[a(oe,{size:"35",class:"me-2"},{default:s(()=>{var t,u,k;return[(t=e(i))!=null&&t.author.profile_photo_url?(o(),c(re,{key:0,src:(u=e(i))==null?void 0:u.author.profile_photo_url,cover:""},null,8,["src"])):(o(),V("span",xe,m(e(q)(((k=e(i))==null?void 0:k.author.name)||"")),1))]}),_:1}),r("div",ke,[r("h6",Ve,[a(F,{to:"#",class:"font-weight-medium user-list-name text-grey-600"},{default:s(()=>{var t;return[p(m((t=e(i))==null?void 0:t.author.name),1)]}),_:1})]),ge]),a(ue),a(me,{"show-arrows":"","center-active":""},{default:s(()=>[(o(!0),V(ie,null,le(e(z).filter(({_if:t})=>t),t=>(o(),c(fe,{key:t.title},{default:s(()=>[a(_e,B(t.props,{class:"ma-1"}),{default:s(()=>[p(m(t.title),1)]),_:2},1040)]),_:2},1024))),128))]),_:1}),T("",!0)]),_:1})]),_:1})),a(M,{class:"mx-6"}),e(f)?(o(),c(e(y),{key:3,class:"py-5",type:["heading","paragraph"]})):(o(),c(w,{key:2,title:"About this course"},{default:s(()=>{var t;return[r("p",be,m((t=e(i))==null?void 0:t.description),1)]}),_:1})),a(M,{class:"mx-6"}),e(f)?(o(),c(e(y),{key:5,class:"py-5",type:["heading","paragraph"]})):(o(),c(w,{key:4,title:"By the numbers"},{default:s(()=>{var t,u;return[r("div",we,[r("div",Ce,[r("p",Le,[a(v,{icon:"mdi-check-all",class:"me-2 mt-n2"}),p(" Skill level: "+m((t=e(i))==null?void 0:t.difficulty),1)]),r("p",Se,[a(v,{icon:"mdi-users",class:"me-2 mt-n2"}),p("Students: 38,815 ")]),r("p",Be,[a(v,{icon:"mdi-flag",class:"me-2 mt-n2"}),p("Languages: English ")])]),r("div",null,[r("p",Te,[a(v,{icon:"mdi-pencil",class:"me-2 mt-n2"}),p("Lectures: 19 ")]),r("p",Re,[a(v,{icon:"mdi-clock",class:"me-2 mt-n2"}),p("Video: "+m(e(ne)(((u=e(i))==null?void 0:u.duration)||0))+" total minutes ",1)])])])]}),_:1}))]),_:1}),a(R,{cols:"12",md:"4"},{default:s(()=>{var t,u;return[r("div",Me,[(t=e(i))!=null&&t.chapters?(o(),c(G,{key:0,ref_key:"playList",ref:C,attachment:e(d),"onUpdate:attachment":n[0]||(n[0]=k=>ce(d)?d.value=k:null),chapters:(u=e(i))==null?void 0:u.chapters},null,8,["attachment","chapters"])):(o(),c(e(y),{key:1,type:Array(5).fill("list-item-avatar-three-line")},null,8,["type"]))])]}),_:1})]),_:1})])}}});typeof N=="function"&&N(Ne);export{Ne as default};

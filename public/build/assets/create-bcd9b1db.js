import{_ as se}from"./DateTimePicker.vue_vue_type_style_index_0_lang-15494507.js";import{V as q,a as E}from"./VRow-26e77137.js";import{b as ae}from"./VInput-0a556944.js";import{d as W,o as a,h as m,f as t,b as e,c as g,F as U,j as K,s as O,y as A,A as le,e as n,a0 as x,x as v,z as $,_ as ie,r as V,a6 as F,bw as ne,p as s,aj as C,I as re,b0 as z,l as ce,bP as L,bT as ue,v as S,bN as G}from"./main-6e33e0f4.js";import{V as pe,a as de}from"./VRadioGroup-72ce788b.js";import{_ as me}from"./CourseChaptersForm.vue_vue_type_script_setup_true_lang-438dac7d.js";import{_ as _e}from"./CourseDetailsForm.vue_vue_type_script_setup_true_lang-71db280b.js";import{V as ve}from"./VSlideGroupItem-5d32bf46.js";import{V as fe}from"./VSlideGroup-52bd9628.js";import{u as he}from"./useCourseStore-b6ef2792.js";import{V as be}from"./VContainer-ec89a56b.js";import{a as ye,b as N}from"./VWindowItem-9f66e58c.js";import{V as ge,a as H,b as J,c as M}from"./VExpansionPanel-92f8bef3.js";import{b as Z}from"./route-block-83d24a4e.js";import"./VField-2725232d.js";import"./VSelectionControl-eb8518f7.js";import"./FileUploaderDialog.vue_vue_type_script_setup_true_lang-6bdbe54a.js";import"./VCheckboxBtn-c1d3e033.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-32a78ccd.js";import"./VTextField-c1b9a4f9.js";import"./index-0c36f9df.js";import"./ActionButton-e7de0636.js";import"./utils-fc59a690.js";import"./VSpacer-7809d458.js";import"./VChip-fe1053c6.js";import"./VPagination-d993b6db.js";import"./VMenu-02d70115.js";import"./VList-1acb65c4.js";import"./VDivider-83731cf9.js";import"./lodash-a75ed110.js";import"./InfoTooltip.vue_vue_type_script_setup_true_lang-5233097e.js";import"./VTooltip-2814934d.js";import"./validators-f52bbb1d.js";import"./VForm-cfccf0e4.js";import"./VSelect-8dae4b5d.js";import"./VSwitch-2788838f.js";import"./AppSelect.vue_vue_type_script_setup_true_lang-ae247772.js";import"./VTextarea-f1b863bb.js";const Ve={class:"d-flex flex-column align-center text-center gap-2"},Se={class:"cr-title text-base"},Ce={class:"text-sm mb-0 clamp-text"},xe=W({__name:"CustomRadiosWithIcon",props:{selectedRadio:{},radioContent:{},gridColumn:{}},emits:["update:selectedRadio"],setup(R,{emit:u}){const o=R,b=u,r=_=>{b("update:selectedRadio",_)};return(_,f)=>o.radioContent?(a(),m(de,{key:0,"model-value":o.selectedRadio,"onUpdate:modelValue":r},{default:t(()=>[e(q,null,{default:t(()=>[(a(!0),g(U,null,K(o.radioContent,l=>(a(),m(E,O({key:l.title},_.gridColumn),{default:t(()=>[e(ae,{class:A(["custom-input custom-radio-icon rounded cursor-pointer",o.selectedRadio===l.value?"active":""])},{default:t(()=>[le(_.$slots,"default",{item:l},()=>[n("div",Ve,[e(x,O(l.icon,{class:"text-high-emphasis"}),null,16),n("h6",Se,v(l.title),1),n("p",Ce,v(l.desc),1)])],!0),n("div",null,[e(pe,{value:l.value},null,8,["value"])])]),_:2},1032,["class"])]),_:2},1040))),128))]),_:3})]),_:3},8,["model-value"])):$("",!0)}});const ke=ie(xe,[["__scopeId","data-v-0f137429"]]),we=["onClick"],ze={key:0,class:"stepper-icon-step text-high-emphasis d-flex align-center gap-2"},$e={class:"stepper-icon"},Re={class:"stepper-title font-weight-medium mb-0"},Pe={key:0,class:"stepper-subtitle"},Ie={class:"text-sm"},Ee={key:1,class:"d-flex align-center gap-x-4"},Ae={class:"d-flex align-center gap-2"},Te={class:"d-flex align-center justify-center"},Be={class:"text-h5",style:{color:"rgb(var(--v-theme-primary))"}},Fe={class:"d-flex flex-column justify-center"},Ne={class:"step-title font-weight-medium"},Ue={key:0,class:"step-subtitle text-sm text-disabled"},We={key:0,class:"stepper-step-line"},je=W({__name:"AppStepper",props:{items:{},currentStep:{default:0},direction:{default:"horizontal"},iconSize:{default:52},isActiveStepValid:{type:Boolean,default:void 0},align:{default:"center"}},emits:["update:currentStep"],setup(R,{emit:u}){const o=R,b=u,r=V(o.currentStep||0),_=F(()=>y=>y<r.value?"stepper-steps-completed":y===r.value?"stepper-steps-active":""),f=F(()=>y=>o.direction==="horizontal"&&o.items.length-1!==y),l=F(()=>o.isActiveStepValid!==void 0);return ne(()=>{o.currentStep!==void 0&&o.currentStep<o.items.length&&o.currentStep>=0&&(r.value=o.currentStep),b("update:currentStep",r.value)}),(y,P)=>(a(),m(fe,{modelValue:s(r),"onUpdate:modelValue":P[0]||(P[0]=i=>z(r)?r.value=i:null),class:A(["app-stepper",`app-stepper-${o.align}`]),"show-arrows":"",direction:o.direction},{default:t(()=>[(a(!0),g(U,null,K(o.items,(i,d)=>(a(),m(ve,{key:i.title,value:d},{default:t(()=>[n("div",{class:A(["cursor-pointer mx-1",[!o.isActiveStepValid&&s(l)&&"stepper-steps-invalid",s(_)(d)]]),onClick:j=>!s(l)&&b("update:currentStep",d)},[i.icon?(a(),g("div",ze,[n("div",{class:A(["d-flex align-center gap-4 step-wrapper",[o.direction==="horizontal"&&"flex-column"]])},[n("div",$e,[e(x,{icon:i.icon,size:i.size||o.iconSize},null,8,["icon","size"])]),n("div",null,[n("p",Re,v(i.title),1),i.subtitle?(a(),g("span",Pe,[n("span",Ie,v(i.subtitle),1)])):$("",!0)])],2),s(f)(d)?(a(),m(x,{key:0,class:"flip-in-rtl stepper-chevron-indicator mx-6",size:"24",icon:"tabler-chevron-right"})):$("",!0)])):(a(),g("div",Ee,[n("div",Ae,[n("div",Te,[d>=s(r)?(a(),g(U,{key:0},[!s(l)||o.isActiveStepValid||d!==s(r)?(a(),m(C,{key:0,size:"40",variant:d===s(r)?"elevated":"tonal",color:d===s(r)?"primary":"default"},{default:t(()=>[n("h5",{class:"text-h5",style:re(d===s(r)?{color:"#fff"}:"")},v(d+1),5)]),_:2},1032,["variant","color"])):(a(),m(x,{key:1,icon:"tabler-alert-circle",size:"24",color:"error"}))],64)):(a(),m(C,{key:1,class:"stepper-icon",variant:"tonal",color:"primary",size:"40"},{default:t(()=>[n("h5",Be,v(d+1),1)]),_:2},1024))])]),n("div",Fe,[n("div",Ne,v(i.title),1),i.subtitle?(a(),g("div",Ue,v(i.subtitle),1)):$("",!0)]),s(f)(d)?(a(),g("div",We,[e(x,{icon:"tabler-chevron-right",size:"24"})])):$("",!0)]))],10,we)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","direction","class"]))}});const De={class:"d-flex justify-space-between mt-8"},Oe=W({__name:"create",setup(R){const u=V(0),o=V("publish"),b=V("private"),r=[{title:"Private",desc:"Only you and people you choose can watch your video",value:L.Private,icon:{icon:"carbon:virtual-private-cloud",size:"28"}},{title:"Publish",desc:"Everyone can watch your video",value:L.Published,icon:{icon:"mdi-public",size:"28"}}],_=V(new Date().toISOString()),f=V([{id:1,icon:"tabler-clipboard",title:"course.steps.details.title",subtitle:"course.steps.details.subtitle",component:null},{id:2,icon:"grommet-icons:chapter-add",title:"course.steps.chapters.title",subtitle:"course.steps.chapters.subtitle",component:null},{id:3,icon:"mdi-publish",title:"course.steps.visibility.title",subtitle:"course.steps.visibility.subtitle",component:null}]),l=V(),y=V("list"),P=ce(),i=he(),d=async()=>{var p,I;const h=f.value[u.value];try{if(h.id===1){const k=await((p=h.component)==null?void 0:p.validate());l.value=await i.createCourse(k)}if(h.id===2&&l.value){const T=(await((I=h.component)==null?void 0:I.validate())).map((w,c)=>{const D={};return w.attachments.forEach(({name:Q,id:X,type:Y,download:ee,visibility:te,watermark:oe})=>{D[X]={name:Q,type:Y,download:ee,visibility:JSON.stringify(te),watermark:oe}}),{...w,attachments:D,order:c}}),B=l.value.id;await Promise.all(T.map(w=>i.createChapter(B,w)))}f.value.length-1>u.value&&u.value++}catch(k){console.error(k)}},j=async()=>{try{if(!l.value)throw new Error("Course not Found");o.value==="schedule"&&await i.scheduleCourse(l.value.id,_.value),o.value==="publish"&&await i.publishCourse(l.value.id,b.value),P.push({name:"course"})}catch(h){throw h}};return(h,p)=>{const I=je,k=_e,T=me,B=ke,w=se;return a(),m(be,null,{default:t(()=>[e(q,{align:"center"},{default:t(()=>[e(E,{cols:"8"},{default:t(()=>[e(I,{"current-step":s(u),direction:"horizontal",items:s(f),"icon-size":"22",class:"stepper-icon-step-bg"},null,8,["current-step","items"])]),_:1}),s(u)===1?(a(),m(E,{key:0},{default:t(()=>[e(ue,{modelValue:s(y),"onUpdate:modelValue":p[0]||(p[0]=c=>z(y)?y.value=c:null),divided:"",color:"primary",variant:"outlined",class:"mx-auto"},{default:t(()=>[e(C,{value:"list",icon:"mdi-list-box-outline"}),e(C,{value:"grid",icon:"mdi-grid-large"})]),_:1},8,["modelValue"])]),_:1})):$("",!0),e(E,{cols:"12"},{default:t(()=>[e(ye,{modelValue:s(u),"onUpdate:modelValue":p[4]||(p[4]=c=>z(u)?u.value=c:null),class:"disable-tab-transition stepper-content mt-5"},{default:t(()=>[e(N,null,{default:t(()=>[e(k,{ref:c=>s(f)[0].component=c},null,512)]),_:1}),e(N,null,{default:t(()=>[e(T,{ref:c=>s(f)[1].component=c},null,512)]),_:1}),e(N,null,{default:t(()=>[e(ge,{modelValue:s(o),"onUpdate:modelValue":p[3]||(p[3]=c=>z(o)?o.value=c:null),mandatory:"force",style:{"max-width":"500px","margin-inline":"auto"},variant:"accordion"},{default:t(()=>[e(H,{value:"publish"},{default:t(()=>[e(J,null,{default:t(()=>[S(" Save or publish ")]),_:1}),e(G,{class:"mb-2"},{default:t(()=>[S(" Make your video public or private ")]),_:1}),e(M,null,{default:t(()=>[e(B,{"selected-radio":s(b),"onUpdate:selectedRadio":p[1]||(p[1]=c=>z(b)?b.value=c:null),"radio-content":r,"grid-column":{md:"6"}},null,8,["selected-radio"])]),_:1})]),_:1}),e(H,{value:"schedule"},{default:t(()=>[e(J,null,{default:t(()=>[S(" Schedule ")]),_:1}),e(G,{class:"mb-2"},{default:t(()=>[S(" Select a date to make your video public. ")]),_:1}),e(M,null,{default:t(()=>[e(w,{modelValue:s(_),"onUpdate:modelValue":p[2]||(p[2]=c=>z(_)?_.value=c:null),style:{width:"min-content"},config:{inline:!0,enableTime:!0,dateFormat:"Z"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),n("div",De,[e(C,{variant:"plain",color:"secondary",disabled:s(u)===0,onClick:p[5]||(p[5]=c=>u.value--)},{default:t(()=>[e(x,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),S(" "+v(h.$t("previous")),1)]),_:1},8,["disabled"]),s(f).length-1===s(u)?(a(),m(C,{key:0,"append-icon":"tabler-check",color:"success",onClick:j},{default:t(()=>[S(v(h.$t(s(o))),1)]),_:1})):(a(),m(C,{key:1,variant:"plain",onClick:d},{default:t(()=>[S(v(h.$t("next"))+" ",1),e(x,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1}))])]),_:1})]),_:1})]),_:1})}}});typeof Z=="function"&&Z(Oe);export{Oe as default};

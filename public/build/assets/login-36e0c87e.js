import{d as T,r as p,l as R,m as S,N,a as B,o as F,c as L,e as o,b as s,q as e,O as V,f as a,bc as P,J as f,bd as U,y as i,z as h,bh as v,bf as $,am as j,bb as z,bP as M}from"./main-de81c04a.js";import{_ as q}from"./AppTextField.vue_vue_type_script_setup_true_lang-d0874295.js";import{r as w,e as A}from"./validators-3b3891f3.js";import{_ as D}from"./AuthProvider.vue_vue_type_script_setup_true_lang-4eed33a9.js";import{a as E,b as H}from"./auth-v1-top-shape-c5f58476.js";import{V as _}from"./VNodeRenderer-14392550.js";import{V as I}from"./VForm-5850c8d7.js";import{V as J,a as m}from"./VRow-712fdf8b.js";import{V as O}from"./VCheckbox-b63e06bb.js";import{V as x}from"./VDivider-faf1c2d7.js";import"./VInput-b77c619e.js";import"./VTextField-687a8006.js";import"./VField-cd3a8674.js";import"./VCheckboxBtn-a8607aa9.js";import"./VSelectionControl-18614d5a.js";const W={class:"auth-wrapper d-flex align-center justify-center pa-4"},G={class:"position-relative my-sm-16"},K={class:"d-flex"},Q={class:"text-h5 mb-1"},X={class:"text-capitalize"},Y=o("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),Z={class:"d-flex align-center justify-space-between flex-wrap mt-2 mb-4"},ee=o("span",null,"New on our platform?",-1),se=o("span",{class:"text-primary ms-2"}," Create an account ",-1),ae=o("span",{class:"mx-4"},"or",-1),ve=T({__name:"login",setup(te){const r=p({email:"",password:"",remember:!1}),u=p({email:void 0,password:void 0}),d=p(!1);R();const y=S(),c=p(),g=N(),C=async()=>{if(c.value)try{const{valid:t}=await c.value.validate();t&&(await M.getAccessToken(r.value.email,r.value.password),await g.refreshUser(),y.push({name:"dashboard"}))}catch(t){if(!(t!=null&&t.status))throw t;u.value.email=t._data.message}};return(t,l)=>{const b=q,k=B("RouterLink");return F(),L("div",W,[o("div",G,[s(e(_),{nodes:("h"in t?t.h:e(V))("div",{innerHTML:e(E)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),s(e(_),{nodes:("h"in t?t.h:e(V))("div",{innerHTML:e(H)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),s(z,{class:"auth-card pa-4","max-width":"448"},{default:a(()=>[s(P,{class:"justify-center"},{prepend:a(()=>[o("div",K,[s(e(_),{nodes:e(f).app.logo},null,8,["nodes"])])]),default:a(()=>[s(U,{class:"font-weight-bold text-capitalize text-h5 py-1"},{default:a(()=>[i(h(e(f).app.title),1)]),_:1})]),_:1}),s(v,{class:"pt-1"},{default:a(()=>[o("h5",Q,[i(" Welcome to "),o("span",X,h(e(f).app.title),1),i("! 👋🏻 ")]),Y]),_:1}),s(v,null,{default:a(()=>[s(e(I),{ref_key:"refVForm",ref:c,onSubmit:$(C,["prevent"])},{default:a(()=>[s(J,null,{default:a(()=>[s(m,{cols:"12"},{default:a(()=>[s(b,{modelValue:e(r).email,"onUpdate:modelValue":l[0]||(l[0]=n=>e(r).email=n),autofocus:"",label:"Email",type:"email",rules:[e(w),e(A)],"error-messages":e(u).email,autocomplete:"username"},null,8,["modelValue","rules","error-messages"])]),_:1}),s(m,{cols:"12"},{default:a(()=>[s(b,{modelValue:e(r).password,"onUpdate:modelValue":l[1]||(l[1]=n=>e(r).password=n),label:"Password",type:e(d)?"text":"password","append-inner-icon":e(d)?"tabler-eye-off":"tabler-eye",rules:[e(w)],"error-messages":e(u).password,autocomplete:"current-password","onClick:appendInner":l[2]||(l[2]=n=>d.value=!e(d))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"]),o("div",Z,[s(O,{modelValue:e(r).remember,"onUpdate:modelValue":l[3]||(l[3]=n=>e(r).remember=n),label:"Remember me"},null,8,["modelValue"]),s(k,{class:"text-primary ms-2 mb-1",to:{name:"forgot-password"}},{default:a(()=>[i(" Forgot Password? ")]),_:1})]),s(j,{block:"",type:"submit"},{default:a(()=>[i(" Login ")]),_:1})]),_:1}),s(m,{cols:"12",class:"text-center text-base"},{default:a(()=>[ee,se]),_:1}),s(m,{cols:"12",class:"d-flex align-center"},{default:a(()=>[s(x),ae,s(x)]),_:1}),s(m,{cols:"12",class:"text-center"},{default:a(()=>[s(D)]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])}}});export{ve as default};

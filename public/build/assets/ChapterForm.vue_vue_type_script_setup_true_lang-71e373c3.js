import{ay as N,o as l,f as c,ah as u,d as T,z as t,x as e,at as r,e as h,aJ as f,ag as d,ar as v,aI as g,g as b,F as _,aR as x,bC as V,v as i,C as y,as as C,i as $,m as z,D as F}from"./main-8c6cae95.js";import{l as I}from"./lodash-bc5bedbb.js";import{r as D}from"./validators-f52bbb1d.js";import{V as E}from"./VTextField-41755040.js";import{V as k}from"./VSpacer-51ef4cc1.js";const R={};function S(a,n){return l(),c(u,{variant:"tonal",size:"26"})}const q=N(R,[["render",S]]),A=["title"],J={class:"ma-1",style:{"max-width":"700px"}},L=["title"],O=T({__name:"ChapterForm",props:{chapter:null},emits:["upload","update:title"],setup(a,{emit:n}){const w=I.debounce(m=>{n("update:title",m.target.value)},50);return(m,s)=>{const p=q;return l(),c(C,null,{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(E,{rules:[h(D)],"model-value":a.chapter.title,onChange:s[0]||(s[0]=o=>h(w)(o)),label:"Chapter Title"},null,8,["rules","model-value"])]),_:1}),e(r,{cols:"12"},{default:t(()=>[e(f,{class:"mb-1"},{default:t(()=>[e(d,{icon:"system-uicons:video"}),v("Video")]),_:1}),e(g,{class:"pt-0",style:{width:"279px"}},{default:t(()=>[a.chapter.video?(l(),b(_,{key:0},[e(x,{style:{"max-width":"230px",height:"80%","aspect-ratio":"16/9"},cover:"",class:"rounded relative",src:a.chapter.video.thumb_url},{default:t(()=>[e(V,{color:"#00000000",density:"comfortable"},{default:t(()=>[e(k),e(p,{onClick:s[1]||(s[1]=o=>a.chapter.video=null),color:"error",icon:"tabler-trash",class:"chapter-media-action"})]),_:1})]),_:1},8,["src"]),i("p",{class:"truncate mt-2",title:a.chapter.video.name},y(a.chapter.video.name),9,A)],64)):(l(),c(u,{key:1,style:{"max-width":"230px",height:"80%","aspect-ratio":"16/9"},class:"border-md border-dashed bg-background w-100",variant:"plain",color:"secondary",onClick:s[2]||(s[2]=o=>n("upload","upload-chapter-video"))},{default:t(()=>[e(d,{icon:"fluent:video-add-20-regular",size:"28"})]),_:1}))]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(g,{class:"pt-0"},{default:t(()=>[e(f,{class:"mb-2"},{default:t(()=>[e(d,{icon:"system-uicons:document"}),v(" Documents")]),_:1}),e(C,{class:"me-0"},{default:t(()=>[e(r,{cols:"12",lg:"4",md:"6",sm:"4"},{default:t(()=>[e(u,{style:{"max-width":"700px",height:"80%","aspect-ratio":"16/9"},class:"border-md border-dashed bg-background w-100",variant:"plain",color:"secondary",onClick:s[3]||(s[3]=o=>n("upload","upload-chapter-document"))},{default:t(()=>[e(d,{icon:"fluent:document-add-20-regular",size:"28"})]),_:1})]),_:1}),a.chapter.documents.length?(l(!0),b(_,{key:0},$(a.chapter.documents,o=>(l(),c(r,z({cols:12,lg:4,md:6,sm:4},{class:"documents-slider",key:o.id}),{default:t(()=>[i("div",J,[e(x,{class:"rounded",cover:"",src:o.thumb_url},{default:t(()=>[e(V,{color:"#00000000",density:"comfortable"},{default:t(()=>[e(k),e(p,{onClick:P=>a.chapter.documents=a.chapter.documents.filter(({id:B})=>B!==o.id),color:"error",icon:"tabler-trash",class:"chapter-media-action"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["src"]),i("p",{class:"truncate mt-2",title:o.name},y(o.name),9,L)])]),_:2},1040))),128)):F("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}}});export{O as _,q as a};

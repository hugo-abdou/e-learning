import{_ as w}from"./FileUploaderDialog.vue_vue_type_script_setup_true_lang-73b71da1.js";import{_ as k}from"./AppSelect.vue_vue_type_script_setup_true_lang-b3c9fd04.js";import{_ as B}from"./InfoTooltip.vue_vue_type_script_setup_true_lang-7165c29f.js";import{d as D,cm as c,c0 as U,r as d,w as F,o as m,c as T,b as l,f as a,bb as E,bc as I,q as t,h as b,v as V,cj as _,bm as j,am as q,e as N,a4 as P,y as R,z as S,b4 as z,F as A}from"./main-83f81ad7.js";import{r as v}from"./validators-4b12fd35.js";import{V as L,a as f}from"./VRow-4a6d7b26.js";import{b as O}from"./VInput-c65df7da.js";import{V as G}from"./VTextField-d890cb14.js";import{V as H}from"./VTextarea-6556f843.js";import{V as J}from"./VForm-ee00a18c.js";const K={class:"d-flex flex-column align-center"},ie=D({__name:"CourseDetailsForm",props:{course:{default:()=>({description:"",thumbnail:void 0,difficulty:c.Beginner,status:U.Draft,title:"",prerequisite_id:""})}},setup(y,{expose:g,emit:M}){const p=y,r=d(!1),o=d(p.course),u=d({}),$=async()=>{try{const{valid:e}=await u.value.validate();return e?Promise.resolve(o.value):Promise.reject(new Error("validation faild"))}catch(e){throw e}},x=e=>{o.value.thumbnail=e[0].thumb_url,r.value=!1};return g({formEl:u,validate:$}),F(()=>p.course,e=>{o.value=e}),(e,i)=>{const n=B,C=k,h=w;return m(),T(A,null,[l(t(J),{ref_key:"formEl",ref:u},{default:a(()=>[l(E,null,{default:a(()=>[l(I,null,{default:a(()=>[l(L,{class:"mt-0"},{default:a(()=>[l(f,{cols:"12",md:"4"},{default:a(()=>[t(o).thumbnail?(m(),b(j,V({key:0},{...t(_),style:"min-height: 100%",aspectRatio:1.77},{src:t(o).thumbnail,cover:""}),null,16,["src"])):(m(),b(n,{key:1,text:e.$t("media.upload.description")},{default:a(({props:s})=>[l(q,V({...s,...t(_),style:"min-height: 130px"},{onClick:i[0]||(i[0]=Q=>r.value=!0)}),{default:a(()=>[N("div",K,[l(P,{icon:"flat-color-icons:add-image",size:"28"}),l(O,{class:"mt-2"},{default:a(()=>[R(S(e.$t("media.thumbnale")),1)]),_:1})])]),_:2},1040)]),_:1},8,["text"]))]),_:1}),l(f,{cols:"12",md:"8"},{default:a(()=>[l(G,{modelValue:t(o).title,"onUpdate:modelValue":i[1]||(i[1]=s=>t(o).title=s),rules:[t(v)],label:e.$t("course.fields.title.label"),class:"mb-5"},{"append-inner":a(()=>[l(n,{text:e.$t("course.fields.title.description")},null,8,["text"])]),_:1},8,["modelValue","rules","label"]),l(H,{modelValue:t(o).description,"onUpdate:modelValue":i[2]||(i[2]=s=>t(o).description=s),rules:[t(v)],label:e.$t("course.fields.description.label")},{"append-inner":a(()=>[l(n,{text:e.$t("course.fields.description.description")},null,8,["text"])]),_:1},8,["modelValue","rules","label"])]),_:1}),l(f,{cols:"12",sm:"6"},{default:a(()=>[l(C,{modelValue:t(o).difficulty,"onUpdate:modelValue":i[3]||(i[3]=s=>t(o).difficulty=s),items:Object.values(t(c)).map(s=>({title:e.$t(`course.fields.difficulty.options.${s}`),value:s})),label:e.$t("course.fields.difficulty.label")},{"append-inner":a(()=>[l(n,{text:e.$t("course.fields.difficulty.description")},null,8,["text"])]),_:1},8,["modelValue","items","label"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),l(h,{"is-dialog-visible":t(r),"onUpdate:isDialogVisible":i[4]||(i[4]=s=>z(r)?r.value=s:null),"allowed-file-types":["image/*"],"max-number-of-files":1,onDone:x},null,8,["is-dialog-visible"])],64)}}});export{ie as _};

import{_ as w}from"./FileUploaderDialog.vue_vue_type_script_setup_true_lang-bd920a7d.js";import{_ as C}from"./AppSelect.vue_vue_type_script_setup_true_lang-712b0f03.js";import{_ as U}from"./InfoTooltip.vue_vue_type_script_setup_true_lang-908c3ffc.js";import{d as k,bY as D,ch as b,r as m,w as h,o as f,c as V,b as e,f as a,b8 as B,b9 as q,p as t,h as F,aj as T,s as E,e as j,a0 as I,v as N,x as P,b0 as S,F as z}from"./main-646bca11.js";import{r as _}from"./validators-753247d6.js";import{M as A}from"./index-bb229566.js";import{U as M}from"./utils-347b8450.js";import{V as O,a as u}from"./VRow-69ddc25d.js";import{b as R}from"./VInput-a5ba3583.js";import{V as L}from"./VTextField-9e45d1c7.js";import{V as Y}from"./VTextarea-ee89b7d1.js";import{V as G}from"./VForm-5bf088f5.js";const H={key:0,style:{"max-block-size":"200px"},class:"h-100"},J={class:"d-flex flex-column align-center"},ue=k({__name:"CourseDetailsForm",props:{course:{default:()=>({title:"",description:"",status:D.Draft,difficulty:b.Beginner,thumbnail:null,prerequisite_id:null})}},setup(v,{expose:y,emit:K}){const p=v,r=m(!1),i=m(p.course),d=m({}),$=async()=>{try{const{valid:l}=await d.value.validate();return l?Promise.resolve(i.value):Promise.reject(new Error("validation faild"))}catch(l){throw l}},g=l=>{i.value.thumbnail=l[0].thumb_url,r.value=!1};return y({formEl:d,validate:$}),h(()=>p.course,l=>{i.value=l}),(l,o)=>{const n=U,c=C,x=w;return f(),V(z,null,[e(t(G),{ref_key:"formEl",ref:d},{default:a(()=>[e(B,null,{default:a(()=>[e(q,null,{default:a(()=>[e(O,{class:"mt-0"},{default:a(()=>[e(u,{cols:"12",md:"4"},{default:a(()=>[t(i).thumbnail?(f(),V("div",H,[e(A,{media:{thumb_url:t(i).thumbnail,status:2,type:"image"},deletable:"","is-preview":"",onOnDelete:o[0]||(o[0]=s=>t(i).thumbnail=null)},null,8,["media"])])):(f(),F(n,{key:1,text:l.$t("media.upload.description")},{default:a(({props:s})=>[e(T,E({...s,...t(M),style:"min-height: 130px"},{onClick:o[1]||(o[1]=Q=>r.value=!0)}),{default:a(()=>[j("div",J,[e(I,{icon:"flat-color-icons:add-image",size:"28"}),e(R,{class:"mt-2"},{default:a(()=>[N(P(l.$t("media.thumbnale")),1)]),_:1})])]),_:2},1040)]),_:1},8,["text"]))]),_:1}),e(u,{cols:"12",md:"8"},{default:a(()=>[e(L,{modelValue:t(i).title,"onUpdate:modelValue":o[2]||(o[2]=s=>t(i).title=s),rules:[t(_)],label:l.$t("course.fields.title.label"),class:"mb-5"},{"append-inner":a(()=>[e(n,{text:l.$t("course.fields.title.description")},null,8,["text"])]),_:1},8,["modelValue","rules","label"]),e(Y,{modelValue:t(i).description,"onUpdate:modelValue":o[3]||(o[3]=s=>t(i).description=s),rules:[t(_)],label:l.$t("course.fields.description.label")},{"append-inner":a(()=>[e(n,{text:l.$t("course.fields.description.description")},null,8,["text"])]),_:1},8,["modelValue","rules","label"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:a(()=>[e(c,{modelValue:t(i).difficulty,"onUpdate:modelValue":o[4]||(o[4]=s=>t(i).difficulty=s),items:Object.values(t(b)).map(s=>({title:l.$t(`course.fields.difficulty.options.${s}`),value:s})),label:l.$t("course.fields.difficulty.label")},{"append-inner":a(()=>[e(n,{text:l.$t("course.fields.difficulty.description")},null,8,["text"])]),_:1},8,["modelValue","items","label"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:a(()=>[e(c,{modelValue:t(i).prerequisite_id,"onUpdate:modelValue":o[5]||(o[5]=s=>t(i).prerequisite_id=s),items:[],label:l.$t("course.fields.prerequisite.label")},{"append-inner":a(()=>[e(n,{text:l.$t("course.fields.prerequisite.description")},null,8,["text"])]),_:1},8,["modelValue","label"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),e(x,{"is-dialog-visible":t(r),"onUpdate:isDialogVisible":o[6]||(o[6]=s=>S(r)?r.value=s:null),"allowed-file-types":["image/*"],"max-number-of-files":1,onDone:g},null,8,["is-dialog-visible"])],64)}}});export{ue as _};

import{_ as w}from"./FileUploaderDialog.vue_vue_type_script_setup_true_lang-7b25c490.js";import{_ as C}from"./AppSelect.vue_vue_type_script_setup_true_lang-4b71649a.js";import{_ as U}from"./InfoTooltip.vue_vue_type_script_setup_true_lang-2bad32a0.js";import{d as k,bZ as D,ci as b,r as m,w as q,o as f,c as V,b as e,f as i,b8 as B,b9 as h,q as t,h as F,aj as T,t as E,e as j,a0 as I,x as N,y as P,b0 as S,F as z}from"./main-dd42a7da.js";import{r as _}from"./validators-753247d6.js";import{M as A}from"./index-1f6eb7b0.js";import{U as M}from"./utils-d59cd350.js";import{V as O,a as u}from"./VRow-fd71155e.js";import{b as R}from"./VInput-842a483e.js";import{V as L}from"./VTextField-5a655f9e.js";import{V as Z}from"./VTextarea-e8970edd.js";import{V as G}from"./VForm-a596e7af.js";const H={key:0,style:{"max-block-size":"200px"},class:"h-100"},J={class:"d-flex flex-column align-center"},ue=k({__name:"CourseDetailsForm",props:{course:{default:()=>({title:"",description:"",status:D.Draft,difficulty:b.Beginner,thumbnail:null,prerequisite_id:null})}},setup(v,{expose:y,emit:K}){const p=v,r=m(!1),a=m(p.course),d=m({}),$=async()=>{try{const{valid:l}=await d.value.validate();return l?Promise.resolve(a.value):Promise.reject(new Error("validation faild"))}catch(l){throw l}},g=l=>{a.value.thumbnail=l[0].thumb_url,r.value=!1};return y({formEl:d,validate:$}),q(()=>p.course,l=>{a.value=l}),(l,o)=>{const n=U,c=C,x=w;return f(),V(z,null,[e(t(G),{ref_key:"formEl",ref:d},{default:i(()=>[e(B,null,{default:i(()=>[e(h,null,{default:i(()=>[e(O,{class:"mt-0"},{default:i(()=>[e(u,{cols:"12",md:"4"},{default:i(()=>[t(a).thumbnail?(f(),V("div",H,[e(A,{media:{thumb_url:t(a).thumbnail,status:2,type:"image"},deletable:"","is-preview":"",onOnDelete:o[0]||(o[0]=s=>t(a).thumbnail=null)},null,8,["media"])])):(f(),F(n,{key:1,text:l.$t("media.upload.description")},{default:i(({props:s})=>[e(T,E({...s,...t(M),style:"min-height: 130px"},{onClick:o[1]||(o[1]=Q=>r.value=!0)}),{default:i(()=>[j("div",J,[e(I,{icon:"flat-color-icons:add-image",size:"28"}),e(R,{class:"mt-2"},{default:i(()=>[N(P(l.$t("media.thumbnale")),1)]),_:1})])]),_:2},1040)]),_:1},8,["text"]))]),_:1}),e(u,{cols:"12",md:"8"},{default:i(()=>[e(L,{modelValue:t(a).title,"onUpdate:modelValue":o[2]||(o[2]=s=>t(a).title=s),rules:[t(_)],label:l.$t("course.fields.title.label"),class:"mb-5"},{"append-inner":i(()=>[e(n,{text:l.$t("course.fields.title.description")},null,8,["text"])]),_:1},8,["modelValue","rules","label"]),e(Z,{modelValue:t(a).description,"onUpdate:modelValue":o[3]||(o[3]=s=>t(a).description=s),rules:[t(_)],label:l.$t("course.fields.description.label")},{"append-inner":i(()=>[e(n,{text:l.$t("course.fields.description.description")},null,8,["text"])]),_:1},8,["modelValue","rules","label"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:i(()=>[e(c,{modelValue:t(a).difficulty,"onUpdate:modelValue":o[4]||(o[4]=s=>t(a).difficulty=s),items:Object.values(t(b)).map(s=>({title:l.$t(`course.fields.difficulty.options.${s}`),value:s})),label:l.$t("course.fields.difficulty.label")},{"append-inner":i(()=>[e(n,{text:l.$t("course.fields.difficulty.description")},null,8,["text"])]),_:1},8,["modelValue","items","label"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:i(()=>[e(c,{modelValue:t(a).prerequisite_id,"onUpdate:modelValue":o[5]||(o[5]=s=>t(a).prerequisite_id=s),items:[],label:l.$t("course.fields.prerequisite.label")},{"append-inner":i(()=>[e(n,{text:l.$t("course.fields.prerequisite.description")},null,8,["text"])]),_:1},8,["modelValue","label"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),e(x,{"is-dialog-visible":t(r),"onUpdate:isDialogVisible":o[6]||(o[6]=s=>S(r)?r.value=s:null),"allowed-file-types":["image/*"],"max-number-of-files":1,onDone:g},null,8,["is-dialog-visible"])],64)}}});export{ue as _};

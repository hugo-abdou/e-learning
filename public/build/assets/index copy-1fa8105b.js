import{_ as j}from"./CoursePlayList.vue_vue_type_script_setup_true_lang-c38a669e.js";import{_ as z}from"./ResponsiveText.vue_vue_type_script_setup_true_lang-ba0e4df2.js";import{d as q,d3 as H,s as O,t as y,au as Q,I as Z,L as J,a9 as K,r as W,o,i as h,y as a,B as s,ar as B,aF as X,e,f as l,aQ as Y,w as d,dV as b,af as V,ap as u,G as g,cI as v,aG as L,aH as ee,D as f,cZ as te,aI as ae,aP as se,F as oe,j as re,m as ie,E as k,dM as le,ah as ne,aq as ce,dU as de,aV as I}from"./main-0fb5c6c1.js";import{u as pe}from"./useCourseStore-bcb65a48.js";import{a as ue}from"./formatters-2598f6f8.js";import{M as me}from"./index-7381233a.js";import{V as fe}from"./VSpacer-a52f38da.js";import{V as _e}from"./VSlideGroup-7dea807f.js";import{V as ye}from"./VSlideGroupItem-8b3755f5.js";import{V as he}from"./VChip-3b2a7de1.js";import"./VMenu-0d165f1d.js";import"./VList-48ccb2a7.js";import{V as T}from"./VDivider-840de6e4.js";import"./InfoTooltip.vue_vue_type_script_setup_true_lang-5b9b39a6.js";import"./VTooltip-77b464e2.js";import"./ActionButton-8a4a1c1c.js";import"./VPagination-765357c7.js";const ve={class:"card"},ke={class:"position-relative"},xe={key:0},Ve={key:0,class:"position-absolute w-100 h-100 d-flex gap-1 align-center justify-center",style:{inset:"0","background-color":"rgba(0, 0, 0, 0.568)"}},ge={key:1},we={class:"d-flex flex-column"},Ce={class:"text-base"},be=d("p",{class:"text-xs"},"Lorem ipsum dolor sit amet",-1),Le={class:"mb-0 pt-1"},Se={class:"d-flex flex-wrap mt-5"},Be={class:"me-5"},Ie={class:"text-nowrap"},Te={class:"text-nowrap"},Me={class:"text-nowrap"},Pe={class:"text-nowrap"},Re={class:"text-nowrap"},Ne={class:"position-sticky",style:{top:"90px"}},Ae=q({__name:"index copy",setup(Ue){const M=H(),P=O(),_=y(!1),R=pe(),n=y(),m=y(!1),c=y(),S=y(),N=Q(),w=y(),A=Z(()=>{var p,r;return[{title:"edit",_if:N.user.id===((p=n.value)==null?void 0:p.author.id),props:{to:{name:"course-id-edit",params:{id:(r=n.value)==null?void 0:r.id}},"prepend-icon":"mdi-edit"}},{title:"share",_if:!0,props:{"prepend-icon":"tabler-share"}}]}),U=({page:p,pages:r})=>{console.log(p,r),p==r&&(m.value=!0)},C=()=>{S.value.next(),m.value=!1},$=()=>{setTimeout(()=>{var p;(p=w.value)==null||p.play()},500),m.value=!1};return J(c,p=>{p&&p.type==="video"&&(setTimeout(()=>{var r;(r=w.value)==null||r.play()},500),m.value=!1)}),K(async()=>{_.value=!0;try{n.value=await R.getCourse(Number(M.params.id),{additional:{chapters:!0}})}catch{P.push({name:"course"})}_.value=!1}),(p,r)=>{const E=de,G=z,D=W("RouterLink"),F=j;return o(),h("div",ve,[a(ce,null,{default:s(()=>[a(B,{cols:"12",md:"8"},{default:s(()=>[a(X,null,{default:s(()=>[!e(_)&&e(c)?(o(),l(Y,{key:0,class:"py-0 px-0"},{default:s(()=>{var t;return[d("div",ke,[e(c).type===e(b).video?(o(),h("div",xe,[a(E,{onReady:r[0]||(r[0]=i=>w.value=i.target.plyr),onEnded:r[1]||(r[1]=i=>m.value=!0),onPause:r[2]||(r[2]=i=>e(c).playing=!1),onPlay:r[3]||(r[3]=i=>e(c).playing=!0),src:e(c).url,poster:e(c).thumb_url,title:(t=e(n))==null?void 0:t.title},null,8,["src","poster","title"]),e(m)?(o(),h("div",Ve,[a(V,{onClick:$,color:"default","prepend-icon":"mdi-rotate-left"},{default:s(()=>[u("Start Over")]),_:1}),a(V,{onClick:C,color:"default","append-icon":"mdi-skip-forward"},{default:s(()=>[u("Continue")]),_:1})])):g("",!0)])):(o(),l(me,{"aspect-ratio":"1.77",media:e(c),key:e(c).id,"onUpdate:pdf":U,"is-preview":""},{"bottom-toolbar":s(()=>[e(c).type===e(b).pdf&&e(m)?(o(),l(V,{key:0,onClick:C,variant:"tonal",color:"default","append-icon":"mdi-skip-forward"},{default:s(()=>[u(" Continue ")]),_:1})):g("",!0),e(c).type===e(b).image?(o(),l(V,{key:1,onClick:C,variant:"tonal",color:"default","append-icon":"mdi-skip-forward"},{default:s(()=>[u(" Continue ")]),_:1})):g("",!0)]),_:1},8,["media"]))])]}),_:1})):(o(),l(e(v),{key:1,type:["image","image"]}))]),_:1}),e(_)?(o(),l(e(v),{key:1,type:["heading","list-item-avatar-three-line"]})):(o(),l(L,{key:0},{default:s(()=>[a(ee,{class:"text-capitalize text-h3 text-wrap d-flex"},{default:s(()=>{var t;return[a(G,{"max-lines":2,"char-width":3.5,text:((t=e(n))==null?void 0:t.title)||""},{default:s(({text:i})=>[u(f(i),1)]),_:1},8,["char-width","text"])]}),_:1}),a(te,{class:"d-flex mt-3 px-1 align-center"},{default:s(()=>[a(ae,{size:"35",class:"me-2"},{default:s(()=>{var t,i,x;return[(t=e(n))!=null&&t.author.profile_photo_url?(o(),l(se,{key:0,src:(i=e(n))==null?void 0:i.author.profile_photo_url,cover:""},null,8,["src"])):(o(),h("span",ge,f(e(ue)(((x=e(n))==null?void 0:x.author.name)||"")),1))]}),_:1}),d("div",we,[d("h6",Ce,[a(D,{to:"#",class:"font-weight-medium user-list-name text-grey-600"},{default:s(()=>{var t;return[u(f((t=e(n))==null?void 0:t.author.name),1)]}),_:1})]),be]),a(fe),a(_e,{"show-arrows":"","center-active":""},{default:s(()=>[(o(!0),h(oe,null,re(e(A).filter(({_if:t})=>t),t=>(o(),l(ye,{key:t.title},{default:s(()=>[a(he,ie(t.props,{class:"ma-1"}),{default:s(()=>[u(f(t.title),1)]),_:2},1040)]),_:2},1024))),128))]),_:1}),g("",!0)]),_:1})]),_:1})),a(T,{class:"mx-6"}),e(_)?(o(),l(e(v),{key:3,class:"py-5",type:["heading","paragraph"]})):(o(),l(L,{key:2,title:"About this course"},{default:s(()=>{var t;return[d("p",Le,f((t=e(n))==null?void 0:t.description),1)]}),_:1})),a(T,{class:"mx-6"}),e(_)?(o(),l(e(v),{key:5,class:"py-5",type:["heading","paragraph"]})):(o(),l(L,{key:4,title:"By the numbers"},{default:s(()=>{var t,i;return[d("div",Se,[d("div",Be,[d("p",Ie,[a(k,{icon:"mdi-check-all",class:"me-2 mt-n2"}),u(" Skill level: "+f((t=e(n))==null?void 0:t.difficulty),1)]),d("p",Te,[a(k,{icon:"mdi-users",class:"me-2 mt-n2"}),u("Students: 38,815")]),d("p",Me,[a(k,{icon:"mdi-flag",class:"me-2 mt-n2"}),u("Languages: English")])]),d("div",null,[d("p",Pe,[a(k,{icon:"mdi-pencil",class:"me-2 mt-n2"}),u("Lectures: 19")]),d("p",Re,[a(k,{icon:"mdi-clock",class:"me-2 mt-n2"}),u("Video: "+f(e(le)(((i=e(n))==null?void 0:i.duration)||0))+" total minutes ",1)])])])]}),_:1}))]),_:1}),a(B,{cols:"12",md:"4"},{default:s(()=>{var t,i;return[d("div",Ne,[(t=e(n))!=null&&t.chapters?(o(),l(F,{key:0,ref_key:"playList",ref:S,attachment:e(c),"onUpdate:attachment":r[4]||(r[4]=x=>ne(c)?c.value=x:null),chapters:(i=e(n))==null?void 0:i.chapters},null,8,["attachment","chapters"])):(o(),l(e(v),{key:1,type:Array(5).fill("list-item-avatar-three-line")},null,8,["type"]))])]}),_:1})]),_:1})])}}});typeof I=="function"&&I(Ae);export{Ae as default};

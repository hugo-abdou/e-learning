import{_ as F}from"./CoursePlayList.vue_vue_type_script_setup_true_lang-617219b7.js";import{_ as G}from"./ResponsiveText.vue_vue_type_script_setup_true_lang-deac35ce.js";import{d as q,l as O,m as X,r as y,a0 as Y,a7 as H,w as J,bX as K,a as Q,o,c as h,b as a,f as s,b8 as W,q as e,h as l,e as d,b_ as C,ak as V,x as u,k as g,be as Z,bY as v,ba as ee,y as f,bA as te,bb as ae,bh as se,F as oe,j as re,b9 as L,a1 as k,b$ as ie,b1 as le,c2 as ne,t as ce}from"./main-e240daf5.js";import{u as de}from"./useCourseStore-961c9c02.js";import{a as pe}from"./formatters-386d1040.js";import{M as ue}from"./index-ce27fec7.js";import{a as B,V as me}from"./VRow-aa2cbdf3.js";import{V as fe}from"./VSpacer-517dd3fc.js";import{V as _e}from"./VSlideGroup-0c3117e5.js";import{V as T}from"./VDivider-93f95dbb.js";import{V as ye}from"./VSlideGroupItem-702f09a9.js";import{V as he}from"./VChip-6e0dcd1f.js";import"./VMenu-949c4526.js";import"./VList-4243452f.js";import{b as R}from"./route-block-83d24a4e.js";import"./InfoTooltip.vue_vue_type_script_setup_true_lang-2b209485.js";import"./VTooltip-7030ecae.js";import"./ActionButton-3dcfae7b.js";import"./utils-860c5d06.js";import"./VPagination-b6aef300.js";const ve={class:"card"},ke={class:"position-relative"},xe={key:0},Ve={key:0,class:"position-absolute w-100 h-100 d-flex gap-1 align-center justify-center",style:{inset:"0","background-color":"rgba(0, 0, 0, 0.568)"}},ge={key:1},be={class:"d-flex flex-column"},we={class:"text-base"},Ce=d("p",{class:"text-xs"}," Lorem ipsum dolor sit amet ",-1),Le={class:"mb-0 pt-1"},Se={class:"d-flex flex-wrap mt-5"},Be={class:"me-5"},Te={class:"text-nowrap"},Re={class:"text-nowrap"},Me={class:"text-nowrap"},Ne={class:"text-nowrap"},Pe={class:"text-nowrap"},Ae={class:"position-sticky",style:{top:"90px"}},Ie=q({__name:"index copy",setup($e){const M=O(),N=X(),_=y(!1),P=de(),n=y(),m=y(!1),c=y(),S=y(),A=Y(),b=y(),I=H(()=>{var p,r;return[{title:"edit",_if:A.user.id===((p=n.value)==null?void 0:p.author.id),props:{to:{name:"course-id-edit",params:{id:(r=n.value)==null?void 0:r.id}},"prepend-icon":"mdi-edit"}},{title:"share",_if:!0,props:{"prepend-icon":"tabler-share"}}]}),$=({page:p,pages:r})=>{console.log(p,r),p==r&&(m.value=!0)},w=()=>{S.value.next(),m.value=!1},U=()=>{setTimeout(()=>{var p;(p=b.value)==null||p.play()},500),m.value=!1};return J(c,p=>{p&&p.type==="video"&&(setTimeout(()=>{var r;(r=b.value)==null||r.play()},500),m.value=!1)}),K(async()=>{_.value=!0;try{n.value=await P.getCourse(Number(M.params.id),{additional:{chapters:!0}})}catch{N.push({name:"course"})}_.value=!1}),(p,r)=>{const E=ne,j=G,z=Q("RouterLink"),D=F;return o(),h("div",ve,[a(me,null,{default:s(()=>[a(B,{cols:"12",md:"8"},{default:s(()=>[a(W,null,{default:s(()=>[!e(_)&&e(c)?(o(),l(Z,{key:0,class:"py-0 px-0"},{default:s(()=>{var t;return[d("div",ke,[e(c).type===e(C).video?(o(),h("div",xe,[a(E,{src:e(c).url,poster:e(c).thumb_url,title:(t=e(n))==null?void 0:t.title,onReady:r[0]||(r[0]=i=>b.value=i.target.plyr),onEnded:r[1]||(r[1]=i=>m.value=!0),onPause:r[2]||(r[2]=i=>e(c).playing=!1),onPlay:r[3]||(r[3]=i=>e(c).playing=!0)},null,8,["src","poster","title"]),e(m)?(o(),h("div",Ve,[a(V,{color:"default","prepend-icon":"mdi-rotate-left",onClick:U},{default:s(()=>[u(" Start Over ")]),_:1}),a(V,{color:"default","append-icon":"mdi-skip-forward",onClick:w},{default:s(()=>[u(" Continue ")]),_:1})])):g("",!0)])):(o(),l(ue,{key:e(c).id,"aspect-ratio":"1.77",media:e(c),"is-preview":"","onUpdate:pdf":$},{"bottom-toolbar":s(()=>[e(c).type===e(C).pdf&&e(m)?(o(),l(V,{key:0,variant:"tonal",color:"default","append-icon":"mdi-skip-forward",onClick:w},{default:s(()=>[u(" Continue ")]),_:1})):g("",!0),e(c).type===e(C).image?(o(),l(V,{key:1,variant:"tonal",color:"default","append-icon":"mdi-skip-forward",onClick:w},{default:s(()=>[u(" Continue ")]),_:1})):g("",!0)]),_:1},8,["media"]))])]}),_:1})):(o(),l(e(v),{key:1,type:["image","image"]}))]),_:1}),e(_)?(o(),l(e(v),{key:1,type:["heading","list-item-avatar-three-line"]})):(o(),l(L,{key:0},{default:s(()=>[a(ee,{class:"text-capitalize text-h3 text-wrap d-flex"},{default:s(()=>{var t;return[a(j,{"max-lines":2,"char-width":3.5,text:((t=e(n))==null?void 0:t.title)||""},{default:s(({text:i})=>[u(f(i),1)]),_:1},8,["text"])]}),_:1}),a(te,{class:"d-flex mt-3 px-1 align-center"},{default:s(()=>[a(ae,{size:"35",class:"me-2"},{default:s(()=>{var t,i,x;return[(t=e(n))!=null&&t.author.profile_photo_url?(o(),l(se,{key:0,src:(i=e(n))==null?void 0:i.author.profile_photo_url,cover:""},null,8,["src"])):(o(),h("span",ge,f(e(pe)(((x=e(n))==null?void 0:x.author.name)||"")),1))]}),_:1}),d("div",be,[d("h6",we,[a(z,{to:"#",class:"font-weight-medium user-list-name text-grey-600"},{default:s(()=>{var t;return[u(f((t=e(n))==null?void 0:t.author.name),1)]}),_:1})]),Ce]),a(fe),a(_e,{"show-arrows":"","center-active":""},{default:s(()=>[(o(!0),h(oe,null,re(e(I).filter(({_if:t})=>t),t=>(o(),l(ye,{key:t.title},{default:s(()=>[a(he,ce(t.props,{class:"ma-1"}),{default:s(()=>[u(f(t.title),1)]),_:2},1040)]),_:2},1024))),128))]),_:1}),g("",!0)]),_:1})]),_:1})),a(T,{class:"mx-6"}),e(_)?(o(),l(e(v),{key:3,class:"py-5",type:["heading","paragraph"]})):(o(),l(L,{key:2,title:"About this course"},{default:s(()=>{var t;return[d("p",Le,f((t=e(n))==null?void 0:t.description),1)]}),_:1})),a(T,{class:"mx-6"}),e(_)?(o(),l(e(v),{key:5,class:"py-5",type:["heading","paragraph"]})):(o(),l(L,{key:4,title:"By the numbers"},{default:s(()=>{var t,i;return[d("div",Se,[d("div",Be,[d("p",Te,[a(k,{icon:"mdi-check-all",class:"me-2 mt-n2"}),u(" Skill level: "+f((t=e(n))==null?void 0:t.difficulty),1)]),d("p",Re,[a(k,{icon:"mdi-users",class:"me-2 mt-n2"}),u("Students: 38,815 ")]),d("p",Me,[a(k,{icon:"mdi-flag",class:"me-2 mt-n2"}),u("Languages: English ")])]),d("div",null,[d("p",Ne,[a(k,{icon:"mdi-pencil",class:"me-2 mt-n2"}),u("Lectures: 19 ")]),d("p",Pe,[a(k,{icon:"mdi-clock",class:"me-2 mt-n2"}),u("Video: "+f(e(ie)(((i=e(n))==null?void 0:i.duration)||0))+" total minutes ",1)])])])]}),_:1}))]),_:1}),a(B,{cols:"12",md:"4"},{default:s(()=>{var t,i;return[d("div",Ae,[(t=e(n))!=null&&t.chapters?(o(),l(D,{key:0,ref_key:"playList",ref:S,attachment:e(c),"onUpdate:attachment":r[4]||(r[4]=x=>le(c)?c.value=x:null),chapters:(i=e(n))==null?void 0:i.chapters},null,8,["attachment","chapters"])):(o(),l(e(v),{key:1,type:Array(5).fill("list-item-avatar-three-line")},null,8,["type"]))])]}),_:1})]),_:1})])}}});typeof R=="function"&&R(Ie);export{Ie as default};
